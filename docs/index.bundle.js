(()=>{"use strict";var __webpack_modules__={208:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n;// CONCATENATED MODULE: ./src/assets/images/star-wars-logo.png\nconst star_wars_logo_namespaceObject = __webpack_require__.p + "assets/008e3ccd596f5948b8b6.png";\n;// CONCATENATED MODULE: ./src/modules/Header.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Header = /*#__PURE__*/function () {\n  function Header() {\n    _classCallCheck(this, Header);\n  }\n\n  _createClass(Header, [{\n    key: "renderHeader",\n    value: // DOM methods\n    function renderHeader(location) {\n      var header = document.createElement(\'header\');\n      header.innerHTML = "\\n      <h1>\\n        <img src=\\"".concat(star_wars_logo_namespaceObject, "\\" class=\\"star-wars-logo\\" alt=\\"Star Wars\\" />\\n      </h1>\\n      <h2>Tic-Tac-Toe</h2>\\n    ");\n      document.querySelector(location).appendChild(header);\n    }\n  }]);\n\n  return Header;\n}();\n\n/* harmony default export */ const modules_Header = (Header);\n;// CONCATENATED MODULE: ./src/modules/Footer.js\nfunction Footer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Footer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Footer_createClass(Constructor, protoProps, staticProps) { if (protoProps) Footer_defineProperties(Constructor.prototype, protoProps); if (staticProps) Footer_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Footer = /*#__PURE__*/function () {\n  function Footer() {\n    Footer_classCallCheck(this, Footer);\n  }\n\n  Footer_createClass(Footer, [{\n    key: "renderFooter",\n    value: // DOM methods\n    function renderFooter(location) {\n      var footer = document.createElement(\'footer\');\n      footer.innerHTML = "Created by <a href=\\"https://autumnchris.github.io/portfolio\\" target=\\"_blank\\">Autumn Bullard</a> &copy; ".concat(new Date().getFullYear());\n      document.querySelector(location).appendChild(footer);\n    }\n  }]);\n\n  return Footer;\n}();\n\n/* harmony default export */ const modules_Footer = (Footer);\n;// CONCATENATED MODULE: ./src/modules/NewGameModal.js\nfunction NewGameModal_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction NewGameModal_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction NewGameModal_createClass(Constructor, protoProps, staticProps) { if (protoProps) NewGameModal_defineProperties(Constructor.prototype, protoProps); if (staticProps) NewGameModal_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar NewGameModal = /*#__PURE__*/function () {\n  function NewGameModal() {\n    NewGameModal_classCallCheck(this, NewGameModal);\n  }\n\n  NewGameModal_createClass(NewGameModal, [{\n    key: "renderWinningPlayerIcon",\n    value: // DOM methods\n    function renderWinningPlayerIcon(winner, location) {\n      var winningPlayerIcon = document.createElement(\'div\');\n      winningPlayerIcon.classList.add(\'winning-player-icon\');\n\n      if (winner === \'draw\') {\n        winningPlayerIcon.innerHTML = "\\n        <span class=\\"fab fa-rebel rebellion-icon\\" aria-hidden=\\"true\\"></span>\\n        <span class=\\"fab fa-empire empire-icon\\" aria-hidden=\\"true\\"></span>\\n      ";\n      } else {\n        winningPlayerIcon.innerHTML = "<span class=\\"fab fa-".concat(winner === \'Rebellion\' ? \'rebel\' : \'empire\', " ").concat(winner.toLowerCase(), "-icon\\" aria-hidden=\\"true\\"></span>");\n      }\n\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(winningPlayerIcon);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(winningPlayerIcon, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "renderNewGameModal",\n    value: function renderNewGameModal(endGameMessage, winner, location) {\n      var newGameModal = document.createElement(\'div\');\n      newGameModal.setAttribute(\'id\', \'modal\');\n      newGameModal.classList.add(\'modal\');\n      newGameModal.innerHTML = "\\n      <div class=\\"modal-content\\">\\n        <div class=\\"modal-body\\">\\n          <p class=\\"end-game-message\\">".concat(endGameMessage, "</p>\\n          <div class=\\"button-group\\">\\n            <button type=\\"button\\" class=\\"button restart-button\\">Play Again</button>\\n            <button type=\\"button\\" class=\\"button game-settings-button\\">Settings</button>\\n          </div>\\n        </div>\\n      </div>\\n    ");\n      document.querySelector(location).appendChild(newGameModal);\n      document.querySelector(\'body\').classList.add(\'modal-open\');\n      this.renderWinningPlayerIcon(winner, [\'#modal .modal-body\', \'.end-game-message\']);\n    }\n  }, {\n    key: "removeNewGameModal",\n    value: function removeNewGameModal(location) {\n      var newGameModal = document.querySelector("".concat(location, " #modal"));\n      newGameModal ? document.querySelector(location).removeChild(newGameModal) : null;\n      document.querySelector(\'body\').classList.remove(\'modal-open\');\n    }\n  }]);\n\n  return NewGameModal;\n}();\n\n/* harmony default export */ const modules_NewGameModal = (NewGameModal);\n;// CONCATENATED MODULE: ./src/modules/Player.js\nfunction Player_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Player = function Player(playerType, playAs) {\n  Player_classCallCheck(this, Player);\n\n  this.playerType = playerType;\n  this.playAs = playAs;\n};\n\n/* harmony default export */ const modules_Player = (Player);\n;// CONCATENATED MODULE: ./src/modules/Game.js\nfunction Game_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Game_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Game_createClass(Constructor, protoProps, staticProps) { if (protoProps) Game_defineProperties(Constructor.prototype, protoProps); if (staticProps) Game_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Game = /*#__PURE__*/function () {\n  function Game() {\n    Game_classCallCheck(this, Game);\n\n    this.newGameModal = new modules_NewGameModal();\n    this.winningCombinations = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    this.gameSettings;\n    this.board;\n    this.playerOne;\n    this.playerTwo;\n    this.currentPlayer = null;\n    this.aiMoveDelay;\n  } // Resets and renders the game board for a new game\n\n\n  Game_createClass(Game, [{\n    key: "startNewGame",\n    value: function startNewGame(gameSettings) {\n      clearTimeout(this.aiMoveDelay);\n      this.gameSettings = gameSettings;\n      this.board = new Array(9).fill().map(function (square, index) {\n        return index;\n      });\n\n      if (gameSettings.players === \'1-player\') {\n        this.playerOne = new modules_Player(\'human\', gameSettings.playAs);\n        this.playerTwo = new modules_Player(\'ai\', gameSettings.playAs === \'Rebellion\' ? \'Empire\' : \'Rebellion\');\n      } else {\n        this.playerOne = new modules_Player(\'human\', \'Rebellion\');\n        this.playerTwo = new modules_Player(\'human\', \'Empire\');\n      }\n\n      this.currentPlayer = this.playerOne;\n      this.newGameModal.removeNewGameModal(\'main\');\n      this.removeGameBoard(\'.game-container\');\n      this.renderGameBoard(this.currentPlayer, \'.game-container\');\n    } // Click handler that allows the current player to select a square if it is the user\'s turn\n\n  }, {\n    key: "selectSquare",\n    value: function selectSquare(event) {\n      if (this.currentPlayer.playerType === \'human\') {\n        this.playTurn(event.target.id);\n      }\n    } // Plays the current player\'s selected square and then changes to the opposing player\'s turn if the game hasn\'t ended\n\n  }, {\n    key: "playTurn",\n    value: function playTurn(square) {\n      if (typeof this.board[square] === \'number\') {\n        this.board[square] = this.currentPlayer.playAs.toLowerCase();\n        this.addAttributesToSelectedSquare(square);\n\n        if (this.checkForWinner(this.currentPlayer)) {\n          this.highlightWinningSquares(this.currentPlayer);\n          this.endGame(this.currentPlayer.playAs);\n        } else if (this.checkForDraw()) {\n          this.endGame(\'draw\');\n        } else {\n          this.currentPlayer === this.playerOne ? this.currentPlayer = this.playerTwo : this.currentPlayer = this.playerOne;\n          this.updateCurrentTurnMessage();\n          if (this.currentPlayer.playerType === \'ai\') this.aiMoveDelay = setTimeout(this.changeToAiTurn.bind(this), 1200);\n        }\n      }\n    } // Determines whether to play the Easy AI or the Hard AI\n\n  }, {\n    key: "changeToAiTurn",\n    value: function changeToAiTurn() {\n      if (this.gameSettings.difficulty === \'hard\') {\n        this.playSmartAiTurn();\n      } else {\n        this.playRandomAiTurn();\n      }\n    } // AI picks an unplayed square at random (Easy mode)\n\n  }, {\n    key: "playRandomAiTurn",\n    value: function playRandomAiTurn() {\n      var availableSquares = this.checkAvailableSquares();\n      this.playTurn(availableSquares[Math.floor(Math.random() * availableSquares.length)]);\n    } // AI picks an unplayed square using the minimax algorithm (Hard mode)\n\n  }, {\n    key: "playSmartAiTurn",\n    value: function playSmartAiTurn() {\n      this.playTurn(this.handleMinimax(this.board, this.playerTwo.playAs).index);\n    } // Minimax algorithm which determines the best move the AI should play against the user during its turn\n\n  }, {\n    key: "handleMinimax",\n    value: function handleMinimax(board, player) {\n      var _this = this;\n\n      var availableSquares = this.checkAvailableSquares(board);\n      var bestTestMove = null;\n      var bestScore; // Human player (minimizing player)\n\n      if (this.checkForWinner(this.playerOne)) {\n        return {\n          score: -1\n        };\n      } // AI player (maximizing player)\n      else if (this.checkForWinner(this.playerTwo)) {\n        return {\n          score: 1\n        };\n      } else if (this.checkForDraw()) {\n        return {\n          score: 0\n        };\n      } else {\n        // Recursively tests potential move outcomes for the current player\n        var testMoves = availableSquares.reduce(function (acc, square) {\n          var testMove = {};\n          var result;\n          testMove.index = board[square];\n          board[square] = player.toLowerCase();\n\n          if (player === _this.playerTwo.playAs) {\n            result = _this.handleMinimax(board, _this.playerOne.playAs);\n            testMove.score = result.score;\n          } else {\n            result = _this.handleMinimax(board, _this.playerTwo.playAs);\n            testMove.score = result.score;\n          }\n\n          board[square] = testMove.index;\n          acc.push(testMove);\n          return acc;\n        }, []); // Uses array of test scores to determine the best move for the AI to play\n\n        if (player === this.playerTwo.playAs) {\n          bestScore = -Infinity;\n\n          for (var i = 0; i < testMoves.length; i++) {\n            if (testMoves[i].score > bestScore) {\n              bestScore = testMoves[i].score;\n              bestTestMove = i;\n            }\n          }\n        } else {\n          bestScore = Infinity;\n\n          for (var _i = 0; _i < testMoves.length; _i++) {\n            if (testMoves[_i].score < bestScore) {\n              bestScore = testMoves[_i].score;\n              bestTestMove = _i;\n            }\n          }\n        }\n\n        return testMoves[bestTestMove];\n      }\n    } // Checks the board to see if the current player has matched one of the possible winning combinations\n\n  }, {\n    key: "checkForWinner",\n    value: function checkForWinner(player) {\n      var _this2 = this;\n\n      return this.winningCombinations.find(function (combination) {\n        return combination.every(function (val) {\n          return _this2.board[val] === player.playAs.toLowerCase();\n        });\n      });\n    } // Checks the board to see if every square has been filled without a winner\n\n  }, {\n    key: "checkForDraw",\n    value: function checkForDraw() {\n      return this.board.every(function (square) {\n        return typeof square !== \'number\';\n      });\n    } // Checks to see which squares on the board haven\'t been played yet in the current game\n\n  }, {\n    key: "checkAvailableSquares",\n    value: function checkAvailableSquares() {\n      return this.board.filter(function (square) {\n        return typeof square === \'number\';\n      });\n    } // Ends the current game if a player has won or if there is a draw\n\n  }, {\n    key: "endGame",\n    value: function endGame(winner) {\n      var endGameMessage;\n      winner === \'draw\' ? endGameMessage = \'It\\\'s a draw!\' : endGameMessage = "The ".concat(winner, " won!");\n      this.newGameModal.renderNewGameModal(endGameMessage, winner, \'main\');\n      document.querySelectorAll(\'.square\').forEach(function (square) {\n        square.classList.add(\'game-ended\');\n      });\n    } // Event listeners\n\n  }, {\n    key: "events",\n    value: function events() {\n      var _this3 = this;\n\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'.game-board .square-container .square\') ? _this3.selectSquare(event) : null;\n        element.matches(\'#modal .restart-button\') ? _this3.startNewGame(_this3.gameSettings) : null;\n      });\n    } // DOM methods\n\n  }, {\n    key: "updateCurrentTurnMessage",\n    value: function updateCurrentTurnMessage() {\n      var currentTurnMessage = document.querySelector(\'.current-turn-message\');\n      currentTurnMessage.innerHTML = "It\'s the ".concat(this.currentPlayer.playAs, "\'s turn.");\n      ;\n    }\n  }, {\n    key: "addAttributesToSelectedSquare",\n    value: function addAttributesToSelectedSquare(square) {\n      document.getElementById(square).classList.add("fa-".concat(this.currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\'), "".concat(this.currentPlayer.playAs.toLowerCase(), "-icon"), \'selected\');\n      document.getElementById(square).setAttribute(\'aria-label\', this.currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\');\n    }\n  }, {\n    key: "highlightWinningSquares",\n    value: function highlightWinningSquares(player) {\n      var winningSquares = this.checkForWinner(player);\n      return winningSquares.map(function (square) {\n        document.getElementById(square).classList.add(\'winning-square\');\n      });\n    }\n  }, {\n    key: "renderGameBoard",\n    value: function renderGameBoard(firstPlayer, location) {\n      var gameBoard = document.createElement(\'div\');\n      gameBoard.classList.add(\'board-container\');\n      gameBoard.innerHTML = "\\n      <p class=\\"current-turn-message\\">The ".concat(firstPlayer.playAs, " goes first!</p>\\n      <div class=\\"game-board\\">").concat(this.board.map(function (square, index) {\n        return "<div class=\\"square-container\\">\\n          <button class=\\"square fab\\" id=\\"".concat(index, "\\"></button>\\n        </div>");\n      }).join(\'\'), "</div>\\n      <button type=\\"button\\" class=\\"button restart-button\\">Restart</button>\\n    ");\n      document.querySelector(location).appendChild(gameBoard);\n      this.events();\n    }\n  }, {\n    key: "removeGameBoard",\n    value: function removeGameBoard(location) {\n      var gameBoard = document.querySelector("".concat(location, " .board-container"));\n      gameBoard ? document.querySelector(location).removeChild(gameBoard) : null;\n    }\n  }]);\n\n  return Game;\n}();\n\n/* harmony default export */ const modules_Game = (Game);\n;// CONCATENATED MODULE: ./src/modules/SettingsFormData.js\nfunction SettingsFormData_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar SettingsFormData = function SettingsFormData(players, difficulty, playAs) {\n  SettingsFormData_classCallCheck(this, SettingsFormData);\n\n  this.players = players;\n  this.difficulty = difficulty;\n  this.playAs = playAs;\n};\n\n/* harmony default export */ const modules_SettingsFormData = (SettingsFormData);\n;// CONCATENATED MODULE: ./src/modules/GameSettings.js\nfunction GameSettings_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction GameSettings_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction GameSettings_createClass(Constructor, protoProps, staticProps) { if (protoProps) GameSettings_defineProperties(Constructor.prototype, protoProps); if (staticProps) GameSettings_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar GameSettings = /*#__PURE__*/function () {\n  function GameSettings() {\n    GameSettings_classCallCheck(this, GameSettings);\n\n    this.game = new modules_Game();\n    this.newGameModal = new modules_NewGameModal();\n  }\n\n  GameSettings_createClass(GameSettings, [{\n    key: "handleSubmit",\n    value: function handleSubmit(event, gameSettingsData) {\n      event.preventDefault();\n      var gameSettings = new modules_SettingsFormData(gameSettingsData.players, gameSettingsData.difficulty, gameSettingsData.playAs);\n      this.removeGameSettings(\'.game-container\');\n      this.game.startNewGame(gameSettings);\n    }\n  }, {\n    key: "toggleOnePlayerSettings",\n    value: function toggleOnePlayerSettings(players) {\n      this.removeOnePlayerSettings(\'.game-settings-form\');\n\n      if (players === \'1-player\') {\n        this.renderOnePlayerSettings([\'.game-settings-form\', \'.button-group\']);\n      }\n    }\n  }, {\n    key: "openGameSettings",\n    value: function openGameSettings() {\n      this.newGameModal.removeNewGameModal(\'main\');\n      this.game.removeGameBoard(\'.game-container\');\n      this.renderGameSettings(\'.game-container\');\n    } // DOM methods\n\n  }, {\n    key: "renderOnePlayerSettings",\n    value: function renderOnePlayerSettings(location) {\n      var onePlayerSettings = document.createElement(\'div\');\n      onePlayerSettings.classList.add(\'one-player-settings\');\n      onePlayerSettings.innerHTML = "\\n      <div class=\\"form-group one-player-setting difficulty\\">\\n        <label for=\\"difficulty-input\\">Difficulty:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"difficulty\\" id=\\"difficulty-input\\" autocomplete=\\"off\\" required>\\n            <option value=\\"easy\\" selected>Easy</option>\\n            <option value=\\"hard\\">Hard</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\"form-group one-player-setting play-as\\">\\n        <label for=\\"play-as-input\\">Play as:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"playAs\\" id=\\"play-as-input\\" autocomplete=\\"off\\" required>\\n            <option value=\\"Rebellion\\" selected>Rebel Alliance</option>\\n            <option value=\\"Empire\\">Galactic Empire</option>\\n          </select>\\n        </div>\\n      </div>\\n    ";\n\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(onePlayerSettings);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(onePlayerSettings, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "removeOnePlayerSettings",\n    value: function removeOnePlayerSettings(location) {\n      var onePlayerSettings = document.querySelector("".concat(location, " .one-player-settings"));\n      onePlayerSettings ? document.querySelector(location).removeChild(onePlayerSettings) : null;\n    }\n  }, {\n    key: "renderGameSettings",\n    value: function renderGameSettings(location) {\n      var gameSettings = document.createElement(\'div\');\n      gameSettings.classList.add(\'game-settings-container\');\n      gameSettings.innerHTML = "\\n      <h3>Start a New Game</h3>\\n      <form class=\\"game-settings-form\\" novalidate>\\n        <div class=\\"form-group players\\">\\n          <label for=\\"players-input\\">Players:</label>\\n          <div class=\\"select-wrapper\\">\\n            <select name=\\"players\\" id=\\"players-input\\" autocomplete=\\"off\\" required>\\n              <option value=\\"1-player\\" selected>Organic vs. Droid (1-Player)</option>\\n              <option value=\\"2-player\\">Organic vs. Organic (2-Player)</option>\\n            </select>\\n          </div>\\n        </div>\\n        <div class=\\"button-group\\">\\n          <button type=\\"submit\\" class=\\"button start-button\\">Start</button>\\n        </div>\\n      </form>\\n    ";\n      document.querySelector(location).appendChild(gameSettings);\n      this.toggleOnePlayerSettings(\'1-player\');\n    }\n  }, {\n    key: "removeGameSettings",\n    value: function removeGameSettings(location) {\n      var gameSettings = document.querySelector("".concat(location, " .game-settings-container"));\n      gameSettings ? document.querySelector(location).removeChild(gameSettings) : null;\n    }\n  }]);\n\n  return GameSettings;\n}();\n\n/* harmony default export */ const modules_GameSettings = (GameSettings);\n;// CONCATENATED MODULE: ./src/App.js\nfunction App_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction App_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction App_createClass(Constructor, protoProps, staticProps) { if (protoProps) App_defineProperties(Constructor.prototype, protoProps); if (staticProps) App_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    App_classCallCheck(this, App);\n\n    this.header = new modules_Header();\n    this.footer = new modules_Footer();\n    this.gameSettings = new modules_GameSettings();\n    this.renderApp();\n  } // Event listeners\n\n\n  App_createClass(App, [{\n    key: "events",\n    value: function events() {\n      var _this = this;\n\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'#modal .game-settings-button\') ? _this.gameSettings.openGameSettings() : null;\n      });\n      document.addEventListener(\'change\', function (event) {\n        var element = event.target;\n        element.matches(\'.game-settings-form #players-input\') ? _this.gameSettings.toggleOnePlayerSettings(element.value) : null;\n      });\n      document.addEventListener(\'submit\', function (event) {\n        var element = event.target;\n\n        if (element.matches(\'.game-settings-form\')) {\n          element.difficulty && element.playAs ? _this.gameSettings.handleSubmit(event, {\n            players: document.getElementById(\'players-input\').value,\n            difficulty: document.getElementById(\'difficulty-input\').value,\n            playAs: document.getElementById(\'play-as-input\').value\n          }) : _this.gameSettings.handleSubmit(event, {\n            players: document.getElementById(\'players-input\').value,\n            difficulty: null,\n            playAs: null\n          });\n        }\n      });\n    } // DOM methods\n\n  }, {\n    key: "renderApp",\n    value: function renderApp() {\n      this.header.renderHeader(\'#app\');\n      this.renderMain(\'#app\');\n      this.footer.renderFooter(\'#app\');\n      this.gameSettings.openGameSettings();\n      this.events();\n    }\n  }, {\n    key: "renderMain",\n    value: function renderMain(location) {\n      var main = document.createElement(\'main\');\n      main.innerHTML = "<div class=\\"game-container\\"></div>";\n      document.querySelector(location).appendChild(main);\n    }\n  }]);\n\n  return App;\n}();\n\n/* harmony default export */ const src_App = (App);\n;// CONCATENATED MODULE: ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/index.html\n/* harmony default export */ const cjsname_name_ext_src = (__webpack_require__.p + "index.html");\n;// CONCATENATED MODULE: ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/favicon.ico\n/* harmony default export */ const favicon = (__webpack_require__.p + "favicon.ico");\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\nnew src_App();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDblFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEVBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9IZWFkZXIuanM/ZTg1YyIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvRm9vdGVyLmpzPzQxM2YiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9tb2R1bGVzL05ld0dhbWVNb2RhbC5qcz9jNGU4Iiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9QbGF5ZXIuanM/NzJjZiIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvR2FtZS5qcz84OTRjIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9TZXR0aW5nc0Zvcm1EYXRhLmpzP2QwMGEiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9tb2R1bGVzL0dhbWVTZXR0aW5ncy5qcz9hZWY4Iiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvQXBwLmpzPzMzMjciLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9pbmRleC5odG1sPzczY2YiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9mYXZpY29uLmljbz9hZTcwIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvaW5kZXguanM/ZDliZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCBzdGFyV2Fyc0xvZ28gZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy9zdGFyLXdhcnMtbG9nby5wbmcnO1xuXG52YXIgSGVhZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGVhZGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcbiAgICBrZXk6IFwicmVuZGVySGVhZGVyXCIsXG4gICAgdmFsdWU6IC8vIERPTSBtZXRob2RzXG4gICAgZnVuY3Rpb24gcmVuZGVySGVhZGVyKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gICAgICBoZWFkZXIuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8aDE+XFxuICAgICAgICA8aW1nIHNyYz1cXFwiXCIuY29uY2F0KHN0YXJXYXJzTG9nbywgXCJcXFwiIGNsYXNzPVxcXCJzdGFyLXdhcnMtbG9nb1xcXCIgYWx0PVxcXCJTdGFyIFdhcnNcXFwiIC8+XFxuICAgICAgPC9oMT5cXG4gICAgICA8aDI+VGljLVRhYy1Ub2U8L2gyPlxcbiAgICBcIik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIZWFkZXI7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBGb290ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGb290ZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvb3Rlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRm9vdGVyLCBbe1xuICAgIGtleTogXCJyZW5kZXJGb290ZXJcIixcbiAgICB2YWx1ZTogLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJGb290ZXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb290ZXInKTtcbiAgICAgIGZvb3Rlci5pbm5lckhUTUwgPSBcIkNyZWF0ZWQgYnkgPGEgaHJlZj1cXFwiaHR0cHM6Ly9hdXR1bW5jaHJpcy5naXRodWIuaW8vcG9ydGZvbGlvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+QXV0dW1uIEJ1bGxhcmQ8L2E+ICZjb3B5OyBcIi5jb25jYXQobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGZvb3Rlcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZvb3Rlcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRm9vdGVyOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIE5ld0dhbWVNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE5ld0dhbWVNb2RhbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmV3R2FtZU1vZGFsKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOZXdHYW1lTW9kYWwsIFt7XG4gICAga2V5OiBcInJlbmRlcldpbm5pbmdQbGF5ZXJJY29uXCIsXG4gICAgdmFsdWU6IC8vIERPTSBtZXRob2RzXG4gICAgZnVuY3Rpb24gcmVuZGVyV2lubmluZ1BsYXllckljb24od2lubmVyLCBsb2NhdGlvbikge1xuICAgICAgdmFyIHdpbm5pbmdQbGF5ZXJJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB3aW5uaW5nUGxheWVySWNvbi5jbGFzc0xpc3QuYWRkKCd3aW5uaW5nLXBsYXllci1pY29uJyk7XG5cbiAgICAgIGlmICh3aW5uZXIgPT09ICdkcmF3Jykge1xuICAgICAgICB3aW5uaW5nUGxheWVySWNvbi5pbm5lckhUTUwgPSBcIlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImZhYiBmYS1yZWJlbCByZWJlbGxpb24taWNvblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJmYWIgZmEtZW1waXJlIGVtcGlyZS1pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPlxcbiAgICAgIFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lubmluZ1BsYXllckljb24uaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz1cXFwiZmFiIGZhLVwiLmNvbmNhdCh3aW5uZXIgPT09ICdSZWJlbGxpb24nID8gJ3JlYmVsJyA6ICdlbXBpcmUnLCBcIiBcIikuY29uY2F0KHdpbm5lci50b0xvd2VyQ2FzZSgpLCBcIi1pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPlwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQod2lubmluZ1BsYXllckljb24pO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxvY2F0aW9uKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uWzBdKS5pbnNlcnRCZWZvcmUod2lubmluZ1BsYXllckljb24sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyTmV3R2FtZU1vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck5ld0dhbWVNb2RhbChlbmRHYW1lTWVzc2FnZSwgd2lubmVyLCBsb2NhdGlvbikge1xuICAgICAgdmFyIG5ld0dhbWVNb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbmV3R2FtZU1vZGFsLnNldEF0dHJpYnV0ZSgnaWQnLCAnbW9kYWwnKTtcbiAgICAgIG5ld0dhbWVNb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICAgICAgbmV3R2FtZU1vZGFsLmlubmVySFRNTCA9IFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gICAgICAgICAgPHAgY2xhc3M9XFxcImVuZC1nYW1lLW1lc3NhZ2VcXFwiPlwiLmNvbmNhdChlbmRHYW1lTWVzc2FnZSwgXCI8L3A+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gcmVzdGFydC1idXR0b25cXFwiPlBsYXkgQWdhaW48L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiBnYW1lLXNldHRpbmdzLWJ1dHRvblxcXCI+U2V0dGluZ3M8L2J1dHRvbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQobmV3R2FtZU1vZGFsKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vcGVuJyk7XG4gICAgICB0aGlzLnJlbmRlcldpbm5pbmdQbGF5ZXJJY29uKHdpbm5lciwgWycjbW9kYWwgLm1vZGFsLWJvZHknLCAnLmVuZC1nYW1lLW1lc3NhZ2UnXSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZU5ld0dhbWVNb2RhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVOZXdHYW1lTW9kYWwobG9jYXRpb24pIHtcbiAgICAgIHZhciBuZXdHYW1lTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAjbW9kYWxcIikpO1xuICAgICAgbmV3R2FtZU1vZGFsID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQobmV3R2FtZU1vZGFsKSA6IG51bGw7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBOZXdHYW1lTW9kYWw7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IE5ld0dhbWVNb2RhbDsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUGxheWVyID0gZnVuY3Rpb24gUGxheWVyKHBsYXllclR5cGUsIHBsYXlBcykge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxheWVyKTtcblxuICB0aGlzLnBsYXllclR5cGUgPSBwbGF5ZXJUeXBlO1xuICB0aGlzLnBsYXlBcyA9IHBsYXlBcztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCBOZXdHYW1lTW9kYWwgZnJvbSAnLi9OZXdHYW1lTW9kYWwnO1xuaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllcic7XG5cbnZhciBHYW1lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2FtZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2FtZSk7XG5cbiAgICB0aGlzLm5ld0dhbWVNb2RhbCA9IG5ldyBOZXdHYW1lTW9kYWwoKTtcbiAgICB0aGlzLndpbm5pbmdDb21iaW5hdGlvbnMgPSBbWzAsIDEsIDJdLCBbMywgNCwgNV0sIFs2LCA3LCA4XSwgWzAsIDMsIDZdLCBbMSwgNCwgN10sIFsyLCA1LCA4XSwgWzAsIDQsIDhdLCBbMiwgNCwgNl1dO1xuICAgIHRoaXMuZ2FtZVNldHRpbmdzO1xuICAgIHRoaXMuYm9hcmQ7XG4gICAgdGhpcy5wbGF5ZXJPbmU7XG4gICAgdGhpcy5wbGF5ZXJUd287XG4gICAgdGhpcy5jdXJyZW50UGxheWVyID0gbnVsbDtcbiAgICB0aGlzLmFpTW92ZURlbGF5O1xuICB9IC8vIFJlc2V0cyBhbmQgcmVuZGVycyB0aGUgZ2FtZSBib2FyZCBmb3IgYSBuZXcgZ2FtZVxuXG5cbiAgX2NyZWF0ZUNsYXNzKEdhbWUsIFt7XG4gICAga2V5OiBcInN0YXJ0TmV3R2FtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydE5ld0dhbWUoZ2FtZVNldHRpbmdzKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5haU1vdmVEZWxheSk7XG4gICAgICB0aGlzLmdhbWVTZXR0aW5ncyA9IGdhbWVTZXR0aW5ncztcbiAgICAgIHRoaXMuYm9hcmQgPSBuZXcgQXJyYXkoOSkuZmlsbCgpLm1hcChmdW5jdGlvbiAoc3F1YXJlLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGdhbWVTZXR0aW5ncy5wbGF5ZXJzID09PSAnMS1wbGF5ZXInKSB7XG4gICAgICAgIHRoaXMucGxheWVyT25lID0gbmV3IFBsYXllcignaHVtYW4nLCBnYW1lU2V0dGluZ3MucGxheUFzKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJUd28gPSBuZXcgUGxheWVyKCdhaScsIGdhbWVTZXR0aW5ncy5wbGF5QXMgPT09ICdSZWJlbGxpb24nID8gJ0VtcGlyZScgOiAnUmViZWxsaW9uJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXllck9uZSA9IG5ldyBQbGF5ZXIoJ2h1bWFuJywgJ1JlYmVsbGlvbicpO1xuICAgICAgICB0aGlzLnBsYXllclR3byA9IG5ldyBQbGF5ZXIoJ2h1bWFuJywgJ0VtcGlyZScpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLnBsYXllck9uZTtcbiAgICAgIHRoaXMubmV3R2FtZU1vZGFsLnJlbW92ZU5ld0dhbWVNb2RhbCgnbWFpbicpO1xuICAgICAgdGhpcy5yZW1vdmVHYW1lQm9hcmQoJy5nYW1lLWNvbnRhaW5lcicpO1xuICAgICAgdGhpcy5yZW5kZXJHYW1lQm9hcmQodGhpcy5jdXJyZW50UGxheWVyLCAnLmdhbWUtY29udGFpbmVyJyk7XG4gICAgfSAvLyBDbGljayBoYW5kbGVyIHRoYXQgYWxsb3dzIHRoZSBjdXJyZW50IHBsYXllciB0byBzZWxlY3QgYSBzcXVhcmUgaWYgaXQgaXMgdGhlIHVzZXIncyB0dXJuXG5cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RTcXVhcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0U3F1YXJlKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50UGxheWVyLnBsYXllclR5cGUgPT09ICdodW1hbicpIHtcbiAgICAgICAgdGhpcy5wbGF5VHVybihldmVudC50YXJnZXQuaWQpO1xuICAgICAgfVxuICAgIH0gLy8gUGxheXMgdGhlIGN1cnJlbnQgcGxheWVyJ3Mgc2VsZWN0ZWQgc3F1YXJlIGFuZCB0aGVuIGNoYW5nZXMgdG8gdGhlIG9wcG9zaW5nIHBsYXllcidzIHR1cm4gaWYgdGhlIGdhbWUgaGFzbid0IGVuZGVkXG5cbiAgfSwge1xuICAgIGtleTogXCJwbGF5VHVyblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5VHVybihzcXVhcmUpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5ib2FyZFtzcXVhcmVdID09PSAnbnVtYmVyJykge1xuICAgICAgICB0aGlzLmJvYXJkW3NxdWFyZV0gPSB0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlc1RvU2VsZWN0ZWRTcXVhcmUoc3F1YXJlKTtcblxuICAgICAgICBpZiAodGhpcy5jaGVja0Zvcldpbm5lcih0aGlzLmN1cnJlbnRQbGF5ZXIpKSB7XG4gICAgICAgICAgdGhpcy5oaWdobGlnaHRXaW5uaW5nU3F1YXJlcyh0aGlzLmN1cnJlbnRQbGF5ZXIpO1xuICAgICAgICAgIHRoaXMuZW5kR2FtZSh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoZWNrRm9yRHJhdygpKSB7XG4gICAgICAgICAgdGhpcy5lbmRHYW1lKCdkcmF3Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyID09PSB0aGlzLnBsYXllck9uZSA/IHRoaXMuY3VycmVudFBsYXllciA9IHRoaXMucGxheWVyVHdvIDogdGhpcy5jdXJyZW50UGxheWVyID0gdGhpcy5wbGF5ZXJPbmU7XG4gICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VHVybk1lc3NhZ2UoKTtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGxheWVyLnBsYXllclR5cGUgPT09ICdhaScpIHRoaXMuYWlNb3ZlRGVsYXkgPSBzZXRUaW1lb3V0KHRoaXMuY2hhbmdlVG9BaVR1cm4uYmluZCh0aGlzKSwgMTIwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIERldGVybWluZXMgd2hldGhlciB0byBwbGF5IHRoZSBFYXN5IEFJIG9yIHRoZSBIYXJkIEFJXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGFuZ2VUb0FpVHVyblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VUb0FpVHVybigpIHtcbiAgICAgIGlmICh0aGlzLmdhbWVTZXR0aW5ncy5kaWZmaWN1bHR5ID09PSAnaGFyZCcpIHtcbiAgICAgICAgdGhpcy5wbGF5U21hcnRBaVR1cm4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGxheVJhbmRvbUFpVHVybigpO1xuICAgICAgfVxuICAgIH0gLy8gQUkgcGlja3MgYW4gdW5wbGF5ZWQgc3F1YXJlIGF0IHJhbmRvbSAoRWFzeSBtb2RlKVxuXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVJhbmRvbUFpVHVyblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5UmFuZG9tQWlUdXJuKCkge1xuICAgICAgdmFyIGF2YWlsYWJsZVNxdWFyZXMgPSB0aGlzLmNoZWNrQXZhaWxhYmxlU3F1YXJlcygpO1xuICAgICAgdGhpcy5wbGF5VHVybihhdmFpbGFibGVTcXVhcmVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF2YWlsYWJsZVNxdWFyZXMubGVuZ3RoKV0pO1xuICAgIH0gLy8gQUkgcGlja3MgYW4gdW5wbGF5ZWQgc3F1YXJlIHVzaW5nIHRoZSBtaW5pbWF4IGFsZ29yaXRobSAoSGFyZCBtb2RlKVxuXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVNtYXJ0QWlUdXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXlTbWFydEFpVHVybigpIHtcbiAgICAgIHRoaXMucGxheVR1cm4odGhpcy5oYW5kbGVNaW5pbWF4KHRoaXMuYm9hcmQsIHRoaXMucGxheWVyVHdvLnBsYXlBcykuaW5kZXgpO1xuICAgIH0gLy8gTWluaW1heCBhbGdvcml0aG0gd2hpY2ggZGV0ZXJtaW5lcyB0aGUgYmVzdCBtb3ZlIHRoZSBBSSBzaG91bGQgcGxheSBhZ2FpbnN0IHRoZSB1c2VyIGR1cmluZyBpdHMgdHVyblxuXG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlTWluaW1heFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVNaW5pbWF4KGJvYXJkLCBwbGF5ZXIpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBhdmFpbGFibGVTcXVhcmVzID0gdGhpcy5jaGVja0F2YWlsYWJsZVNxdWFyZXMoYm9hcmQpO1xuICAgICAgdmFyIGJlc3RUZXN0TW92ZSA9IG51bGw7XG4gICAgICB2YXIgYmVzdFNjb3JlOyAvLyBIdW1hbiBwbGF5ZXIgKG1pbmltaXppbmcgcGxheWVyKVxuXG4gICAgICBpZiAodGhpcy5jaGVja0Zvcldpbm5lcih0aGlzLnBsYXllck9uZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY29yZTogLTFcbiAgICAgICAgfTtcbiAgICAgIH0gLy8gQUkgcGxheWVyIChtYXhpbWl6aW5nIHBsYXllcilcbiAgICAgIGVsc2UgaWYgKHRoaXMuY2hlY2tGb3JXaW5uZXIodGhpcy5wbGF5ZXJUd28pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NvcmU6IDFcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGVja0ZvckRyYXcoKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNjb3JlOiAwXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSB0ZXN0cyBwb3RlbnRpYWwgbW92ZSBvdXRjb21lcyBmb3IgdGhlIGN1cnJlbnQgcGxheWVyXG4gICAgICAgIHZhciB0ZXN0TW92ZXMgPSBhdmFpbGFibGVTcXVhcmVzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBzcXVhcmUpIHtcbiAgICAgICAgICB2YXIgdGVzdE1vdmUgPSB7fTtcbiAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgIHRlc3RNb3ZlLmluZGV4ID0gYm9hcmRbc3F1YXJlXTtcbiAgICAgICAgICBib2FyZFtzcXVhcmVdID0gcGxheWVyLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICBpZiAocGxheWVyID09PSBfdGhpcy5wbGF5ZXJUd28ucGxheUFzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBfdGhpcy5oYW5kbGVNaW5pbWF4KGJvYXJkLCBfdGhpcy5wbGF5ZXJPbmUucGxheUFzKTtcbiAgICAgICAgICAgIHRlc3RNb3ZlLnNjb3JlID0gcmVzdWx0LnNjb3JlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBfdGhpcy5oYW5kbGVNaW5pbWF4KGJvYXJkLCBfdGhpcy5wbGF5ZXJUd28ucGxheUFzKTtcbiAgICAgICAgICAgIHRlc3RNb3ZlLnNjb3JlID0gcmVzdWx0LnNjb3JlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJvYXJkW3NxdWFyZV0gPSB0ZXN0TW92ZS5pbmRleDtcbiAgICAgICAgICBhY2MucHVzaCh0ZXN0TW92ZSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pOyAvLyBVc2VzIGFycmF5IG9mIHRlc3Qgc2NvcmVzIHRvIGRldGVybWluZSB0aGUgYmVzdCBtb3ZlIGZvciB0aGUgQUkgdG8gcGxheVxuXG4gICAgICAgIGlmIChwbGF5ZXIgPT09IHRoaXMucGxheWVyVHdvLnBsYXlBcykge1xuICAgICAgICAgIGJlc3RTY29yZSA9IC1JbmZpbml0eTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVzdE1vdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGVzdE1vdmVzW2ldLnNjb3JlID4gYmVzdFNjb3JlKSB7XG4gICAgICAgICAgICAgIGJlc3RTY29yZSA9IHRlc3RNb3Zlc1tpXS5zY29yZTtcbiAgICAgICAgICAgICAgYmVzdFRlc3RNb3ZlID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmVzdFNjb3JlID0gSW5maW5pdHk7XG5cbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGVzdE1vdmVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgaWYgKHRlc3RNb3Zlc1tfaV0uc2NvcmUgPCBiZXN0U2NvcmUpIHtcbiAgICAgICAgICAgICAgYmVzdFNjb3JlID0gdGVzdE1vdmVzW19pXS5zY29yZTtcbiAgICAgICAgICAgICAgYmVzdFRlc3RNb3ZlID0gX2k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRlc3RNb3Zlc1tiZXN0VGVzdE1vdmVdO1xuICAgICAgfVxuICAgIH0gLy8gQ2hlY2tzIHRoZSBib2FyZCB0byBzZWUgaWYgdGhlIGN1cnJlbnQgcGxheWVyIGhhcyBtYXRjaGVkIG9uZSBvZiB0aGUgcG9zc2libGUgd2lubmluZyBjb21iaW5hdGlvbnNcblxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrRm9yV2lubmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yV2lubmVyKHBsYXllcikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLndpbm5pbmdDb21iaW5hdGlvbnMuZmluZChmdW5jdGlvbiAoY29tYmluYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmF0aW9uLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmJvYXJkW3ZhbF0gPT09IHBsYXllci5wbGF5QXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IC8vIENoZWNrcyB0aGUgYm9hcmQgdG8gc2VlIGlmIGV2ZXJ5IHNxdWFyZSBoYXMgYmVlbiBmaWxsZWQgd2l0aG91dCBhIHdpbm5lclxuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tGb3JEcmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yRHJhdygpIHtcbiAgICAgIHJldHVybiB0aGlzLmJvYXJkLmV2ZXJ5KGZ1bmN0aW9uIChzcXVhcmUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzcXVhcmUgIT09ICdudW1iZXInO1xuICAgICAgfSk7XG4gICAgfSAvLyBDaGVja3MgdG8gc2VlIHdoaWNoIHNxdWFyZXMgb24gdGhlIGJvYXJkIGhhdmVuJ3QgYmVlbiBwbGF5ZWQgeWV0IGluIHRoZSBjdXJyZW50IGdhbWVcblxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrQXZhaWxhYmxlU3F1YXJlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0F2YWlsYWJsZVNxdWFyZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ib2FyZC5maWx0ZXIoZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHNxdWFyZSA9PT0gJ251bWJlcic7XG4gICAgICB9KTtcbiAgICB9IC8vIEVuZHMgdGhlIGN1cnJlbnQgZ2FtZSBpZiBhIHBsYXllciBoYXMgd29uIG9yIGlmIHRoZXJlIGlzIGEgZHJhd1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5kR2FtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmRHYW1lKHdpbm5lcikge1xuICAgICAgdmFyIGVuZEdhbWVNZXNzYWdlO1xuICAgICAgd2lubmVyID09PSAnZHJhdycgPyBlbmRHYW1lTWVzc2FnZSA9ICdJdFxcJ3MgYSBkcmF3IScgOiBlbmRHYW1lTWVzc2FnZSA9IFwiVGhlIFwiLmNvbmNhdCh3aW5uZXIsIFwiIHdvbiFcIik7XG4gICAgICB0aGlzLm5ld0dhbWVNb2RhbC5yZW5kZXJOZXdHYW1lTW9kYWwoZW5kR2FtZU1lc3NhZ2UsIHdpbm5lciwgJ21haW4nKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zcXVhcmUnKS5mb3JFYWNoKGZ1bmN0aW9uIChzcXVhcmUpIHtcbiAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2dhbWUtZW5kZWQnKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gRXZlbnQgbGlzdGVuZXJzXG5cbiAgfSwge1xuICAgIGtleTogXCJldmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXZlbnRzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5nYW1lLWJvYXJkIC5zcXVhcmUtY29udGFpbmVyIC5zcXVhcmUnKSA/IF90aGlzMy5zZWxlY3RTcXVhcmUoZXZlbnQpIDogbnVsbDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcjbW9kYWwgLnJlc3RhcnQtYnV0dG9uJykgPyBfdGhpczMuc3RhcnROZXdHYW1lKF90aGlzMy5nYW1lU2V0dGluZ3MpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gLy8gRE9NIG1ldGhvZHNcblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUN1cnJlbnRUdXJuTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50VHVybk1lc3NhZ2UoKSB7XG4gICAgICB2YXIgY3VycmVudFR1cm5NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtdHVybi1tZXNzYWdlJyk7XG4gICAgICBjdXJyZW50VHVybk1lc3NhZ2UuaW5uZXJIVE1MID0gXCJJdCdzIHRoZSBcIi5jb25jYXQodGhpcy5jdXJyZW50UGxheWVyLnBsYXlBcywgXCIncyB0dXJuLlwiKTtcbiAgICAgIDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQXR0cmlidXRlc1RvU2VsZWN0ZWRTcXVhcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQXR0cmlidXRlc1RvU2VsZWN0ZWRTcXVhcmUoc3F1YXJlKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcXVhcmUpLmNsYXNzTGlzdC5hZGQoXCJmYS1cIi5jb25jYXQodGhpcy5jdXJyZW50UGxheWVyLnBsYXlBcyA9PT0gJ1JlYmVsbGlvbicgPyAncmViZWwnIDogJ2VtcGlyZScpLCBcIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzLnRvTG93ZXJDYXNlKCksIFwiLWljb25cIiksICdzZWxlY3RlZCcpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3F1YXJlKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzID09PSAnUmViZWxsaW9uJyA/ICdyZWJlbCcgOiAnZW1waXJlJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhpZ2hsaWdodFdpbm5pbmdTcXVhcmVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZ2hsaWdodFdpbm5pbmdTcXVhcmVzKHBsYXllcikge1xuICAgICAgdmFyIHdpbm5pbmdTcXVhcmVzID0gdGhpcy5jaGVja0Zvcldpbm5lcihwbGF5ZXIpO1xuICAgICAgcmV0dXJuIHdpbm5pbmdTcXVhcmVzLm1hcChmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNxdWFyZSkuY2xhc3NMaXN0LmFkZCgnd2lubmluZy1zcXVhcmUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJHYW1lQm9hcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyR2FtZUJvYXJkKGZpcnN0UGxheWVyLCBsb2NhdGlvbikge1xuICAgICAgdmFyIGdhbWVCb2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZ2FtZUJvYXJkLmNsYXNzTGlzdC5hZGQoJ2JvYXJkLWNvbnRhaW5lcicpO1xuICAgICAgZ2FtZUJvYXJkLmlubmVySFRNTCA9IFwiXFxuICAgICAgPHAgY2xhc3M9XFxcImN1cnJlbnQtdHVybi1tZXNzYWdlXFxcIj5UaGUgXCIuY29uY2F0KGZpcnN0UGxheWVyLnBsYXlBcywgXCIgZ29lcyBmaXJzdCE8L3A+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZ2FtZS1ib2FyZFxcXCI+XCIpLmNvbmNhdCh0aGlzLmJvYXJkLm1hcChmdW5jdGlvbiAoc3F1YXJlLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzcXVhcmUtY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwic3F1YXJlIGZhYlxcXCIgaWQ9XFxcIlwiLmNvbmNhdChpbmRleCwgXCJcXFwiPjwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XCIpO1xuICAgICAgfSkuam9pbignJyksIFwiPC9kaXY+XFxuICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gcmVzdGFydC1idXR0b25cXFwiPlJlc3RhcnQ8L2J1dHRvbj5cXG4gICAgXCIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoZ2FtZUJvYXJkKTtcbiAgICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUdhbWVCb2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVHYW1lQm9hcmQobG9jYXRpb24pIHtcbiAgICAgIHZhciBnYW1lQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAuYm9hcmQtY29udGFpbmVyXCIpKTtcbiAgICAgIGdhbWVCb2FyZCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLnJlbW92ZUNoaWxkKGdhbWVCb2FyZCkgOiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHYW1lO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTZXR0aW5nc0Zvcm1EYXRhID0gZnVuY3Rpb24gU2V0dGluZ3NGb3JtRGF0YShwbGF5ZXJzLCBkaWZmaWN1bHR5LCBwbGF5QXMpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNldHRpbmdzRm9ybURhdGEpO1xuXG4gIHRoaXMucGxheWVycyA9IHBsYXllcnM7XG4gIHRoaXMuZGlmZmljdWx0eSA9IGRpZmZpY3VsdHk7XG4gIHRoaXMucGxheUFzID0gcGxheUFzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2V0dGluZ3NGb3JtRGF0YTsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCBHYW1lIGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgTmV3R2FtZU1vZGFsIGZyb20gJy4vTmV3R2FtZU1vZGFsJztcbmltcG9ydCBTZXR0aW5nc0Zvcm1EYXRhIGZyb20gJy4vU2V0dGluZ3NGb3JtRGF0YSc7XG5cbnZhciBHYW1lU2V0dGluZ3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHYW1lU2V0dGluZ3MoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdhbWVTZXR0aW5ncyk7XG5cbiAgICB0aGlzLmdhbWUgPSBuZXcgR2FtZSgpO1xuICAgIHRoaXMubmV3R2FtZU1vZGFsID0gbmV3IE5ld0dhbWVNb2RhbCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdhbWVTZXR0aW5ncywgW3tcbiAgICBrZXk6IFwiaGFuZGxlU3VibWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChldmVudCwgZ2FtZVNldHRpbmdzRGF0YSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBnYW1lU2V0dGluZ3MgPSBuZXcgU2V0dGluZ3NGb3JtRGF0YShnYW1lU2V0dGluZ3NEYXRhLnBsYXllcnMsIGdhbWVTZXR0aW5nc0RhdGEuZGlmZmljdWx0eSwgZ2FtZVNldHRpbmdzRGF0YS5wbGF5QXMpO1xuICAgICAgdGhpcy5yZW1vdmVHYW1lU2V0dGluZ3MoJy5nYW1lLWNvbnRhaW5lcicpO1xuICAgICAgdGhpcy5nYW1lLnN0YXJ0TmV3R2FtZShnYW1lU2V0dGluZ3MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVPbmVQbGF5ZXJTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVPbmVQbGF5ZXJTZXR0aW5ncyhwbGF5ZXJzKSB7XG4gICAgICB0aGlzLnJlbW92ZU9uZVBsYXllclNldHRpbmdzKCcuZ2FtZS1zZXR0aW5ncy1mb3JtJyk7XG5cbiAgICAgIGlmIChwbGF5ZXJzID09PSAnMS1wbGF5ZXInKSB7XG4gICAgICAgIHRoaXMucmVuZGVyT25lUGxheWVyU2V0dGluZ3MoWycuZ2FtZS1zZXR0aW5ncy1mb3JtJywgJy5idXR0b24tZ3JvdXAnXSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5HYW1lU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkdhbWVTZXR0aW5ncygpIHtcbiAgICAgIHRoaXMubmV3R2FtZU1vZGFsLnJlbW92ZU5ld0dhbWVNb2RhbCgnbWFpbicpO1xuICAgICAgdGhpcy5nYW1lLnJlbW92ZUdhbWVCb2FyZCgnLmdhbWUtY29udGFpbmVyJyk7XG4gICAgICB0aGlzLnJlbmRlckdhbWVTZXR0aW5ncygnLmdhbWUtY29udGFpbmVyJyk7XG4gICAgfSAvLyBET00gbWV0aG9kc1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyT25lUGxheWVyU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyT25lUGxheWVyU2V0dGluZ3MobG9jYXRpb24pIHtcbiAgICAgIHZhciBvbmVQbGF5ZXJTZXR0aW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgb25lUGxheWVyU2V0dGluZ3MuY2xhc3NMaXN0LmFkZCgnb25lLXBsYXllci1zZXR0aW5ncycpO1xuICAgICAgb25lUGxheWVyU2V0dGluZ3MuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIG9uZS1wbGF5ZXItc2V0dGluZyBkaWZmaWN1bHR5XFxcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImRpZmZpY3VsdHktaW5wdXRcXFwiPkRpZmZpY3VsdHk6PC9sYWJlbD5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdC13cmFwcGVyXFxcIj5cXG4gICAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJkaWZmaWN1bHR5XFxcIiBpZD1cXFwiZGlmZmljdWx0eS1pbnB1dFxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIHJlcXVpcmVkPlxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImVhc3lcXFwiIHNlbGVjdGVkPkVhc3k8L29wdGlvbj5cXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJoYXJkXFxcIj5IYXJkPC9vcHRpb24+XFxuICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBvbmUtcGxheWVyLXNldHRpbmcgcGxheS1hc1xcXCI+XFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJwbGF5LWFzLWlucHV0XFxcIj5QbGF5IGFzOjwvbGFiZWw+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3Qtd3JhcHBlclxcXCI+XFxuICAgICAgICAgIDxzZWxlY3QgbmFtZT1cXFwicGxheUFzXFxcIiBpZD1cXFwicGxheS1hcy1pbnB1dFxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIHJlcXVpcmVkPlxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlJlYmVsbGlvblxcXCIgc2VsZWN0ZWQ+UmViZWwgQWxsaWFuY2U8L29wdGlvbj5cXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJFbXBpcmVcXFwiPkdhbGFjdGljIEVtcGlyZTwvb3B0aW9uPlxcbiAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICBcIjtcblxuICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQob25lUGxheWVyU2V0dGluZ3MpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxvY2F0aW9uKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uWzBdKS5pbnNlcnRCZWZvcmUob25lUGxheWVyU2V0dGluZ3MsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlT25lUGxheWVyU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlT25lUGxheWVyU2V0dGluZ3MobG9jYXRpb24pIHtcbiAgICAgIHZhciBvbmVQbGF5ZXJTZXR0aW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQobG9jYXRpb24sIFwiIC5vbmUtcGxheWVyLXNldHRpbmdzXCIpKTtcbiAgICAgIG9uZVBsYXllclNldHRpbmdzID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQob25lUGxheWVyU2V0dGluZ3MpIDogbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyR2FtZVNldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckdhbWVTZXR0aW5ncyhsb2NhdGlvbikge1xuICAgICAgdmFyIGdhbWVTZXR0aW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZ2FtZVNldHRpbmdzLmNsYXNzTGlzdC5hZGQoJ2dhbWUtc2V0dGluZ3MtY29udGFpbmVyJyk7XG4gICAgICBnYW1lU2V0dGluZ3MuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8aDM+U3RhcnQgYSBOZXcgR2FtZTwvaDM+XFxuICAgICAgPGZvcm0gY2xhc3M9XFxcImdhbWUtc2V0dGluZ3MtZm9ybVxcXCIgbm92YWxpZGF0ZT5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcGxheWVyc1xcXCI+XFxuICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInBsYXllcnMtaW5wdXRcXFwiPlBsYXllcnM6PC9sYWJlbD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VsZWN0LXdyYXBwZXJcXFwiPlxcbiAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cXFwicGxheWVyc1xcXCIgaWQ9XFxcInBsYXllcnMtaW5wdXRcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiByZXF1aXJlZD5cXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjEtcGxheWVyXFxcIiBzZWxlY3RlZD5PcmdhbmljIHZzLiBEcm9pZCAoMS1QbGF5ZXIpPC9vcHRpb24+XFxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyLXBsYXllclxcXCI+T3JnYW5pYyB2cy4gT3JnYW5pYyAoMi1QbGF5ZXIpPC9vcHRpb24+XFxuICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b24tZ3JvdXBcXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ1dHRvbiBzdGFydC1idXR0b25cXFwiPlN0YXJ0PC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Zvcm0+XFxuICAgIFwiO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoZ2FtZVNldHRpbmdzKTtcbiAgICAgIHRoaXMudG9nZ2xlT25lUGxheWVyU2V0dGluZ3MoJzEtcGxheWVyJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUdhbWVTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVHYW1lU2V0dGluZ3MobG9jYXRpb24pIHtcbiAgICAgIHZhciBnYW1lU2V0dGluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAuZ2FtZS1zZXR0aW5ncy1jb250YWluZXJcIikpO1xuICAgICAgZ2FtZVNldHRpbmdzID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQoZ2FtZVNldHRpbmdzKSA6IG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdhbWVTZXR0aW5ncztcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZVNldHRpbmdzOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IEhlYWRlciBmcm9tICcuL21vZHVsZXMvSGVhZGVyJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi9tb2R1bGVzL0Zvb3Rlcic7XG5pbXBvcnQgR2FtZVNldHRpbmdzIGZyb20gJy4vbW9kdWxlcy9HYW1lU2V0dGluZ3MnO1xuXG52YXIgQXBwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQXBwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHApO1xuXG4gICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKCk7XG4gICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKCk7XG4gICAgdGhpcy5nYW1lU2V0dGluZ3MgPSBuZXcgR2FtZVNldHRpbmdzKCk7XG4gICAgdGhpcy5yZW5kZXJBcHAoKTtcbiAgfSAvLyBFdmVudCBsaXN0ZW5lcnNcblxuXG4gIF9jcmVhdGVDbGFzcyhBcHAsIFt7XG4gICAga2V5OiBcImV2ZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBldmVudHMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcjbW9kYWwgLmdhbWUtc2V0dGluZ3MtYnV0dG9uJykgPyBfdGhpcy5nYW1lU2V0dGluZ3Mub3BlbkdhbWVTZXR0aW5ncygpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5nYW1lLXNldHRpbmdzLWZvcm0gI3BsYXllcnMtaW5wdXQnKSA/IF90aGlzLmdhbWVTZXR0aW5ncy50b2dnbGVPbmVQbGF5ZXJTZXR0aW5ncyhlbGVtZW50LnZhbHVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgICBpZiAoZWxlbWVudC5tYXRjaGVzKCcuZ2FtZS1zZXR0aW5ncy1mb3JtJykpIHtcbiAgICAgICAgICBlbGVtZW50LmRpZmZpY3VsdHkgJiYgZWxlbWVudC5wbGF5QXMgPyBfdGhpcy5nYW1lU2V0dGluZ3MuaGFuZGxlU3VibWl0KGV2ZW50LCB7XG4gICAgICAgICAgICBwbGF5ZXJzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVycy1pbnB1dCcpLnZhbHVlLFxuICAgICAgICAgICAgZGlmZmljdWx0eTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpZmZpY3VsdHktaW5wdXQnKS52YWx1ZSxcbiAgICAgICAgICAgIHBsYXlBczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXktYXMtaW5wdXQnKS52YWx1ZVxuICAgICAgICAgIH0pIDogX3RoaXMuZ2FtZVNldHRpbmdzLmhhbmRsZVN1Ym1pdChldmVudCwge1xuICAgICAgICAgICAgcGxheWVyczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcnMtaW5wdXQnKS52YWx1ZSxcbiAgICAgICAgICAgIGRpZmZpY3VsdHk6IG51bGwsXG4gICAgICAgICAgICBwbGF5QXM6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSAvLyBET00gbWV0aG9kc1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyQXBwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckFwcCgpIHtcbiAgICAgIHRoaXMuaGVhZGVyLnJlbmRlckhlYWRlcignI2FwcCcpO1xuICAgICAgdGhpcy5yZW5kZXJNYWluKCcjYXBwJyk7XG4gICAgICB0aGlzLmZvb3Rlci5yZW5kZXJGb290ZXIoJyNhcHAnKTtcbiAgICAgIHRoaXMuZ2FtZVNldHRpbmdzLm9wZW5HYW1lU2V0dGluZ3MoKTtcbiAgICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlck1haW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyTWFpbihsb2NhdGlvbikge1xuICAgICAgdmFyIG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gICAgICBtYWluLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz1cXFwiZ2FtZS1jb250YWluZXJcXFwiPjwvZGl2PlwiO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQobWFpbik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEFwcDtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgQXBwOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbmRleC5odG1sXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZhdmljb24uaWNvXCI7IiwiaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XG5pbXBvcnQgJ2ZpbGUtbG9hZGVyP25hbWU9W25hbWVdLltleHRdIS4vaW5kZXguaHRtbCc7XG5pbXBvcnQgJ2ZpbGUtbG9hZGVyP25hbWU9W25hbWVdLltleHRdIS4vZmF2aWNvbi5pY28nO1xuaW1wb3J0ICdub3JtYWxpemUuY3NzJztcbmltcG9ydCAnLi9zdHlsZXNoZWV0cy9zdHlsZS5zY3NzJztcbm5ldyBBcHAoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///208\n')}},__webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),(()=>{var n;__webpack_require__.g.importScripts&&(n=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var c=e.getElementsByTagName("script");c.length&&(n=c[c.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=n})();var __webpack_exports__={};__webpack_modules__[208](0,__webpack_exports__,__webpack_require__)})();