(()=>{"use strict";var __webpack_modules__={232:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n;// ./src/assets/images/star-wars-logo.png\nconst star_wars_logo_namespaceObject = __webpack_require__.p + "assets/008e3ccd596f5948b8b6.png";\n;// ./src/modules/Header.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Header = /*#__PURE__*/function () {\n  function Header() {\n    _classCallCheck(this, Header);\n  }\n  _createClass(Header, [{\n    key: "renderHeader",\n    value:\n    // DOM methods\n    function renderHeader(location) {\n      var header = document.createElement(\'header\');\n      header.innerHTML = "\\n      <h1>\\n        <img src=\\"".concat(star_wars_logo_namespaceObject, "\\" class=\\"star-wars-logo\\" alt=\\"Star Wars\\" />\\n      </h1>\\n      <h2>Tic-Tac-Toe</h2>\\n    ");\n      document.querySelector(location).appendChild(header);\n    }\n  }]);\n  return Header;\n}();\n/* harmony default export */ const modules_Header = (Header);\n;// ./src/modules/Footer.js\nfunction Footer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Footer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Footer_createClass(Constructor, protoProps, staticProps) { if (protoProps) Footer_defineProperties(Constructor.prototype, protoProps); if (staticProps) Footer_defineProperties(Constructor, staticProps); return Constructor; }\nvar Footer = /*#__PURE__*/function () {\n  function Footer() {\n    Footer_classCallCheck(this, Footer);\n  }\n  Footer_createClass(Footer, [{\n    key: "renderFooter",\n    value:\n    // DOM methods\n    function renderFooter(location) {\n      var footer = document.createElement(\'footer\');\n      footer.innerHTML = "Created by <a href=\\"https://autumnchris.github.io/portfolio\\" target=\\"_blank\\">Autumn Bullard</a> &copy; ".concat(new Date().getFullYear());\n      document.querySelector(location).appendChild(footer);\n    }\n  }]);\n  return Footer;\n}();\n/* harmony default export */ const modules_Footer = (Footer);\n;// ./src/modules/NewGameModal.js\nfunction NewGameModal_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction NewGameModal_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction NewGameModal_createClass(Constructor, protoProps, staticProps) { if (protoProps) NewGameModal_defineProperties(Constructor.prototype, protoProps); if (staticProps) NewGameModal_defineProperties(Constructor, staticProps); return Constructor; }\nvar NewGameModal = /*#__PURE__*/function () {\n  function NewGameModal() {\n    NewGameModal_classCallCheck(this, NewGameModal);\n  }\n  NewGameModal_createClass(NewGameModal, [{\n    key: "renderWinningPlayerIcon",\n    value:\n    // DOM methods\n    function renderWinningPlayerIcon(winner, location) {\n      var winningPlayerIcon = document.createElement(\'div\');\n      winningPlayerIcon.classList.add(\'winning-player-icon\');\n      if (winner === \'draw\') {\n        winningPlayerIcon.innerHTML = "\\n        <span class=\\"fa-brands fa-rebel rebellion-icon\\" aria-hidden=\\"true\\"></span>\\n        <span class=\\"fa-brands fa-empire empire-icon\\" aria-hidden=\\"true\\"></span>\\n      ";\n      } else {\n        winningPlayerIcon.innerHTML = "<span class=\\"fa-brands fa-".concat(winner === \'Rebellion\' ? \'rebel\' : \'empire\', " ").concat(winner.toLowerCase(), "-icon\\" aria-hidden=\\"true\\"></span>");\n      }\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(winningPlayerIcon);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(winningPlayerIcon, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "renderNewGameModal",\n    value: function renderNewGameModal(endGameMessage, winner, location) {\n      var newGameModal = document.createElement(\'div\');\n      newGameModal.setAttribute(\'id\', \'modal\');\n      newGameModal.classList.add(\'modal\');\n      newGameModal.innerHTML = "\\n      <div class=\\"modal-content\\">\\n        <div class=\\"modal-body\\">\\n          <p class=\\"end-game-message\\">".concat(endGameMessage, "</p>\\n          <div class=\\"button-group\\">\\n            <button type=\\"button\\" class=\\"button restart-button\\">Play Again</button>\\n            <button type=\\"button\\" class=\\"button game-settings-button\\">Settings</button>\\n          </div>\\n        </div>\\n      </div>\\n    ");\n      document.querySelector(location).appendChild(newGameModal);\n      document.querySelector(\'body\').classList.add(\'modal-open\');\n      this.renderWinningPlayerIcon(winner, [\'#modal .modal-body\', \'.end-game-message\']);\n    }\n  }, {\n    key: "removeNewGameModal",\n    value: function removeNewGameModal(location) {\n      var newGameModal = document.querySelector("".concat(location, " #modal"));\n      newGameModal ? document.querySelector(location).removeChild(newGameModal) : null;\n      document.querySelector(\'body\').classList.remove(\'modal-open\');\n    }\n  }]);\n  return NewGameModal;\n}();\n/* harmony default export */ const modules_NewGameModal = (NewGameModal);\n;// ./src/modules/Player.js\nfunction Player_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nvar Player = function Player(playerType, playAs) {\n  Player_classCallCheck(this, Player);\n  this.playerType = playerType;\n  this.playAs = playAs;\n};\n/* harmony default export */ const modules_Player = (Player);\n;// ./src/modules/Game.js\nfunction Game_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Game_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Game_createClass(Constructor, protoProps, staticProps) { if (protoProps) Game_defineProperties(Constructor.prototype, protoProps); if (staticProps) Game_defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar Game = /*#__PURE__*/function () {\n  function Game() {\n    Game_classCallCheck(this, Game);\n    this.newGameModal = new modules_NewGameModal();\n    this.winningCombinations = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    this.gameSettings;\n    this.board;\n    this.playerOne;\n    this.playerTwo;\n    this.currentPlayer = null;\n    this.aiMoveDelay;\n  }\n\n  // Remove both game and modal from DOM\n  Game_createClass(Game, [{\n    key: "removeGameAndModal",\n    value: function removeGameAndModal() {\n      this.newGameModal.removeNewGameModal(\'main\');\n      this.removeGameBoard(\'.game-container\');\n    }\n\n    // Resets and renders the game board for a new game\n  }, {\n    key: "startNewGame",\n    value: function startNewGame(gameSettings) {\n      clearTimeout(this.aiMoveDelay);\n      this.gameSettings = gameSettings;\n      this.board = new Array(9).fill().map(function (square, index) {\n        return index;\n      });\n      if (gameSettings.players === \'1-player\') {\n        this.playerOne = new modules_Player(\'human\', gameSettings.playAs);\n        this.playerTwo = new modules_Player(\'ai\', gameSettings.playAs === \'Rebellion\' ? \'Empire\' : \'Rebellion\');\n      } else {\n        this.playerOne = new modules_Player(\'human\', \'Rebellion\');\n        this.playerTwo = new modules_Player(\'human\', \'Empire\');\n      }\n      this.currentPlayer = this.playerOne;\n      this.newGameModal.removeNewGameModal(\'main\');\n      this.removeGameBoard(\'.game-container\');\n      this.renderGameBoard(this.currentPlayer, \'.game-container\');\n    }\n\n    // Click handler that allows the current player to select a square if it is the user\'s turn\n  }, {\n    key: "selectSquare",\n    value: function selectSquare(event) {\n      if (this.currentPlayer.playerType === \'human\') {\n        this.playTurn(event.target.id);\n      }\n    }\n\n    // Plays the current player\'s selected square and then changes to the opposing player\'s turn if the game hasn\'t ended\n  }, {\n    key: "playTurn",\n    value: function playTurn(square) {\n      if (typeof this.board[square] === \'number\') {\n        this.board[square] = this.currentPlayer.playAs.toLowerCase();\n        this.addAttributesToSelectedSquare(square);\n        if (this.checkForWinner(this.currentPlayer)) {\n          this.highlightWinningSquares(this.currentPlayer);\n          this.endGame(this.currentPlayer.playAs);\n        } else if (this.checkForDraw()) {\n          this.endGame(\'draw\');\n        } else {\n          this.currentPlayer === this.playerOne ? this.currentPlayer = this.playerTwo : this.currentPlayer = this.playerOne;\n          this.updateCurrentTurnMessage();\n          if (this.currentPlayer.playerType === \'ai\') this.aiMoveDelay = setTimeout(this.changeToAiTurn.bind(this), 1200);\n        }\n      }\n    }\n\n    // Determines whether to play the Easy AI or the Hard AI\n  }, {\n    key: "changeToAiTurn",\n    value: function changeToAiTurn() {\n      if (this.gameSettings.difficulty === \'hard\') {\n        this.playSmartAiTurn();\n      } else {\n        this.playRandomAiTurn();\n      }\n    }\n\n    // AI picks an unplayed square at random (Easy mode)\n  }, {\n    key: "playRandomAiTurn",\n    value: function playRandomAiTurn() {\n      var availableSquares = this.checkAvailableSquares();\n      this.playTurn(availableSquares[Math.floor(Math.random() * availableSquares.length)]);\n    }\n\n    // AI picks an unplayed square using the minimax algorithm (Hard mode)\n  }, {\n    key: "playSmartAiTurn",\n    value: function playSmartAiTurn() {\n      this.playTurn(this.handleMinimax(this.board, this.playerTwo.playAs).index);\n    }\n\n    // Minimax algorithm which determines the best move the AI should play against the user during its turn\n  }, {\n    key: "handleMinimax",\n    value: function handleMinimax(board, player) {\n      var _this = this;\n      var availableSquares = this.checkAvailableSquares(board);\n      var bestTestMove = null;\n      var bestScore;\n\n      // Human player (minimizing player)\n      if (this.checkForWinner(this.playerOne)) {\n        return {\n          score: -1\n        };\n      }\n      // AI player (maximizing player)\n      else if (this.checkForWinner(this.playerTwo)) {\n        return {\n          score: 1\n        };\n      } else if (this.checkForDraw()) {\n        return {\n          score: 0\n        };\n      } else {\n        // Recursively tests potential move outcomes for the current player\n        var testMoves = availableSquares.reduce(function (acc, square) {\n          var testMove = {};\n          var result;\n          testMove.index = board[square];\n          board[square] = player.toLowerCase();\n          if (player === _this.playerTwo.playAs) {\n            result = _this.handleMinimax(board, _this.playerOne.playAs);\n            testMove.score = result.score;\n          } else {\n            result = _this.handleMinimax(board, _this.playerTwo.playAs);\n            testMove.score = result.score;\n          }\n          board[square] = testMove.index;\n          acc.push(testMove);\n          return acc;\n        }, []);\n\n        // Uses array of test scores to determine the best move for the AI to play\n        if (player === this.playerTwo.playAs) {\n          bestScore = -Infinity;\n          for (var i = 0; i < testMoves.length; i++) {\n            if (testMoves[i].score > bestScore) {\n              bestScore = testMoves[i].score;\n              bestTestMove = i;\n            }\n          }\n        } else {\n          bestScore = Infinity;\n          for (var _i = 0; _i < testMoves.length; _i++) {\n            if (testMoves[_i].score < bestScore) {\n              bestScore = testMoves[_i].score;\n              bestTestMove = _i;\n            }\n          }\n        }\n        return testMoves[bestTestMove];\n      }\n    }\n\n    // Checks the board to see if the current player has matched one of the possible winning combinations\n  }, {\n    key: "checkForWinner",\n    value: function checkForWinner(player) {\n      var _this2 = this;\n      return this.winningCombinations.find(function (combination) {\n        return combination.every(function (val) {\n          return _this2.board[val] === player.playAs.toLowerCase();\n        });\n      });\n    }\n\n    // Checks the board to see if every square has been filled without a winner\n  }, {\n    key: "checkForDraw",\n    value: function checkForDraw() {\n      return this.board.every(function (square) {\n        return typeof square !== \'number\';\n      });\n    }\n\n    // Checks to see which squares on the board haven\'t been played yet in the current game\n  }, {\n    key: "checkAvailableSquares",\n    value: function checkAvailableSquares() {\n      return this.board.filter(function (square) {\n        return typeof square === \'number\';\n      });\n    }\n\n    // Ends the current game if a player has won or if there is a draw\n  }, {\n    key: "endGame",\n    value: function endGame(winner) {\n      var endGameMessage;\n      winner === \'draw\' ? endGameMessage = \'It\\\'s a draw!\' : endGameMessage = "The ".concat(winner, " won!");\n      this.newGameModal.renderNewGameModal(endGameMessage, winner, \'main\');\n      document.querySelectorAll(\'.square\').forEach(function (square) {\n        square.classList.add(\'game-ended\');\n      });\n    }\n\n    // Event listeners\n  }, {\n    key: "events",\n    value: function events() {\n      var _this3 = this;\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'.game-board .square-container .square\') ? _this3.selectSquare(event) : null;\n        element.matches(\'#modal .restart-button\') ? _this3.startNewGame(_this3.gameSettings) : null;\n      });\n    }\n\n    // DOM methods\n  }, {\n    key: "updateCurrentTurnMessage",\n    value: function updateCurrentTurnMessage() {\n      var currentTurnMessage = document.querySelector(\'.current-turn-message\');\n      currentTurnMessage.innerHTML = "It\'s the ".concat(this.currentPlayer.playAs, "\'s turn.");\n      ;\n    }\n  }, {\n    key: "addAttributesToSelectedSquare",\n    value: function addAttributesToSelectedSquare(square) {\n      document.getElementById(square).classList.add("fa-".concat(this.currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\'), "".concat(this.currentPlayer.playAs.toLowerCase(), "-icon"), \'selected\');\n      document.getElementById(square).setAttribute(\'aria-label\', this.currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\');\n    }\n  }, {\n    key: "highlightWinningSquares",\n    value: function highlightWinningSquares(player) {\n      var winningSquares = this.checkForWinner(player);\n      return winningSquares.map(function (square) {\n        document.getElementById(square).classList.add(\'winning-square\');\n      });\n    }\n  }, {\n    key: "renderGameBoard",\n    value: function renderGameBoard(firstPlayer, location) {\n      var gameBoard = document.createElement(\'div\');\n      gameBoard.classList.add(\'board-container\');\n      gameBoard.innerHTML = "\\n      <p class=\\"current-turn-message\\">The ".concat(firstPlayer.playAs, " goes first!</p>\\n      <div class=\\"game-board\\">").concat(this.board.map(function (square, index) {\n        return "<div class=\\"square-container\\">\\n          <button class=\\"square fa-brands\\" id=\\"".concat(index, "\\"></button>\\n        </div>");\n      }).join(\'\'), "</div>\\n      <button type=\\"button\\" class=\\"button restart-button\\">Restart</button>\\n    ");\n      document.querySelector(location).appendChild(gameBoard);\n      this.events();\n    }\n  }, {\n    key: "removeGameBoard",\n    value: function removeGameBoard(location) {\n      var gameBoard = document.querySelector("".concat(location, " .board-container"));\n      gameBoard ? document.querySelector(location).removeChild(gameBoard) : null;\n    }\n  }]);\n  return Game;\n}();\n/* harmony default export */ const modules_Game = (Game);\n;// ./src/modules/SettingsFormData.js\nfunction SettingsFormData_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nvar SettingsFormData = function SettingsFormData(players, difficulty, playAs) {\n  SettingsFormData_classCallCheck(this, SettingsFormData);\n  this.players = players;\n  this.difficulty = difficulty;\n  this.playAs = playAs;\n};\n/* harmony default export */ const modules_SettingsFormData = (SettingsFormData);\n;// ./src/modules/GameSettings.js\nfunction GameSettings_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction GameSettings_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction GameSettings_createClass(Constructor, protoProps, staticProps) { if (protoProps) GameSettings_defineProperties(Constructor.prototype, protoProps); if (staticProps) GameSettings_defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar GameSettings = /*#__PURE__*/function () {\n  function GameSettings() {\n    GameSettings_classCallCheck(this, GameSettings);\n    this.game = new modules_Game();\n  }\n  GameSettings_createClass(GameSettings, [{\n    key: "handleSubmit",\n    value: function handleSubmit(event, gameSettingsData) {\n      event.preventDefault();\n      var gameSettings = new modules_SettingsFormData(gameSettingsData.players, gameSettingsData.difficulty, gameSettingsData.playAs);\n      this.removeGameSettings(\'.game-container\');\n      this.game.startNewGame(gameSettings);\n    }\n  }, {\n    key: "toggleOnePlayerSettings",\n    value: function toggleOnePlayerSettings(players) {\n      this.removeOnePlayerSettings(\'.game-settings-form\');\n      if (players === \'1-player\') {\n        this.renderOnePlayerSettings([\'.game-settings-form\', \'.button-group\']);\n      }\n    }\n  }, {\n    key: "openGameSettings",\n    value: function openGameSettings() {\n      this.game.removeGameAndModal();\n      this.renderGameSettings(\'.game-container\');\n    }\n\n    // DOM methods\n  }, {\n    key: "renderOnePlayerSettings",\n    value: function renderOnePlayerSettings(location) {\n      var onePlayerSettings = document.createElement(\'div\');\n      onePlayerSettings.classList.add(\'one-player-settings\');\n      onePlayerSettings.innerHTML = "\\n      <div class=\\"form-group one-player-setting difficulty\\">\\n        <label for=\\"difficulty-input\\">Difficulty:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"difficulty\\" id=\\"difficulty-input\\" autocomplete=\\"off\\" required>\\n            <option value=\\"easy\\" selected>Easy</option>\\n            <option value=\\"hard\\">Hard</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\"form-group one-player-setting play-as\\">\\n        <label for=\\"play-as-input\\">Play as:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"playAs\\" id=\\"play-as-input\\" autocomplete=\\"off\\" required>\\n            <option value=\\"Rebellion\\" selected>Rebel Alliance</option>\\n            <option value=\\"Empire\\">Galactic Empire</option>\\n          </select>\\n        </div>\\n      </div>\\n    ";\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(onePlayerSettings);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(onePlayerSettings, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "removeOnePlayerSettings",\n    value: function removeOnePlayerSettings(location) {\n      var onePlayerSettings = document.querySelector("".concat(location, " .one-player-settings"));\n      onePlayerSettings ? document.querySelector(location).removeChild(onePlayerSettings) : null;\n    }\n  }, {\n    key: "renderGameSettings",\n    value: function renderGameSettings(location) {\n      var gameSettings = document.createElement(\'div\');\n      gameSettings.classList.add(\'game-settings-container\');\n      gameSettings.innerHTML = "\\n      <h3>Start a New Game</h3>\\n      <form class=\\"game-settings-form\\" novalidate>\\n        <div class=\\"form-group players\\">\\n          <label for=\\"players-input\\">Players:</label>\\n          <div class=\\"select-wrapper\\">\\n            <select name=\\"players\\" id=\\"players-input\\" autocomplete=\\"off\\" required>\\n              <option value=\\"1-player\\" selected>Organic vs. Droid (1-Player)</option>\\n              <option value=\\"2-player\\">Organic vs. Organic (2-Player)</option>\\n            </select>\\n          </div>\\n        </div>\\n        <div class=\\"button-group\\">\\n          <button type=\\"submit\\" class=\\"button start-button\\">Start</button>\\n        </div>\\n      </form>\\n    ";\n      document.querySelector(location).appendChild(gameSettings);\n      this.toggleOnePlayerSettings(\'1-player\');\n    }\n  }, {\n    key: "removeGameSettings",\n    value: function removeGameSettings(location) {\n      var gameSettings = document.querySelector("".concat(location, " .game-settings-container"));\n      gameSettings ? document.querySelector(location).removeChild(gameSettings) : null;\n    }\n  }]);\n  return GameSettings;\n}();\n/* harmony default export */ const modules_GameSettings = (GameSettings);\n;// ./src/App.js\nfunction App_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction App_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction App_createClass(Constructor, protoProps, staticProps) { if (protoProps) App_defineProperties(Constructor.prototype, protoProps); if (staticProps) App_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    App_classCallCheck(this, App);\n    this.header = new modules_Header();\n    this.footer = new modules_Footer();\n    this.gameSettings = new modules_GameSettings();\n    this.renderApp();\n  }\n\n  // Event listeners\n  App_createClass(App, [{\n    key: "events",\n    value: function events() {\n      var _this = this;\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'#modal .game-settings-button\') ? _this.gameSettings.openGameSettings() : null;\n      });\n      document.addEventListener(\'change\', function (event) {\n        var element = event.target;\n        element.matches(\'.game-settings-form #players-input\') ? _this.gameSettings.toggleOnePlayerSettings(element.value) : null;\n      });\n      document.addEventListener(\'submit\', function (event) {\n        var element = event.target;\n        if (element.matches(\'.game-settings-form\')) {\n          element.difficulty && element.playAs ? _this.gameSettings.handleSubmit(event, {\n            players: document.getElementById(\'players-input\').value,\n            difficulty: document.getElementById(\'difficulty-input\').value,\n            playAs: document.getElementById(\'play-as-input\').value\n          }) : _this.gameSettings.handleSubmit(event, {\n            players: document.getElementById(\'players-input\').value,\n            difficulty: null,\n            playAs: null\n          });\n        }\n      });\n    }\n\n    // DOM methods\n  }, {\n    key: "renderApp",\n    value: function renderApp() {\n      this.header.renderHeader(\'#app\');\n      this.renderMain(\'#app\');\n      this.footer.renderFooter(\'#app\');\n      this.gameSettings.openGameSettings();\n      this.events();\n    }\n  }, {\n    key: "renderMain",\n    value: function renderMain(location) {\n      var main = document.createElement(\'main\');\n      main.innerHTML = "<div class=\\"game-container\\"></div>";\n      document.querySelector(location).appendChild(main);\n    }\n  }]);\n  return App;\n}();\n/* harmony default export */ const src_App = (App);\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/index.html\n/* harmony default export */ const cjsname_name_ext_src = (__webpack_require__.p + "index.html");\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/favicon.ico\n/* harmony default export */ const favicon = (__webpack_require__.p + "favicon.ico");\n;// ./src/index.js\n\n\n\n\n\n\nnew src_App();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9tb2R1bGVzL0hlYWRlci5qcz9lODVjIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9Gb290ZXIuanM/NDEzZiIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvTmV3R2FtZU1vZGFsLmpzP2M0ZTgiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9tb2R1bGVzL1BsYXllci5qcz83MmNmIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9HYW1lLmpzPzg5NGMiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9tb2R1bGVzL1NldHRpbmdzRm9ybURhdGEuanM/ZDAwYSIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvR2FtZVNldHRpbmdzLmpzP2FlZjgiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9BcHAuanM/MzMyNyIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL2luZGV4Lmh0bWw/NzNjZiIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL2Zhdmljb24uaWNvP2FlNzAiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9pbmRleC5qcz9kOWJlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuaW1wb3J0IHN0YXJXYXJzTG9nbyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL3N0YXItd2Fycy1sb2dvLnBuZyc7XG52YXIgSGVhZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGVhZGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkZXIpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhIZWFkZXIsIFt7XG4gICAga2V5OiBcInJlbmRlckhlYWRlclwiLFxuICAgIHZhbHVlOlxuICAgIC8vIERPTSBtZXRob2RzXG4gICAgZnVuY3Rpb24gcmVuZGVySGVhZGVyKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gICAgICBoZWFkZXIuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8aDE+XFxuICAgICAgICA8aW1nIHNyYz1cXFwiXCIuY29uY2F0KHN0YXJXYXJzTG9nbywgXCJcXFwiIGNsYXNzPVxcXCJzdGFyLXdhcnMtbG9nb1xcXCIgYWx0PVxcXCJTdGFyIFdhcnNcXFwiIC8+XFxuICAgICAgPC9oMT5cXG4gICAgICA8aDI+VGljLVRhYy1Ub2U8L2gyPlxcbiAgICBcIik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSGVhZGVyO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgSGVhZGVyOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxudmFyIEZvb3RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZvb3RlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9vdGVyKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoRm9vdGVyLCBbe1xuICAgIGtleTogXCJyZW5kZXJGb290ZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvLyBET00gbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHJlbmRlckZvb3Rlcihsb2NhdGlvbikge1xuICAgICAgdmFyIGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xuICAgICAgZm9vdGVyLmlubmVySFRNTCA9IFwiQ3JlYXRlZCBieSA8YSBocmVmPVxcXCJodHRwczovL2F1dHVtbmNocmlzLmdpdGh1Yi5pby9wb3J0Zm9saW9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5BdXR1bW4gQnVsbGFyZDwvYT4gJmNvcHk7IFwiLmNvbmNhdChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoZm9vdGVyKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEZvb3Rlcjtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEZvb3RlcjsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbnZhciBOZXdHYW1lTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBOZXdHYW1lTW9kYWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ld0dhbWVNb2RhbCk7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKE5ld0dhbWVNb2RhbCwgW3tcbiAgICBrZXk6IFwicmVuZGVyV2lubmluZ1BsYXllckljb25cIixcbiAgICB2YWx1ZTpcbiAgICAvLyBET00gbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHJlbmRlcldpbm5pbmdQbGF5ZXJJY29uKHdpbm5lciwgbG9jYXRpb24pIHtcbiAgICAgIHZhciB3aW5uaW5nUGxheWVySWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgd2lubmluZ1BsYXllckljb24uY2xhc3NMaXN0LmFkZCgnd2lubmluZy1wbGF5ZXItaWNvbicpO1xuICAgICAgaWYgKHdpbm5lciA9PT0gJ2RyYXcnKSB7XG4gICAgICAgIHdpbm5pbmdQbGF5ZXJJY29uLmlubmVySFRNTCA9IFwiXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZmEtYnJhbmRzIGZhLXJlYmVsIHJlYmVsbGlvbi1pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImZhLWJyYW5kcyBmYS1lbXBpcmUgZW1waXJlLWljb25cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L3NwYW4+XFxuICAgICAgXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5uaW5nUGxheWVySWNvbi5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPVxcXCJmYS1icmFuZHMgZmEtXCIuY29uY2F0KHdpbm5lciA9PT0gJ1JlYmVsbGlvbicgPyAncmViZWwnIDogJ2VtcGlyZScsIFwiIFwiKS5jb25jYXQod2lubmVyLnRvTG93ZXJDYXNlKCksIFwiLWljb25cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L3NwYW4+XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQod2lubmluZ1BsYXllckljb24pO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxvY2F0aW9uKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uWzBdKS5pbnNlcnRCZWZvcmUod2lubmluZ1BsYXllckljb24sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyTmV3R2FtZU1vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck5ld0dhbWVNb2RhbChlbmRHYW1lTWVzc2FnZSwgd2lubmVyLCBsb2NhdGlvbikge1xuICAgICAgdmFyIG5ld0dhbWVNb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbmV3R2FtZU1vZGFsLnNldEF0dHJpYnV0ZSgnaWQnLCAnbW9kYWwnKTtcbiAgICAgIG5ld0dhbWVNb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICAgICAgbmV3R2FtZU1vZGFsLmlubmVySFRNTCA9IFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gICAgICAgICAgPHAgY2xhc3M9XFxcImVuZC1nYW1lLW1lc3NhZ2VcXFwiPlwiLmNvbmNhdChlbmRHYW1lTWVzc2FnZSwgXCI8L3A+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gcmVzdGFydC1idXR0b25cXFwiPlBsYXkgQWdhaW48L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiBnYW1lLXNldHRpbmdzLWJ1dHRvblxcXCI+U2V0dGluZ3M8L2J1dHRvbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQobmV3R2FtZU1vZGFsKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1vcGVuJyk7XG4gICAgICB0aGlzLnJlbmRlcldpbm5pbmdQbGF5ZXJJY29uKHdpbm5lciwgWycjbW9kYWwgLm1vZGFsLWJvZHknLCAnLmVuZC1nYW1lLW1lc3NhZ2UnXSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZU5ld0dhbWVNb2RhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVOZXdHYW1lTW9kYWwobG9jYXRpb24pIHtcbiAgICAgIHZhciBuZXdHYW1lTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAjbW9kYWxcIikpO1xuICAgICAgbmV3R2FtZU1vZGFsID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQobmV3R2FtZU1vZGFsKSA6IG51bGw7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gTmV3R2FtZU1vZGFsO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgTmV3R2FtZU1vZGFsOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG52YXIgUGxheWVyID0gZnVuY3Rpb24gUGxheWVyKHBsYXllclR5cGUsIHBsYXlBcykge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxheWVyKTtcbiAgdGhpcy5wbGF5ZXJUeXBlID0gcGxheWVyVHlwZTtcbiAgdGhpcy5wbGF5QXMgPSBwbGF5QXM7XG59O1xuZXhwb3J0IGRlZmF1bHQgUGxheWVyOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuaW1wb3J0IE5ld0dhbWVNb2RhbCBmcm9tICcuL05ld0dhbWVNb2RhbCc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vUGxheWVyJztcbnZhciBHYW1lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2FtZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2FtZSk7XG4gICAgdGhpcy5uZXdHYW1lTW9kYWwgPSBuZXcgTmV3R2FtZU1vZGFsKCk7XG4gICAgdGhpcy53aW5uaW5nQ29tYmluYXRpb25zID0gW1swLCAxLCAyXSwgWzMsIDQsIDVdLCBbNiwgNywgOF0sIFswLCAzLCA2XSwgWzEsIDQsIDddLCBbMiwgNSwgOF0sIFswLCA0LCA4XSwgWzIsIDQsIDZdXTtcbiAgICB0aGlzLmdhbWVTZXR0aW5ncztcbiAgICB0aGlzLmJvYXJkO1xuICAgIHRoaXMucGxheWVyT25lO1xuICAgIHRoaXMucGxheWVyVHdvO1xuICAgIHRoaXMuY3VycmVudFBsYXllciA9IG51bGw7XG4gICAgdGhpcy5haU1vdmVEZWxheTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBib3RoIGdhbWUgYW5kIG1vZGFsIGZyb20gRE9NXG4gIF9jcmVhdGVDbGFzcyhHYW1lLCBbe1xuICAgIGtleTogXCJyZW1vdmVHYW1lQW5kTW9kYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlR2FtZUFuZE1vZGFsKCkge1xuICAgICAgdGhpcy5uZXdHYW1lTW9kYWwucmVtb3ZlTmV3R2FtZU1vZGFsKCdtYWluJyk7XG4gICAgICB0aGlzLnJlbW92ZUdhbWVCb2FyZCgnLmdhbWUtY29udGFpbmVyJyk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXRzIGFuZCByZW5kZXJzIHRoZSBnYW1lIGJvYXJkIGZvciBhIG5ldyBnYW1lXG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnROZXdHYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0TmV3R2FtZShnYW1lU2V0dGluZ3MpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFpTW92ZURlbGF5KTtcbiAgICAgIHRoaXMuZ2FtZVNldHRpbmdzID0gZ2FtZVNldHRpbmdzO1xuICAgICAgdGhpcy5ib2FyZCA9IG5ldyBBcnJheSg5KS5maWxsKCkubWFwKGZ1bmN0aW9uIChzcXVhcmUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGdhbWVTZXR0aW5ncy5wbGF5ZXJzID09PSAnMS1wbGF5ZXInKSB7XG4gICAgICAgIHRoaXMucGxheWVyT25lID0gbmV3IFBsYXllcignaHVtYW4nLCBnYW1lU2V0dGluZ3MucGxheUFzKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJUd28gPSBuZXcgUGxheWVyKCdhaScsIGdhbWVTZXR0aW5ncy5wbGF5QXMgPT09ICdSZWJlbGxpb24nID8gJ0VtcGlyZScgOiAnUmViZWxsaW9uJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXllck9uZSA9IG5ldyBQbGF5ZXIoJ2h1bWFuJywgJ1JlYmVsbGlvbicpO1xuICAgICAgICB0aGlzLnBsYXllclR3byA9IG5ldyBQbGF5ZXIoJ2h1bWFuJywgJ0VtcGlyZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50UGxheWVyID0gdGhpcy5wbGF5ZXJPbmU7XG4gICAgICB0aGlzLm5ld0dhbWVNb2RhbC5yZW1vdmVOZXdHYW1lTW9kYWwoJ21haW4nKTtcbiAgICAgIHRoaXMucmVtb3ZlR2FtZUJvYXJkKCcuZ2FtZS1jb250YWluZXInKTtcbiAgICAgIHRoaXMucmVuZGVyR2FtZUJvYXJkKHRoaXMuY3VycmVudFBsYXllciwgJy5nYW1lLWNvbnRhaW5lcicpO1xuICAgIH1cblxuICAgIC8vIENsaWNrIGhhbmRsZXIgdGhhdCBhbGxvd3MgdGhlIGN1cnJlbnQgcGxheWVyIHRvIHNlbGVjdCBhIHNxdWFyZSBpZiBpdCBpcyB0aGUgdXNlcidzIHR1cm5cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3RTcXVhcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0U3F1YXJlKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50UGxheWVyLnBsYXllclR5cGUgPT09ICdodW1hbicpIHtcbiAgICAgICAgdGhpcy5wbGF5VHVybihldmVudC50YXJnZXQuaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBsYXlzIHRoZSBjdXJyZW50IHBsYXllcidzIHNlbGVjdGVkIHNxdWFyZSBhbmQgdGhlbiBjaGFuZ2VzIHRvIHRoZSBvcHBvc2luZyBwbGF5ZXIncyB0dXJuIGlmIHRoZSBnYW1lIGhhc24ndCBlbmRlZFxuICB9LCB7XG4gICAga2V5OiBcInBsYXlUdXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXlUdXJuKHNxdWFyZSkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmJvYXJkW3NxdWFyZV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHRoaXMuYm9hcmRbc3F1YXJlXSA9IHRoaXMuY3VycmVudFBsYXllci5wbGF5QXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGVzVG9TZWxlY3RlZFNxdWFyZShzcXVhcmUpO1xuICAgICAgICBpZiAodGhpcy5jaGVja0Zvcldpbm5lcih0aGlzLmN1cnJlbnRQbGF5ZXIpKSB7XG4gICAgICAgICAgdGhpcy5oaWdobGlnaHRXaW5uaW5nU3F1YXJlcyh0aGlzLmN1cnJlbnRQbGF5ZXIpO1xuICAgICAgICAgIHRoaXMuZW5kR2FtZSh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoZWNrRm9yRHJhdygpKSB7XG4gICAgICAgICAgdGhpcy5lbmRHYW1lKCdkcmF3Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50UGxheWVyID09PSB0aGlzLnBsYXllck9uZSA/IHRoaXMuY3VycmVudFBsYXllciA9IHRoaXMucGxheWVyVHdvIDogdGhpcy5jdXJyZW50UGxheWVyID0gdGhpcy5wbGF5ZXJPbmU7XG4gICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VHVybk1lc3NhZ2UoKTtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGxheWVyLnBsYXllclR5cGUgPT09ICdhaScpIHRoaXMuYWlNb3ZlRGVsYXkgPSBzZXRUaW1lb3V0KHRoaXMuY2hhbmdlVG9BaVR1cm4uYmluZCh0aGlzKSwgMTIwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gcGxheSB0aGUgRWFzeSBBSSBvciB0aGUgSGFyZCBBSVxuICB9LCB7XG4gICAga2V5OiBcImNoYW5nZVRvQWlUdXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVRvQWlUdXJuKCkge1xuICAgICAgaWYgKHRoaXMuZ2FtZVNldHRpbmdzLmRpZmZpY3VsdHkgPT09ICdoYXJkJykge1xuICAgICAgICB0aGlzLnBsYXlTbWFydEFpVHVybigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wbGF5UmFuZG9tQWlUdXJuKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQUkgcGlja3MgYW4gdW5wbGF5ZWQgc3F1YXJlIGF0IHJhbmRvbSAoRWFzeSBtb2RlKVxuICB9LCB7XG4gICAga2V5OiBcInBsYXlSYW5kb21BaVR1cm5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheVJhbmRvbUFpVHVybigpIHtcbiAgICAgIHZhciBhdmFpbGFibGVTcXVhcmVzID0gdGhpcy5jaGVja0F2YWlsYWJsZVNxdWFyZXMoKTtcbiAgICAgIHRoaXMucGxheVR1cm4oYXZhaWxhYmxlU3F1YXJlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhdmFpbGFibGVTcXVhcmVzLmxlbmd0aCldKTtcbiAgICB9XG5cbiAgICAvLyBBSSBwaWNrcyBhbiB1bnBsYXllZCBzcXVhcmUgdXNpbmcgdGhlIG1pbmltYXggYWxnb3JpdGhtIChIYXJkIG1vZGUpXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVNtYXJ0QWlUdXJuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXlTbWFydEFpVHVybigpIHtcbiAgICAgIHRoaXMucGxheVR1cm4odGhpcy5oYW5kbGVNaW5pbWF4KHRoaXMuYm9hcmQsIHRoaXMucGxheWVyVHdvLnBsYXlBcykuaW5kZXgpO1xuICAgIH1cblxuICAgIC8vIE1pbmltYXggYWxnb3JpdGhtIHdoaWNoIGRldGVybWluZXMgdGhlIGJlc3QgbW92ZSB0aGUgQUkgc2hvdWxkIHBsYXkgYWdhaW5zdCB0aGUgdXNlciBkdXJpbmcgaXRzIHR1cm5cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVNaW5pbWF4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU1pbmltYXgoYm9hcmQsIHBsYXllcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBhdmFpbGFibGVTcXVhcmVzID0gdGhpcy5jaGVja0F2YWlsYWJsZVNxdWFyZXMoYm9hcmQpO1xuICAgICAgdmFyIGJlc3RUZXN0TW92ZSA9IG51bGw7XG4gICAgICB2YXIgYmVzdFNjb3JlO1xuXG4gICAgICAvLyBIdW1hbiBwbGF5ZXIgKG1pbmltaXppbmcgcGxheWVyKVxuICAgICAgaWYgKHRoaXMuY2hlY2tGb3JXaW5uZXIodGhpcy5wbGF5ZXJPbmUpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NvcmU6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvLyBBSSBwbGF5ZXIgKG1heGltaXppbmcgcGxheWVyKVxuICAgICAgZWxzZSBpZiAodGhpcy5jaGVja0Zvcldpbm5lcih0aGlzLnBsYXllclR3bykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY29yZTogMVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmNoZWNrRm9yRHJhdygpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NvcmU6IDBcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHRlc3RzIHBvdGVudGlhbCBtb3ZlIG91dGNvbWVzIGZvciB0aGUgY3VycmVudCBwbGF5ZXJcbiAgICAgICAgdmFyIHRlc3RNb3ZlcyA9IGF2YWlsYWJsZVNxdWFyZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHNxdWFyZSkge1xuICAgICAgICAgIHZhciB0ZXN0TW92ZSA9IHt9O1xuICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgdGVzdE1vdmUuaW5kZXggPSBib2FyZFtzcXVhcmVdO1xuICAgICAgICAgIGJvYXJkW3NxdWFyZV0gPSBwbGF5ZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAocGxheWVyID09PSBfdGhpcy5wbGF5ZXJUd28ucGxheUFzKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBfdGhpcy5oYW5kbGVNaW5pbWF4KGJvYXJkLCBfdGhpcy5wbGF5ZXJPbmUucGxheUFzKTtcbiAgICAgICAgICAgIHRlc3RNb3ZlLnNjb3JlID0gcmVzdWx0LnNjb3JlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBfdGhpcy5oYW5kbGVNaW5pbWF4KGJvYXJkLCBfdGhpcy5wbGF5ZXJUd28ucGxheUFzKTtcbiAgICAgICAgICAgIHRlc3RNb3ZlLnNjb3JlID0gcmVzdWx0LnNjb3JlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib2FyZFtzcXVhcmVdID0gdGVzdE1vdmUuaW5kZXg7XG4gICAgICAgICAgYWNjLnB1c2godGVzdE1vdmUpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICAvLyBVc2VzIGFycmF5IG9mIHRlc3Qgc2NvcmVzIHRvIGRldGVybWluZSB0aGUgYmVzdCBtb3ZlIGZvciB0aGUgQUkgdG8gcGxheVxuICAgICAgICBpZiAocGxheWVyID09PSB0aGlzLnBsYXllclR3by5wbGF5QXMpIHtcbiAgICAgICAgICBiZXN0U2NvcmUgPSAtSW5maW5pdHk7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0TW92ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0ZXN0TW92ZXNbaV0uc2NvcmUgPiBiZXN0U2NvcmUpIHtcbiAgICAgICAgICAgICAgYmVzdFNjb3JlID0gdGVzdE1vdmVzW2ldLnNjb3JlO1xuICAgICAgICAgICAgICBiZXN0VGVzdE1vdmUgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiZXN0U2NvcmUgPSBJbmZpbml0eTtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGVzdE1vdmVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgaWYgKHRlc3RNb3Zlc1tfaV0uc2NvcmUgPCBiZXN0U2NvcmUpIHtcbiAgICAgICAgICAgICAgYmVzdFNjb3JlID0gdGVzdE1vdmVzW19pXS5zY29yZTtcbiAgICAgICAgICAgICAgYmVzdFRlc3RNb3ZlID0gX2k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXN0TW92ZXNbYmVzdFRlc3RNb3ZlXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVja3MgdGhlIGJvYXJkIHRvIHNlZSBpZiB0aGUgY3VycmVudCBwbGF5ZXIgaGFzIG1hdGNoZWQgb25lIG9mIHRoZSBwb3NzaWJsZSB3aW5uaW5nIGNvbWJpbmF0aW9uc1xuICB9LCB7XG4gICAga2V5OiBcImNoZWNrRm9yV2lubmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yV2lubmVyKHBsYXllcikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy53aW5uaW5nQ29tYmluYXRpb25zLmZpbmQoZnVuY3Rpb24gKGNvbWJpbmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5hdGlvbi5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5ib2FyZFt2YWxdID09PSBwbGF5ZXIucGxheUFzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIHRoZSBib2FyZCB0byBzZWUgaWYgZXZlcnkgc3F1YXJlIGhhcyBiZWVuIGZpbGxlZCB3aXRob3V0IGEgd2lubmVyXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tGb3JEcmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yRHJhdygpIHtcbiAgICAgIHJldHVybiB0aGlzLmJvYXJkLmV2ZXJ5KGZ1bmN0aW9uIChzcXVhcmUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzcXVhcmUgIT09ICdudW1iZXInO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2tzIHRvIHNlZSB3aGljaCBzcXVhcmVzIG9uIHRoZSBib2FyZCBoYXZlbid0IGJlZW4gcGxheWVkIHlldCBpbiB0aGUgY3VycmVudCBnYW1lXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tBdmFpbGFibGVTcXVhcmVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrQXZhaWxhYmxlU3F1YXJlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmJvYXJkLmZpbHRlcihmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3F1YXJlID09PSAnbnVtYmVyJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEVuZHMgdGhlIGN1cnJlbnQgZ2FtZSBpZiBhIHBsYXllciBoYXMgd29uIG9yIGlmIHRoZXJlIGlzIGEgZHJhd1xuICB9LCB7XG4gICAga2V5OiBcImVuZEdhbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5kR2FtZSh3aW5uZXIpIHtcbiAgICAgIHZhciBlbmRHYW1lTWVzc2FnZTtcbiAgICAgIHdpbm5lciA9PT0gJ2RyYXcnID8gZW5kR2FtZU1lc3NhZ2UgPSAnSXRcXCdzIGEgZHJhdyEnIDogZW5kR2FtZU1lc3NhZ2UgPSBcIlRoZSBcIi5jb25jYXQod2lubmVyLCBcIiB3b24hXCIpO1xuICAgICAgdGhpcy5uZXdHYW1lTW9kYWwucmVuZGVyTmV3R2FtZU1vZGFsKGVuZEdhbWVNZXNzYWdlLCB3aW5uZXIsICdtYWluJyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3F1YXJlJykuZm9yRWFjaChmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKCdnYW1lLWVuZGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgfSwge1xuICAgIGtleTogXCJldmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXZlbnRzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcuZ2FtZS1ib2FyZCAuc3F1YXJlLWNvbnRhaW5lciAuc3F1YXJlJykgPyBfdGhpczMuc2VsZWN0U3F1YXJlKGV2ZW50KSA6IG51bGw7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnI21vZGFsIC5yZXN0YXJ0LWJ1dHRvbicpID8gX3RoaXMzLnN0YXJ0TmV3R2FtZShfdGhpczMuZ2FtZVNldHRpbmdzKSA6IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBET00gbWV0aG9kc1xuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUN1cnJlbnRUdXJuTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50VHVybk1lc3NhZ2UoKSB7XG4gICAgICB2YXIgY3VycmVudFR1cm5NZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnJlbnQtdHVybi1tZXNzYWdlJyk7XG4gICAgICBjdXJyZW50VHVybk1lc3NhZ2UuaW5uZXJIVE1MID0gXCJJdCdzIHRoZSBcIi5jb25jYXQodGhpcy5jdXJyZW50UGxheWVyLnBsYXlBcywgXCIncyB0dXJuLlwiKTtcbiAgICAgIDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQXR0cmlidXRlc1RvU2VsZWN0ZWRTcXVhcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQXR0cmlidXRlc1RvU2VsZWN0ZWRTcXVhcmUoc3F1YXJlKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcXVhcmUpLmNsYXNzTGlzdC5hZGQoXCJmYS1cIi5jb25jYXQodGhpcy5jdXJyZW50UGxheWVyLnBsYXlBcyA9PT0gJ1JlYmVsbGlvbicgPyAncmViZWwnIDogJ2VtcGlyZScpLCBcIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzLnRvTG93ZXJDYXNlKCksIFwiLWljb25cIiksICdzZWxlY3RlZCcpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3F1YXJlKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzID09PSAnUmViZWxsaW9uJyA/ICdyZWJlbCcgOiAnZW1waXJlJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhpZ2hsaWdodFdpbm5pbmdTcXVhcmVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZ2hsaWdodFdpbm5pbmdTcXVhcmVzKHBsYXllcikge1xuICAgICAgdmFyIHdpbm5pbmdTcXVhcmVzID0gdGhpcy5jaGVja0Zvcldpbm5lcihwbGF5ZXIpO1xuICAgICAgcmV0dXJuIHdpbm5pbmdTcXVhcmVzLm1hcChmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNxdWFyZSkuY2xhc3NMaXN0LmFkZCgnd2lubmluZy1zcXVhcmUnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJHYW1lQm9hcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyR2FtZUJvYXJkKGZpcnN0UGxheWVyLCBsb2NhdGlvbikge1xuICAgICAgdmFyIGdhbWVCb2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZ2FtZUJvYXJkLmNsYXNzTGlzdC5hZGQoJ2JvYXJkLWNvbnRhaW5lcicpO1xuICAgICAgZ2FtZUJvYXJkLmlubmVySFRNTCA9IFwiXFxuICAgICAgPHAgY2xhc3M9XFxcImN1cnJlbnQtdHVybi1tZXNzYWdlXFxcIj5UaGUgXCIuY29uY2F0KGZpcnN0UGxheWVyLnBsYXlBcywgXCIgZ29lcyBmaXJzdCE8L3A+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZ2FtZS1ib2FyZFxcXCI+XCIpLmNvbmNhdCh0aGlzLmJvYXJkLm1hcChmdW5jdGlvbiAoc3F1YXJlLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzcXVhcmUtY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwic3F1YXJlIGZhLWJyYW5kc1xcXCIgaWQ9XFxcIlwiLmNvbmNhdChpbmRleCwgXCJcXFwiPjwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XCIpO1xuICAgICAgfSkuam9pbignJyksIFwiPC9kaXY+XFxuICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gcmVzdGFydC1idXR0b25cXFwiPlJlc3RhcnQ8L2J1dHRvbj5cXG4gICAgXCIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoZ2FtZUJvYXJkKTtcbiAgICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUdhbWVCb2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVHYW1lQm9hcmQobG9jYXRpb24pIHtcbiAgICAgIHZhciBnYW1lQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAuYm9hcmQtY29udGFpbmVyXCIpKTtcbiAgICAgIGdhbWVCb2FyZCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLnJlbW92ZUNoaWxkKGdhbWVCb2FyZCkgOiBudWxsO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gR2FtZTtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEdhbWU7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbnZhciBTZXR0aW5nc0Zvcm1EYXRhID0gZnVuY3Rpb24gU2V0dGluZ3NGb3JtRGF0YShwbGF5ZXJzLCBkaWZmaWN1bHR5LCBwbGF5QXMpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNldHRpbmdzRm9ybURhdGEpO1xuICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xuICB0aGlzLmRpZmZpY3VsdHkgPSBkaWZmaWN1bHR5O1xuICB0aGlzLnBsYXlBcyA9IHBsYXlBcztcbn07XG5leHBvcnQgZGVmYXVsdCBTZXR0aW5nc0Zvcm1EYXRhOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuaW1wb3J0IEdhbWUgZnJvbSAnLi9HYW1lJztcbmltcG9ydCBTZXR0aW5nc0Zvcm1EYXRhIGZyb20gJy4vU2V0dGluZ3NGb3JtRGF0YSc7XG52YXIgR2FtZVNldHRpbmdzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2FtZVNldHRpbmdzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHYW1lU2V0dGluZ3MpO1xuICAgIHRoaXMuZ2FtZSA9IG5ldyBHYW1lKCk7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEdhbWVTZXR0aW5ncywgW3tcbiAgICBrZXk6IFwiaGFuZGxlU3VibWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChldmVudCwgZ2FtZVNldHRpbmdzRGF0YSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBnYW1lU2V0dGluZ3MgPSBuZXcgU2V0dGluZ3NGb3JtRGF0YShnYW1lU2V0dGluZ3NEYXRhLnBsYXllcnMsIGdhbWVTZXR0aW5nc0RhdGEuZGlmZmljdWx0eSwgZ2FtZVNldHRpbmdzRGF0YS5wbGF5QXMpO1xuICAgICAgdGhpcy5yZW1vdmVHYW1lU2V0dGluZ3MoJy5nYW1lLWNvbnRhaW5lcicpO1xuICAgICAgdGhpcy5nYW1lLnN0YXJ0TmV3R2FtZShnYW1lU2V0dGluZ3MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2dnbGVPbmVQbGF5ZXJTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVPbmVQbGF5ZXJTZXR0aW5ncyhwbGF5ZXJzKSB7XG4gICAgICB0aGlzLnJlbW92ZU9uZVBsYXllclNldHRpbmdzKCcuZ2FtZS1zZXR0aW5ncy1mb3JtJyk7XG4gICAgICBpZiAocGxheWVycyA9PT0gJzEtcGxheWVyJykge1xuICAgICAgICB0aGlzLnJlbmRlck9uZVBsYXllclNldHRpbmdzKFsnLmdhbWUtc2V0dGluZ3MtZm9ybScsICcuYnV0dG9uLWdyb3VwJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvcGVuR2FtZVNldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5HYW1lU2V0dGluZ3MoKSB7XG4gICAgICB0aGlzLmdhbWUucmVtb3ZlR2FtZUFuZE1vZGFsKCk7XG4gICAgICB0aGlzLnJlbmRlckdhbWVTZXR0aW5ncygnLmdhbWUtY29udGFpbmVyJyk7XG4gICAgfVxuXG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJPbmVQbGF5ZXJTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJPbmVQbGF5ZXJTZXR0aW5ncyhsb2NhdGlvbikge1xuICAgICAgdmFyIG9uZVBsYXllclNldHRpbmdzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBvbmVQbGF5ZXJTZXR0aW5ncy5jbGFzc0xpc3QuYWRkKCdvbmUtcGxheWVyLXNldHRpbmdzJyk7XG4gICAgICBvbmVQbGF5ZXJTZXR0aW5ncy5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgb25lLXBsYXllci1zZXR0aW5nIGRpZmZpY3VsdHlcXFwiPlxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwiZGlmZmljdWx0eS1pbnB1dFxcXCI+RGlmZmljdWx0eTo8L2xhYmVsPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VsZWN0LXdyYXBwZXJcXFwiPlxcbiAgICAgICAgICA8c2VsZWN0IG5hbWU9XFxcImRpZmZpY3VsdHlcXFwiIGlkPVxcXCJkaWZmaWN1bHR5LWlucHV0XFxcIiBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCIgcmVxdWlyZWQ+XFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiZWFzeVxcXCIgc2VsZWN0ZWQ+RWFzeTwvb3B0aW9uPlxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImhhcmRcXFwiPkhhcmQ8L29wdGlvbj5cXG4gICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIG9uZS1wbGF5ZXItc2V0dGluZyBwbGF5LWFzXFxcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInBsYXktYXMtaW5wdXRcXFwiPlBsYXkgYXM6PC9sYWJlbD5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdC13cmFwcGVyXFxcIj5cXG4gICAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJwbGF5QXNcXFwiIGlkPVxcXCJwbGF5LWFzLWlucHV0XFxcIiBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCIgcmVxdWlyZWQ+XFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiUmViZWxsaW9uXFxcIiBzZWxlY3RlZD5SZWJlbCBBbGxpYW5jZTwvb3B0aW9uPlxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkVtcGlyZVxcXCI+R2FsYWN0aWMgRW1waXJlPC9vcHRpb24+XFxuICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIFwiO1xuICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQob25lUGxheWVyU2V0dGluZ3MpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxvY2F0aW9uKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uWzBdKS5pbnNlcnRCZWZvcmUob25lUGxheWVyU2V0dGluZ3MsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlT25lUGxheWVyU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlT25lUGxheWVyU2V0dGluZ3MobG9jYXRpb24pIHtcbiAgICAgIHZhciBvbmVQbGF5ZXJTZXR0aW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQobG9jYXRpb24sIFwiIC5vbmUtcGxheWVyLXNldHRpbmdzXCIpKTtcbiAgICAgIG9uZVBsYXllclNldHRpbmdzID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQob25lUGxheWVyU2V0dGluZ3MpIDogbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyR2FtZVNldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckdhbWVTZXR0aW5ncyhsb2NhdGlvbikge1xuICAgICAgdmFyIGdhbWVTZXR0aW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZ2FtZVNldHRpbmdzLmNsYXNzTGlzdC5hZGQoJ2dhbWUtc2V0dGluZ3MtY29udGFpbmVyJyk7XG4gICAgICBnYW1lU2V0dGluZ3MuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8aDM+U3RhcnQgYSBOZXcgR2FtZTwvaDM+XFxuICAgICAgPGZvcm0gY2xhc3M9XFxcImdhbWUtc2V0dGluZ3MtZm9ybVxcXCIgbm92YWxpZGF0ZT5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgcGxheWVyc1xcXCI+XFxuICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInBsYXllcnMtaW5wdXRcXFwiPlBsYXllcnM6PC9sYWJlbD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VsZWN0LXdyYXBwZXJcXFwiPlxcbiAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cXFwicGxheWVyc1xcXCIgaWQ9XFxcInBsYXllcnMtaW5wdXRcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiByZXF1aXJlZD5cXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjEtcGxheWVyXFxcIiBzZWxlY3RlZD5PcmdhbmljIHZzLiBEcm9pZCAoMS1QbGF5ZXIpPC9vcHRpb24+XFxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyLXBsYXllclxcXCI+T3JnYW5pYyB2cy4gT3JnYW5pYyAoMi1QbGF5ZXIpPC9vcHRpb24+XFxuICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b24tZ3JvdXBcXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ1dHRvbiBzdGFydC1idXR0b25cXFwiPlN0YXJ0PC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Zvcm0+XFxuICAgIFwiO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQoZ2FtZVNldHRpbmdzKTtcbiAgICAgIHRoaXMudG9nZ2xlT25lUGxheWVyU2V0dGluZ3MoJzEtcGxheWVyJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUdhbWVTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVHYW1lU2V0dGluZ3MobG9jYXRpb24pIHtcbiAgICAgIHZhciBnYW1lU2V0dGluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAuZ2FtZS1zZXR0aW5ncy1jb250YWluZXJcIikpO1xuICAgICAgZ2FtZVNldHRpbmdzID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQoZ2FtZVNldHRpbmdzKSA6IG51bGw7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBHYW1lU2V0dGluZ3M7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBHYW1lU2V0dGluZ3M7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vbW9kdWxlcy9IZWFkZXInO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuL21vZHVsZXMvRm9vdGVyJztcbmltcG9ydCBHYW1lU2V0dGluZ3MgZnJvbSAnLi9tb2R1bGVzL0dhbWVTZXR0aW5ncyc7XG52YXIgQXBwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQXBwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHApO1xuICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcigpO1xuICAgIHRoaXMuZm9vdGVyID0gbmV3IEZvb3RlcigpO1xuICAgIHRoaXMuZ2FtZVNldHRpbmdzID0gbmV3IEdhbWVTZXR0aW5ncygpO1xuICAgIHRoaXMucmVuZGVyQXBwKCk7XG4gIH1cblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcbiAgICBrZXk6IFwiZXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV2ZW50cygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcjbW9kYWwgLmdhbWUtc2V0dGluZ3MtYnV0dG9uJykgPyBfdGhpcy5nYW1lU2V0dGluZ3Mub3BlbkdhbWVTZXR0aW5ncygpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5nYW1lLXNldHRpbmdzLWZvcm0gI3BsYXllcnMtaW5wdXQnKSA/IF90aGlzLmdhbWVTZXR0aW5ncy50b2dnbGVPbmVQbGF5ZXJTZXR0aW5ncyhlbGVtZW50LnZhbHVlKSA6IG51bGw7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcygnLmdhbWUtc2V0dGluZ3MtZm9ybScpKSB7XG4gICAgICAgICAgZWxlbWVudC5kaWZmaWN1bHR5ICYmIGVsZW1lbnQucGxheUFzID8gX3RoaXMuZ2FtZVNldHRpbmdzLmhhbmRsZVN1Ym1pdChldmVudCwge1xuICAgICAgICAgICAgcGxheWVyczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcnMtaW5wdXQnKS52YWx1ZSxcbiAgICAgICAgICAgIGRpZmZpY3VsdHk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWZmaWN1bHR5LWlucHV0JykudmFsdWUsXG4gICAgICAgICAgICBwbGF5QXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5LWFzLWlucHV0JykudmFsdWVcbiAgICAgICAgICB9KSA6IF90aGlzLmdhbWVTZXR0aW5ncy5oYW5kbGVTdWJtaXQoZXZlbnQsIHtcbiAgICAgICAgICAgIHBsYXllcnM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXJzLWlucHV0JykudmFsdWUsXG4gICAgICAgICAgICBkaWZmaWN1bHR5OiBudWxsLFxuICAgICAgICAgICAgcGxheUFzOiBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIERPTSBtZXRob2RzXG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyQXBwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckFwcCgpIHtcbiAgICAgIHRoaXMuaGVhZGVyLnJlbmRlckhlYWRlcignI2FwcCcpO1xuICAgICAgdGhpcy5yZW5kZXJNYWluKCcjYXBwJyk7XG4gICAgICB0aGlzLmZvb3Rlci5yZW5kZXJGb290ZXIoJyNhcHAnKTtcbiAgICAgIHRoaXMuZ2FtZVNldHRpbmdzLm9wZW5HYW1lU2V0dGluZ3MoKTtcbiAgICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlck1haW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyTWFpbihsb2NhdGlvbikge1xuICAgICAgdmFyIG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gICAgICBtYWluLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz1cXFwiZ2FtZS1jb250YWluZXJcXFwiPjwvZGl2PlwiO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQobWFpbik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBBcHA7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmF2aWNvbi5pY29cIjsiLCJpbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9pbmRleC5odG1sJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9mYXZpY29uLmljbyc7XG5pbXBvcnQgJ25vcm1hbGl6ZS5jc3MnO1xuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9jc3MvYWxsLm1pbi5jc3MnO1xuaW1wb3J0ICcuL3N0eWxlc2hlZXRzL3N0eWxlLnNjc3MnO1xubmV3IEFwcCgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///232\n')}},__webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var n=__webpack_require__.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var c=n.getElementsByTagName("script");if(c.length)for(var t=c.length-1;t>-1&&(!e||!/^http(s?):/.test(e));)e=c[t--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var __webpack_exports__={};__webpack_modules__[232](0,__webpack_exports__,__webpack_require__)})();