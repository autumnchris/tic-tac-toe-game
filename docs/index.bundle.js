(()=>{"use strict";var __webpack_modules__={232:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n;// ./src/assets/images/star-wars-logo.png\nconst star_wars_logo_namespaceObject = __webpack_require__.p + "assets/008e3ccd596f5948b8b6.png";\n;// ./src/modules/Header.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Header = /*#__PURE__*/function () {\n  function Header() {\n    _classCallCheck(this, Header);\n  }\n  _createClass(Header, [{\n    key: "renderHeader",\n    value:\n    // DOM methods\n    function renderHeader(location) {\n      var header = document.createElement(\'header\');\n      header.innerHTML = "\\n      <h1>\\n        <img src=\\"".concat(star_wars_logo_namespaceObject, "\\" class=\\"star-wars-logo\\" alt=\\"Star Wars\\" />\\n      </h1>\\n      <h2>Tic-Tac-Toe</h2>\\n    ");\n      document.querySelector(location).appendChild(header);\n    }\n  }]);\n  return Header;\n}();\n/* harmony default export */ const modules_Header = (Header);\n;// ./src/modules/Footer.js\nfunction Footer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Footer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Footer_createClass(Constructor, protoProps, staticProps) { if (protoProps) Footer_defineProperties(Constructor.prototype, protoProps); if (staticProps) Footer_defineProperties(Constructor, staticProps); return Constructor; }\nvar Footer = /*#__PURE__*/function () {\n  function Footer() {\n    Footer_classCallCheck(this, Footer);\n  }\n  Footer_createClass(Footer, [{\n    key: "renderFooter",\n    value:\n    // DOM methods\n    function renderFooter(location) {\n      var footer = document.createElement(\'footer\');\n      footer.innerHTML = "Created by <a href=\\"https://autumnchris.github.io/portfolio\\" target=\\"_blank\\">Autumn Bullard</a> &copy; ".concat(new Date().getFullYear());\n      document.querySelector(location).appendChild(footer);\n    }\n  }]);\n  return Footer;\n}();\n/* harmony default export */ const modules_Footer = (Footer);\n;// ./src/modules/NewGameModal.js\nfunction NewGameModal_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction NewGameModal_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction NewGameModal_createClass(Constructor, protoProps, staticProps) { if (protoProps) NewGameModal_defineProperties(Constructor.prototype, protoProps); if (staticProps) NewGameModal_defineProperties(Constructor, staticProps); return Constructor; }\nvar NewGameModal = /*#__PURE__*/function () {\n  function NewGameModal() {\n    NewGameModal_classCallCheck(this, NewGameModal);\n  }\n  NewGameModal_createClass(NewGameModal, [{\n    key: "renderWinningPlayerIcon",\n    value:\n    // DOM methods\n    function renderWinningPlayerIcon(winner, location) {\n      var winningPlayerIcon = document.createElement(\'div\');\n      winningPlayerIcon.classList.add(\'winning-player-icon\');\n      if (winner === \'draw\') {\n        winningPlayerIcon.innerHTML = "\\n        <span class=\\"fa-brands fa-rebel rebellion-icon\\" aria-hidden=\\"true\\"></span>\\n        <span class=\\"fa-brands fa-empire empire-icon\\" aria-hidden=\\"true\\"></span>\\n      ";\n      } else {\n        winningPlayerIcon.innerHTML = "<span class=\\"fa-brands fa-".concat(winner === \'Rebellion\' ? \'rebel\' : \'empire\', " ").concat(winner.toLowerCase(), "-icon\\" aria-hidden=\\"true\\"></span>");\n      }\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(winningPlayerIcon);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(winningPlayerIcon, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "renderNewGameModal",\n    value: function renderNewGameModal(endGameMessage, winner, location) {\n      var newGameModal = document.createElement(\'div\');\n      newGameModal.setAttribute(\'id\', \'modal\');\n      newGameModal.classList.add(\'modal\');\n      newGameModal.innerHTML = "\\n      <div class=\\"modal-content\\">\\n        <div class=\\"modal-body\\">\\n          <p class=\\"end-game-message\\">".concat(endGameMessage, "</p>\\n          <div class=\\"button-group\\">\\n            <button type=\\"button\\" class=\\"button restart-button\\">Play Again</button>\\n            <button type=\\"button\\" class=\\"button game-settings-button\\">Settings</button>\\n          </div>\\n        </div>\\n      </div>\\n    ");\n      document.querySelector(location).appendChild(newGameModal);\n      document.querySelector(\'body\').classList.add(\'modal-open\');\n      this.renderWinningPlayerIcon(winner, [\'#modal .modal-body\', \'.end-game-message\']);\n    }\n  }, {\n    key: "removeNewGameModal",\n    value: function removeNewGameModal(location) {\n      var newGameModal = document.querySelector("".concat(location, " #modal"));\n      newGameModal ? document.querySelector(location).removeChild(newGameModal) : null;\n      document.querySelector(\'body\').classList.remove(\'modal-open\');\n    }\n  }]);\n  return NewGameModal;\n}();\n/* harmony default export */ const modules_NewGameModal = (NewGameModal);\n;// ./src/modules/Player.js\nfunction Player_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nvar Player = function Player(playerType, playAs) {\n  Player_classCallCheck(this, Player);\n  this.playerType = playerType;\n  this.playAs = playAs;\n};\n/* harmony default export */ const modules_Player = (Player);\n;// ./src/modules/Game.js\nfunction Game_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Game_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Game_createClass(Constructor, protoProps, staticProps) { if (protoProps) Game_defineProperties(Constructor.prototype, protoProps); if (staticProps) Game_defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar Game = /*#__PURE__*/function () {\n  function Game() {\n    Game_classCallCheck(this, Game);\n    this.newGameModal = new modules_NewGameModal();\n    this.winningCombinations = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    this.gameSettings;\n    this.board;\n    this.playerOne;\n    this.playerTwo;\n    this.currentPlayer = null;\n    this.aiMoveDelay;\n  }\n\n  // Resets and renders the game board for a new game\n  Game_createClass(Game, [{\n    key: "startNewGame",\n    value: function startNewGame(gameSettings) {\n      clearTimeout(this.aiMoveDelay);\n      this.gameSettings = gameSettings;\n      this.board = new Array(9).fill().map(function (square, index) {\n        return index;\n      });\n      if (gameSettings.players === \'1-player\') {\n        this.playerOne = new modules_Player(\'human\', gameSettings.playAs);\n        this.playerTwo = new modules_Player(\'ai\', gameSettings.playAs === \'Rebellion\' ? \'Empire\' : \'Rebellion\');\n      } else {\n        this.playerOne = new modules_Player(\'human\', \'Rebellion\');\n        this.playerTwo = new modules_Player(\'human\', \'Empire\');\n      }\n      this.currentPlayer = this.playerOne;\n      this.newGameModal.removeNewGameModal(\'main\');\n      this.removeGameBoard(\'.game-container\');\n      this.renderGameBoard(this.currentPlayer, \'.game-container\');\n    }\n\n    // Click handler that allows the current player to select a square if it is the user\'s turn\n  }, {\n    key: "selectSquare",\n    value: function selectSquare(event) {\n      if (this.currentPlayer.playerType === \'human\') {\n        this.playTurn(event.target.id);\n      }\n    }\n\n    // Plays the current player\'s selected square and then changes to the opposing player\'s turn if the game hasn\'t ended\n  }, {\n    key: "playTurn",\n    value: function playTurn(square) {\n      if (typeof this.board[square] === \'number\') {\n        this.board[square] = this.currentPlayer.playAs.toLowerCase();\n        this.addAttributesToSelectedSquare(square);\n        if (this.checkForWinner(this.currentPlayer)) {\n          this.highlightWinningSquares(this.currentPlayer);\n          this.endGame(this.currentPlayer.playAs);\n        } else if (this.checkForDraw()) {\n          this.endGame(\'draw\');\n        } else {\n          this.currentPlayer === this.playerOne ? this.currentPlayer = this.playerTwo : this.currentPlayer = this.playerOne;\n          this.updateCurrentTurnMessage();\n          if (this.currentPlayer.playerType === \'ai\') this.aiMoveDelay = setTimeout(this.changeToAiTurn.bind(this), 1200);\n        }\n      }\n    }\n\n    // Determines whether to play the Easy AI or the Hard AI\n  }, {\n    key: "changeToAiTurn",\n    value: function changeToAiTurn() {\n      if (this.gameSettings.difficulty === \'hard\') {\n        this.playSmartAiTurn();\n      } else {\n        this.playRandomAiTurn();\n      }\n    }\n\n    // AI picks an unplayed square at random (Easy mode)\n  }, {\n    key: "playRandomAiTurn",\n    value: function playRandomAiTurn() {\n      var availableSquares = this.checkAvailableSquares();\n      this.playTurn(availableSquares[Math.floor(Math.random() * availableSquares.length)]);\n    }\n\n    // AI picks an unplayed square using the minimax algorithm (Hard mode)\n  }, {\n    key: "playSmartAiTurn",\n    value: function playSmartAiTurn() {\n      this.playTurn(this.handleMinimax(this.board, this.playerTwo.playAs).index);\n    }\n\n    // Minimax algorithm which determines the best move the AI should play against the user during its turn\n  }, {\n    key: "handleMinimax",\n    value: function handleMinimax(board, player) {\n      var _this = this;\n      var availableSquares = this.checkAvailableSquares(board);\n      var bestTestMove = null;\n      var bestScore;\n\n      // Human player (minimizing player)\n      if (this.checkForWinner(this.playerOne)) {\n        return {\n          score: -1\n        };\n      }\n      // AI player (maximizing player)\n      else if (this.checkForWinner(this.playerTwo)) {\n        return {\n          score: 1\n        };\n      } else if (this.checkForDraw()) {\n        return {\n          score: 0\n        };\n      } else {\n        // Recursively tests potential move outcomes for the current player\n        var testMoves = availableSquares.reduce(function (acc, square) {\n          var testMove = {};\n          var result;\n          testMove.index = board[square];\n          board[square] = player.toLowerCase();\n          if (player === _this.playerTwo.playAs) {\n            result = _this.handleMinimax(board, _this.playerOne.playAs);\n            testMove.score = result.score;\n          } else {\n            result = _this.handleMinimax(board, _this.playerTwo.playAs);\n            testMove.score = result.score;\n          }\n          board[square] = testMove.index;\n          acc.push(testMove);\n          return acc;\n        }, []);\n\n        // Uses array of test scores to determine the best move for the AI to play\n        if (player === this.playerTwo.playAs) {\n          bestScore = -Infinity;\n          for (var i = 0; i < testMoves.length; i++) {\n            if (testMoves[i].score > bestScore) {\n              bestScore = testMoves[i].score;\n              bestTestMove = i;\n            }\n          }\n        } else {\n          bestScore = Infinity;\n          for (var _i = 0; _i < testMoves.length; _i++) {\n            if (testMoves[_i].score < bestScore) {\n              bestScore = testMoves[_i].score;\n              bestTestMove = _i;\n            }\n          }\n        }\n        return testMoves[bestTestMove];\n      }\n    }\n\n    // Checks the board to see if the current player has matched one of the possible winning combinations\n  }, {\n    key: "checkForWinner",\n    value: function checkForWinner(player) {\n      var _this2 = this;\n      return this.winningCombinations.find(function (combination) {\n        return combination.every(function (val) {\n          return _this2.board[val] === player.playAs.toLowerCase();\n        });\n      });\n    }\n\n    // Checks the board to see if every square has been filled without a winner\n  }, {\n    key: "checkForDraw",\n    value: function checkForDraw() {\n      return this.board.every(function (square) {\n        return typeof square !== \'number\';\n      });\n    }\n\n    // Checks to see which squares on the board haven\'t been played yet in the current game\n  }, {\n    key: "checkAvailableSquares",\n    value: function checkAvailableSquares() {\n      return this.board.filter(function (square) {\n        return typeof square === \'number\';\n      });\n    }\n\n    // Ends the current game if a player has won or if there is a draw\n  }, {\n    key: "endGame",\n    value: function endGame(winner) {\n      var endGameMessage;\n      winner === \'draw\' ? endGameMessage = \'It\\\'s a draw!\' : endGameMessage = "The ".concat(winner, " won!");\n      this.newGameModal.renderNewGameModal(endGameMessage, winner, \'main\');\n      document.querySelectorAll(\'.square\').forEach(function (square) {\n        square.classList.add(\'game-ended\');\n      });\n    }\n\n    // Event listeners\n  }, {\n    key: "events",\n    value: function events() {\n      var _this3 = this;\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'.game-board .square-container .square\') ? _this3.selectSquare(event) : null;\n        element.matches(\'#modal .restart-button\') ? _this3.startNewGame(_this3.gameSettings) : null;\n      });\n    }\n\n    // DOM methods\n  }, {\n    key: "updateCurrentTurnMessage",\n    value: function updateCurrentTurnMessage() {\n      var currentTurnMessage = document.querySelector(\'.current-turn-message\');\n      currentTurnMessage.innerHTML = "It\'s the ".concat(this.currentPlayer.playAs, "\'s turn.");\n      ;\n    }\n  }, {\n    key: "addAttributesToSelectedSquare",\n    value: function addAttributesToSelectedSquare(square) {\n      document.getElementById(square).classList.add("fa-".concat(this.currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\'), "".concat(this.currentPlayer.playAs.toLowerCase(), "-icon"), \'selected\');\n      document.getElementById(square).setAttribute(\'aria-label\', this.currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\');\n    }\n  }, {\n    key: "highlightWinningSquares",\n    value: function highlightWinningSquares(player) {\n      var winningSquares = this.checkForWinner(player);\n      return winningSquares.map(function (square) {\n        document.getElementById(square).classList.add(\'winning-square\');\n      });\n    }\n  }, {\n    key: "renderGameBoard",\n    value: function renderGameBoard(firstPlayer, location) {\n      var gameBoard = document.createElement(\'div\');\n      gameBoard.classList.add(\'board-container\');\n      gameBoard.innerHTML = "\\n      <p class=\\"current-turn-message\\">The ".concat(firstPlayer.playAs, " goes first!</p>\\n      <div class=\\"game-board\\">").concat(this.board.map(function (square, index) {\n        return "<div class=\\"square-container\\">\\n          <button class=\\"square fa-brands\\" id=\\"".concat(index, "\\"></button>\\n        </div>");\n      }).join(\'\'), "</div>\\n      <button type=\\"button\\" class=\\"button restart-button\\">Restart</button>\\n    ");\n      document.querySelector(location).appendChild(gameBoard);\n      this.events();\n    }\n  }, {\n    key: "removeGameBoard",\n    value: function removeGameBoard(location) {\n      var gameBoard = document.querySelector("".concat(location, " .board-container"));\n      gameBoard ? document.querySelector(location).removeChild(gameBoard) : null;\n    }\n  }]);\n  return Game;\n}();\n/* harmony default export */ const modules_Game = (Game);\n;// ./src/modules/SettingsFormData.js\nfunction SettingsFormData_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nvar SettingsFormData = function SettingsFormData(players, difficulty, playAs) {\n  SettingsFormData_classCallCheck(this, SettingsFormData);\n  this.players = players;\n  this.difficulty = difficulty;\n  this.playAs = playAs;\n};\n/* harmony default export */ const modules_SettingsFormData = (SettingsFormData);\n;// ./src/modules/GameSettings.js\nfunction GameSettings_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction GameSettings_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction GameSettings_createClass(Constructor, protoProps, staticProps) { if (protoProps) GameSettings_defineProperties(Constructor.prototype, protoProps); if (staticProps) GameSettings_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar GameSettings = /*#__PURE__*/function () {\n  function GameSettings() {\n    GameSettings_classCallCheck(this, GameSettings);\n    this.game = new modules_Game();\n    this.newGameModal = new modules_NewGameModal();\n  }\n  GameSettings_createClass(GameSettings, [{\n    key: "handleSubmit",\n    value: function handleSubmit(event, gameSettingsData) {\n      event.preventDefault();\n      var gameSettings = new modules_SettingsFormData(gameSettingsData.players, gameSettingsData.difficulty, gameSettingsData.playAs);\n      this.removeGameSettings(\'.game-container\');\n      this.game.startNewGame(gameSettings);\n    }\n  }, {\n    key: "toggleOnePlayerSettings",\n    value: function toggleOnePlayerSettings(players) {\n      this.removeOnePlayerSettings(\'.game-settings-form\');\n      if (players === \'1-player\') {\n        this.renderOnePlayerSettings([\'.game-settings-form\', \'.button-group\']);\n      }\n    }\n  }, {\n    key: "openGameSettings",\n    value: function openGameSettings() {\n      this.newGameModal.removeNewGameModal(\'main\');\n      this.game.removeGameBoard(\'.game-container\');\n      this.renderGameSettings(\'.game-container\');\n    }\n\n    // DOM methods\n  }, {\n    key: "renderOnePlayerSettings",\n    value: function renderOnePlayerSettings(location) {\n      var onePlayerSettings = document.createElement(\'div\');\n      onePlayerSettings.classList.add(\'one-player-settings\');\n      onePlayerSettings.innerHTML = "\\n      <div class=\\"form-group one-player-setting difficulty\\">\\n        <label for=\\"difficulty-input\\">Difficulty:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"difficulty\\" id=\\"difficulty-input\\" autocomplete=\\"off\\" required>\\n            <option value=\\"easy\\" selected>Easy</option>\\n            <option value=\\"hard\\">Hard</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\"form-group one-player-setting play-as\\">\\n        <label for=\\"play-as-input\\">Play as:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"playAs\\" id=\\"play-as-input\\" autocomplete=\\"off\\" required>\\n            <option value=\\"Rebellion\\" selected>Rebel Alliance</option>\\n            <option value=\\"Empire\\">Galactic Empire</option>\\n          </select>\\n        </div>\\n      </div>\\n    ";\n      if (typeof location === \'string\') {\n        document.querySelector(location).appendChild(onePlayerSettings);\n      } else if (Array.isArray(location)) {\n        document.querySelector(location[0]).insertBefore(onePlayerSettings, document.querySelector(location[1]));\n      }\n    }\n  }, {\n    key: "removeOnePlayerSettings",\n    value: function removeOnePlayerSettings(location) {\n      var onePlayerSettings = document.querySelector("".concat(location, " .one-player-settings"));\n      onePlayerSettings ? document.querySelector(location).removeChild(onePlayerSettings) : null;\n    }\n  }, {\n    key: "renderGameSettings",\n    value: function renderGameSettings(location) {\n      var gameSettings = document.createElement(\'div\');\n      gameSettings.classList.add(\'game-settings-container\');\n      gameSettings.innerHTML = "\\n      <h3>Start a New Game</h3>\\n      <form class=\\"game-settings-form\\" novalidate>\\n        <div class=\\"form-group players\\">\\n          <label for=\\"players-input\\">Players:</label>\\n          <div class=\\"select-wrapper\\">\\n            <select name=\\"players\\" id=\\"players-input\\" autocomplete=\\"off\\" required>\\n              <option value=\\"1-player\\" selected>Organic vs. Droid (1-Player)</option>\\n              <option value=\\"2-player\\">Organic vs. Organic (2-Player)</option>\\n            </select>\\n          </div>\\n        </div>\\n        <div class=\\"button-group\\">\\n          <button type=\\"submit\\" class=\\"button start-button\\">Start</button>\\n        </div>\\n      </form>\\n    ";\n      document.querySelector(location).appendChild(gameSettings);\n      this.toggleOnePlayerSettings(\'1-player\');\n    }\n  }, {\n    key: "removeGameSettings",\n    value: function removeGameSettings(location) {\n      var gameSettings = document.querySelector("".concat(location, " .game-settings-container"));\n      gameSettings ? document.querySelector(location).removeChild(gameSettings) : null;\n    }\n  }]);\n  return GameSettings;\n}();\n/* harmony default export */ const modules_GameSettings = (GameSettings);\n;// ./src/App.js\nfunction App_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction App_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction App_createClass(Constructor, protoProps, staticProps) { if (protoProps) App_defineProperties(Constructor.prototype, protoProps); if (staticProps) App_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    App_classCallCheck(this, App);\n    this.header = new modules_Header();\n    this.footer = new modules_Footer();\n    this.gameSettings = new modules_GameSettings();\n    this.renderApp();\n  }\n\n  // Event listeners\n  App_createClass(App, [{\n    key: "events",\n    value: function events() {\n      var _this = this;\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'#modal .game-settings-button\') ? _this.gameSettings.openGameSettings() : null;\n      });\n      document.addEventListener(\'change\', function (event) {\n        var element = event.target;\n        element.matches(\'.game-settings-form #players-input\') ? _this.gameSettings.toggleOnePlayerSettings(element.value) : null;\n      });\n      document.addEventListener(\'submit\', function (event) {\n        var element = event.target;\n        if (element.matches(\'.game-settings-form\')) {\n          element.difficulty && element.playAs ? _this.gameSettings.handleSubmit(event, {\n            players: document.getElementById(\'players-input\').value,\n            difficulty: document.getElementById(\'difficulty-input\').value,\n            playAs: document.getElementById(\'play-as-input\').value\n          }) : _this.gameSettings.handleSubmit(event, {\n            players: document.getElementById(\'players-input\').value,\n            difficulty: null,\n            playAs: null\n          });\n        }\n      });\n    }\n\n    // DOM methods\n  }, {\n    key: "renderApp",\n    value: function renderApp() {\n      this.header.renderHeader(\'#app\');\n      this.renderMain(\'#app\');\n      this.footer.renderFooter(\'#app\');\n      this.gameSettings.openGameSettings();\n      this.events();\n    }\n  }, {\n    key: "renderMain",\n    value: function renderMain(location) {\n      var main = document.createElement(\'main\');\n      main.innerHTML = "<div class=\\"game-container\\"></div>";\n      document.querySelector(location).appendChild(main);\n    }\n  }]);\n  return App;\n}();\n/* harmony default export */ const src_App = (App);\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/index.html\n/* harmony default export */ const cjsname_name_ext_src = (__webpack_require__.p + "index.html");\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/favicon.ico\n/* harmony default export */ const favicon = (__webpack_require__.p + "favicon.ico");\n;// ./src/index.js\n\n\n\n\n\n\nnew src_App();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaFFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvSGVhZGVyLmpzP2U4NWMiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9tb2R1bGVzL0Zvb3Rlci5qcz80MTNmIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9OZXdHYW1lTW9kYWwuanM/YzRlOCIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvUGxheWVyLmpzPzcyY2YiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9tb2R1bGVzL0dhbWUuanM/ODk0YyIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvU2V0dGluZ3NGb3JtRGF0YS5qcz9kMDBhIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9HYW1lU2V0dGluZ3MuanM/YWVmOCIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL0FwcC5qcz8zMzI3Iiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvaW5kZXguaHRtbD83M2NmIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvZmF2aWNvbi5pY28/YWU3MCIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL2luZGV4LmpzP2Q5YmUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5pbXBvcnQgc3RhcldhcnNMb2dvIGZyb20gJy4uL2Fzc2V0cy9pbWFnZXMvc3Rhci13YXJzLWxvZ28ucG5nJztcbnZhciBIZWFkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRlcik7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcbiAgICBrZXk6IFwicmVuZGVySGVhZGVyXCIsXG4gICAgdmFsdWU6XG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJIZWFkZXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgICAgIGhlYWRlci5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDxoMT5cXG4gICAgICAgIDxpbWcgc3JjPVxcXCJcIi5jb25jYXQoc3RhcldhcnNMb2dvLCBcIlxcXCIgY2xhc3M9XFxcInN0YXItd2Fycy1sb2dvXFxcIiBhbHQ9XFxcIlN0YXIgV2Fyc1xcXCIgLz5cXG4gICAgICA8L2gxPlxcbiAgICAgIDxoMj5UaWMtVGFjLVRvZTwvaDI+XFxuICAgIFwiKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBIZWFkZXI7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG52YXIgRm9vdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRm9vdGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb290ZXIpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhGb290ZXIsIFt7XG4gICAga2V5OiBcInJlbmRlckZvb3RlclwiLFxuICAgIHZhbHVlOlxuICAgIC8vIERPTSBtZXRob2RzXG4gICAgZnVuY3Rpb24gcmVuZGVyRm9vdGVyKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9vdGVyJyk7XG4gICAgICBmb290ZXIuaW5uZXJIVE1MID0gXCJDcmVhdGVkIGJ5IDxhIGhyZWY9XFxcImh0dHBzOi8vYXV0dW1uY2hyaXMuZ2l0aHViLmlvL3BvcnRmb2xpb1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPkF1dHVtbiBCdWxsYXJkPC9hPiAmY29weTsgXCIuY29uY2F0KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChmb290ZXIpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRm9vdGVyO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgRm9vdGVyOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxudmFyIE5ld0dhbWVNb2RhbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE5ld0dhbWVNb2RhbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmV3R2FtZU1vZGFsKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoTmV3R2FtZU1vZGFsLCBbe1xuICAgIGtleTogXCJyZW5kZXJXaW5uaW5nUGxheWVySWNvblwiLFxuICAgIHZhbHVlOlxuICAgIC8vIERPTSBtZXRob2RzXG4gICAgZnVuY3Rpb24gcmVuZGVyV2lubmluZ1BsYXllckljb24od2lubmVyLCBsb2NhdGlvbikge1xuICAgICAgdmFyIHdpbm5pbmdQbGF5ZXJJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB3aW5uaW5nUGxheWVySWNvbi5jbGFzc0xpc3QuYWRkKCd3aW5uaW5nLXBsYXllci1pY29uJyk7XG4gICAgICBpZiAod2lubmVyID09PSAnZHJhdycpIHtcbiAgICAgICAgd2lubmluZ1BsYXllckljb24uaW5uZXJIVE1MID0gXCJcXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJmYS1icmFuZHMgZmEtcmViZWwgcmViZWxsaW9uLWljb25cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwiZmEtYnJhbmRzIGZhLWVtcGlyZSBlbXBpcmUtaWNvblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvc3Bhbj5cXG4gICAgICBcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbm5pbmdQbGF5ZXJJY29uLmlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcImZhLWJyYW5kcyBmYS1cIi5jb25jYXQod2lubmVyID09PSAnUmViZWxsaW9uJyA/ICdyZWJlbCcgOiAnZW1waXJlJywgXCIgXCIpLmNvbmNhdCh3aW5uZXIudG9Mb3dlckNhc2UoKSwgXCItaWNvblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvc3Bhbj5cIik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZCh3aW5uaW5nUGxheWVySWNvbik7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobG9jYXRpb24pKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMF0pLmluc2VydEJlZm9yZSh3aW5uaW5nUGxheWVySWNvbiwgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvblsxXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJOZXdHYW1lTW9kYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyTmV3R2FtZU1vZGFsKGVuZEdhbWVNZXNzYWdlLCB3aW5uZXIsIGxvY2F0aW9uKSB7XG4gICAgICB2YXIgbmV3R2FtZU1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBuZXdHYW1lTW9kYWwuc2V0QXR0cmlidXRlKCdpZCcsICdtb2RhbCcpO1xuICAgICAgbmV3R2FtZU1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gICAgICBuZXdHYW1lTW9kYWwuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgICAgICAgICA8cCBjbGFzcz1cXFwiZW5kLWdhbWUtbWVzc2FnZVxcXCI+XCIuY29uY2F0KGVuZEdhbWVNZXNzYWdlLCBcIjwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnV0dG9uLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiByZXN0YXJ0LWJ1dHRvblxcXCI+UGxheSBBZ2FpbjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnV0dG9uIGdhbWUtc2V0dGluZ3MtYnV0dG9uXFxcIj5TZXR0aW5nczwvYnV0dG9uPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICBcIik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChuZXdHYW1lTW9kYWwpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcbiAgICAgIHRoaXMucmVuZGVyV2lubmluZ1BsYXllckljb24od2lubmVyLCBbJyNtb2RhbCAubW9kYWwtYm9keScsICcuZW5kLWdhbWUtbWVzc2FnZSddKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlTmV3R2FtZU1vZGFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU5ld0dhbWVNb2RhbChsb2NhdGlvbikge1xuICAgICAgdmFyIG5ld0dhbWVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQobG9jYXRpb24sIFwiICNtb2RhbFwiKSk7XG4gICAgICBuZXdHYW1lTW9kYWwgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5yZW1vdmVDaGlsZChuZXdHYW1lTW9kYWwpIDogbnVsbDtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBOZXdHYW1lTW9kYWw7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBOZXdHYW1lTW9kYWw7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbnZhciBQbGF5ZXIgPSBmdW5jdGlvbiBQbGF5ZXIocGxheWVyVHlwZSwgcGxheUFzKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5ZXIpO1xuICB0aGlzLnBsYXllclR5cGUgPSBwbGF5ZXJUeXBlO1xuICB0aGlzLnBsYXlBcyA9IHBsYXlBcztcbn07XG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5pbXBvcnQgTmV3R2FtZU1vZGFsIGZyb20gJy4vTmV3R2FtZU1vZGFsJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9QbGF5ZXInO1xudmFyIEdhbWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHYW1lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHYW1lKTtcbiAgICB0aGlzLm5ld0dhbWVNb2RhbCA9IG5ldyBOZXdHYW1lTW9kYWwoKTtcbiAgICB0aGlzLndpbm5pbmdDb21iaW5hdGlvbnMgPSBbWzAsIDEsIDJdLCBbMywgNCwgNV0sIFs2LCA3LCA4XSwgWzAsIDMsIDZdLCBbMSwgNCwgN10sIFsyLCA1LCA4XSwgWzAsIDQsIDhdLCBbMiwgNCwgNl1dO1xuICAgIHRoaXMuZ2FtZVNldHRpbmdzO1xuICAgIHRoaXMuYm9hcmQ7XG4gICAgdGhpcy5wbGF5ZXJPbmU7XG4gICAgdGhpcy5wbGF5ZXJUd287XG4gICAgdGhpcy5jdXJyZW50UGxheWVyID0gbnVsbDtcbiAgICB0aGlzLmFpTW92ZURlbGF5O1xuICB9XG5cbiAgLy8gUmVzZXRzIGFuZCByZW5kZXJzIHRoZSBnYW1lIGJvYXJkIGZvciBhIG5ldyBnYW1lXG4gIF9jcmVhdGVDbGFzcyhHYW1lLCBbe1xuICAgIGtleTogXCJzdGFydE5ld0dhbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnROZXdHYW1lKGdhbWVTZXR0aW5ncykge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYWlNb3ZlRGVsYXkpO1xuICAgICAgdGhpcy5nYW1lU2V0dGluZ3MgPSBnYW1lU2V0dGluZ3M7XG4gICAgICB0aGlzLmJvYXJkID0gbmV3IEFycmF5KDkpLmZpbGwoKS5tYXAoZnVuY3Rpb24gKHNxdWFyZSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfSk7XG4gICAgICBpZiAoZ2FtZVNldHRpbmdzLnBsYXllcnMgPT09ICcxLXBsYXllcicpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJPbmUgPSBuZXcgUGxheWVyKCdodW1hbicsIGdhbWVTZXR0aW5ncy5wbGF5QXMpO1xuICAgICAgICB0aGlzLnBsYXllclR3byA9IG5ldyBQbGF5ZXIoJ2FpJywgZ2FtZVNldHRpbmdzLnBsYXlBcyA9PT0gJ1JlYmVsbGlvbicgPyAnRW1waXJlJyA6ICdSZWJlbGxpb24nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGxheWVyT25lID0gbmV3IFBsYXllcignaHVtYW4nLCAnUmViZWxsaW9uJyk7XG4gICAgICAgIHRoaXMucGxheWVyVHdvID0gbmV3IFBsYXllcignaHVtYW4nLCAnRW1waXJlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLnBsYXllck9uZTtcbiAgICAgIHRoaXMubmV3R2FtZU1vZGFsLnJlbW92ZU5ld0dhbWVNb2RhbCgnbWFpbicpO1xuICAgICAgdGhpcy5yZW1vdmVHYW1lQm9hcmQoJy5nYW1lLWNvbnRhaW5lcicpO1xuICAgICAgdGhpcy5yZW5kZXJHYW1lQm9hcmQodGhpcy5jdXJyZW50UGxheWVyLCAnLmdhbWUtY29udGFpbmVyJyk7XG4gICAgfVxuXG4gICAgLy8gQ2xpY2sgaGFuZGxlciB0aGF0IGFsbG93cyB0aGUgY3VycmVudCBwbGF5ZXIgdG8gc2VsZWN0IGEgc3F1YXJlIGlmIGl0IGlzIHRoZSB1c2VyJ3MgdHVyblxuICB9LCB7XG4gICAga2V5OiBcInNlbGVjdFNxdWFyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RTcXVhcmUoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheWVyVHlwZSA9PT0gJ2h1bWFuJykge1xuICAgICAgICB0aGlzLnBsYXlUdXJuKGV2ZW50LnRhcmdldC5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUGxheXMgdGhlIGN1cnJlbnQgcGxheWVyJ3Mgc2VsZWN0ZWQgc3F1YXJlIGFuZCB0aGVuIGNoYW5nZXMgdG8gdGhlIG9wcG9zaW5nIHBsYXllcidzIHR1cm4gaWYgdGhlIGdhbWUgaGFzbid0IGVuZGVkXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVR1cm5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheVR1cm4oc3F1YXJlKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuYm9hcmRbc3F1YXJlXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhpcy5ib2FyZFtzcXVhcmVdID0gdGhpcy5jdXJyZW50UGxheWVyLnBsYXlBcy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZXNUb1NlbGVjdGVkU3F1YXJlKHNxdWFyZSk7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm9yV2lubmVyKHRoaXMuY3VycmVudFBsYXllcikpIHtcbiAgICAgICAgICB0aGlzLmhpZ2hsaWdodFdpbm5pbmdTcXVhcmVzKHRoaXMuY3VycmVudFBsYXllcik7XG4gICAgICAgICAgdGhpcy5lbmRHYW1lKHRoaXMuY3VycmVudFBsYXllci5wbGF5QXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tGb3JEcmF3KCkpIHtcbiAgICAgICAgICB0aGlzLmVuZEdhbWUoJ2RyYXcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPT09IHRoaXMucGxheWVyT25lID8gdGhpcy5jdXJyZW50UGxheWVyID0gdGhpcy5wbGF5ZXJUd28gOiB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLnBsYXllck9uZTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRUdXJuTWVzc2FnZSgpO1xuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheWVyVHlwZSA9PT0gJ2FpJykgdGhpcy5haU1vdmVEZWxheSA9IHNldFRpbWVvdXQodGhpcy5jaGFuZ2VUb0FpVHVybi5iaW5kKHRoaXMpLCAxMjAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERldGVybWluZXMgd2hldGhlciB0byBwbGF5IHRoZSBFYXN5IEFJIG9yIHRoZSBIYXJkIEFJXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hhbmdlVG9BaVR1cm5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlVG9BaVR1cm4oKSB7XG4gICAgICBpZiAodGhpcy5nYW1lU2V0dGluZ3MuZGlmZmljdWx0eSA9PT0gJ2hhcmQnKSB7XG4gICAgICAgIHRoaXMucGxheVNtYXJ0QWlUdXJuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBsYXlSYW5kb21BaVR1cm4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBSSBwaWNrcyBhbiB1bnBsYXllZCBzcXVhcmUgYXQgcmFuZG9tIChFYXN5IG1vZGUpXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVJhbmRvbUFpVHVyblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5UmFuZG9tQWlUdXJuKCkge1xuICAgICAgdmFyIGF2YWlsYWJsZVNxdWFyZXMgPSB0aGlzLmNoZWNrQXZhaWxhYmxlU3F1YXJlcygpO1xuICAgICAgdGhpcy5wbGF5VHVybihhdmFpbGFibGVTcXVhcmVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF2YWlsYWJsZVNxdWFyZXMubGVuZ3RoKV0pO1xuICAgIH1cblxuICAgIC8vIEFJIHBpY2tzIGFuIHVucGxheWVkIHNxdWFyZSB1c2luZyB0aGUgbWluaW1heCBhbGdvcml0aG0gKEhhcmQgbW9kZSlcbiAgfSwge1xuICAgIGtleTogXCJwbGF5U21hcnRBaVR1cm5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheVNtYXJ0QWlUdXJuKCkge1xuICAgICAgdGhpcy5wbGF5VHVybih0aGlzLmhhbmRsZU1pbmltYXgodGhpcy5ib2FyZCwgdGhpcy5wbGF5ZXJUd28ucGxheUFzKS5pbmRleCk7XG4gICAgfVxuXG4gICAgLy8gTWluaW1heCBhbGdvcml0aG0gd2hpY2ggZGV0ZXJtaW5lcyB0aGUgYmVzdCBtb3ZlIHRoZSBBSSBzaG91bGQgcGxheSBhZ2FpbnN0IHRoZSB1c2VyIGR1cmluZyBpdHMgdHVyblxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZU1pbmltYXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTWluaW1heChib2FyZCwgcGxheWVyKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGF2YWlsYWJsZVNxdWFyZXMgPSB0aGlzLmNoZWNrQXZhaWxhYmxlU3F1YXJlcyhib2FyZCk7XG4gICAgICB2YXIgYmVzdFRlc3RNb3ZlID0gbnVsbDtcbiAgICAgIHZhciBiZXN0U2NvcmU7XG5cbiAgICAgIC8vIEh1bWFuIHBsYXllciAobWluaW1pemluZyBwbGF5ZXIpXG4gICAgICBpZiAodGhpcy5jaGVja0Zvcldpbm5lcih0aGlzLnBsYXllck9uZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY29yZTogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIC8vIEFJIHBsYXllciAobWF4aW1pemluZyBwbGF5ZXIpXG4gICAgICBlbHNlIGlmICh0aGlzLmNoZWNrRm9yV2lubmVyKHRoaXMucGxheWVyVHdvKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNjb3JlOiAxXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tGb3JEcmF3KCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY29yZTogMFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgdGVzdHMgcG90ZW50aWFsIG1vdmUgb3V0Y29tZXMgZm9yIHRoZSBjdXJyZW50IHBsYXllclxuICAgICAgICB2YXIgdGVzdE1vdmVzID0gYXZhaWxhYmxlU3F1YXJlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgc3F1YXJlKSB7XG4gICAgICAgICAgdmFyIHRlc3RNb3ZlID0ge307XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICB0ZXN0TW92ZS5pbmRleCA9IGJvYXJkW3NxdWFyZV07XG4gICAgICAgICAgYm9hcmRbc3F1YXJlXSA9IHBsYXllci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChwbGF5ZXIgPT09IF90aGlzLnBsYXllclR3by5wbGF5QXMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IF90aGlzLmhhbmRsZU1pbmltYXgoYm9hcmQsIF90aGlzLnBsYXllck9uZS5wbGF5QXMpO1xuICAgICAgICAgICAgdGVzdE1vdmUuc2NvcmUgPSByZXN1bHQuc2NvcmU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IF90aGlzLmhhbmRsZU1pbmltYXgoYm9hcmQsIF90aGlzLnBsYXllclR3by5wbGF5QXMpO1xuICAgICAgICAgICAgdGVzdE1vdmUuc2NvcmUgPSByZXN1bHQuc2NvcmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJvYXJkW3NxdWFyZV0gPSB0ZXN0TW92ZS5pbmRleDtcbiAgICAgICAgICBhY2MucHVzaCh0ZXN0TW92ZSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuXG4gICAgICAgIC8vIFVzZXMgYXJyYXkgb2YgdGVzdCBzY29yZXMgdG8gZGV0ZXJtaW5lIHRoZSBiZXN0IG1vdmUgZm9yIHRoZSBBSSB0byBwbGF5XG4gICAgICAgIGlmIChwbGF5ZXIgPT09IHRoaXMucGxheWVyVHdvLnBsYXlBcykge1xuICAgICAgICAgIGJlc3RTY29yZSA9IC1JbmZpbml0eTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RNb3Zlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRlc3RNb3Zlc1tpXS5zY29yZSA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgICBiZXN0U2NvcmUgPSB0ZXN0TW92ZXNbaV0uc2NvcmU7XG4gICAgICAgICAgICAgIGJlc3RUZXN0TW92ZSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJlc3RTY29yZSA9IEluZmluaXR5O1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0ZXN0TW92ZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBpZiAodGVzdE1vdmVzW19pXS5zY29yZSA8IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgICBiZXN0U2NvcmUgPSB0ZXN0TW92ZXNbX2ldLnNjb3JlO1xuICAgICAgICAgICAgICBiZXN0VGVzdE1vdmUgPSBfaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlc3RNb3Zlc1tiZXN0VGVzdE1vdmVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrcyB0aGUgYm9hcmQgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHBsYXllciBoYXMgbWF0Y2hlZCBvbmUgb2YgdGhlIHBvc3NpYmxlIHdpbm5pbmcgY29tYmluYXRpb25zXG4gIH0sIHtcbiAgICBrZXk6IFwiY2hlY2tGb3JXaW5uZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tGb3JXaW5uZXIocGxheWVyKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLndpbm5pbmdDb21iaW5hdGlvbnMuZmluZChmdW5jdGlvbiAoY29tYmluYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmF0aW9uLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmJvYXJkW3ZhbF0gPT09IHBsYXllci5wbGF5QXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDaGVja3MgdGhlIGJvYXJkIHRvIHNlZSBpZiBldmVyeSBzcXVhcmUgaGFzIGJlZW4gZmlsbGVkIHdpdGhvdXQgYSB3aW5uZXJcbiAgfSwge1xuICAgIGtleTogXCJjaGVja0ZvckRyYXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tGb3JEcmF3KCkge1xuICAgICAgcmV0dXJuIHRoaXMuYm9hcmQuZXZlcnkoZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHNxdWFyZSAhPT0gJ251bWJlcic7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDaGVja3MgdG8gc2VlIHdoaWNoIHNxdWFyZXMgb24gdGhlIGJvYXJkIGhhdmVuJ3QgYmVlbiBwbGF5ZWQgeWV0IGluIHRoZSBjdXJyZW50IGdhbWVcbiAgfSwge1xuICAgIGtleTogXCJjaGVja0F2YWlsYWJsZVNxdWFyZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tBdmFpbGFibGVTcXVhcmVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYm9hcmQuZmlsdGVyKGZ1bmN0aW9uIChzcXVhcmUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzcXVhcmUgPT09ICdudW1iZXInO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRW5kcyB0aGUgY3VycmVudCBnYW1lIGlmIGEgcGxheWVyIGhhcyB3b24gb3IgaWYgdGhlcmUgaXMgYSBkcmF3XG4gIH0sIHtcbiAgICBrZXk6IFwiZW5kR2FtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmRHYW1lKHdpbm5lcikge1xuICAgICAgdmFyIGVuZEdhbWVNZXNzYWdlO1xuICAgICAgd2lubmVyID09PSAnZHJhdycgPyBlbmRHYW1lTWVzc2FnZSA9ICdJdFxcJ3MgYSBkcmF3IScgOiBlbmRHYW1lTWVzc2FnZSA9IFwiVGhlIFwiLmNvbmNhdCh3aW5uZXIsIFwiIHdvbiFcIik7XG4gICAgICB0aGlzLm5ld0dhbWVNb2RhbC5yZW5kZXJOZXdHYW1lTW9kYWwoZW5kR2FtZU1lc3NhZ2UsIHdpbm5lciwgJ21haW4nKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zcXVhcmUnKS5mb3JFYWNoKGZ1bmN0aW9uIChzcXVhcmUpIHtcbiAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2dhbWUtZW5kZWQnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEV2ZW50IGxpc3RlbmVyc1xuICB9LCB7XG4gICAga2V5OiBcImV2ZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBldmVudHMoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5nYW1lLWJvYXJkIC5zcXVhcmUtY29udGFpbmVyIC5zcXVhcmUnKSA/IF90aGlzMy5zZWxlY3RTcXVhcmUoZXZlbnQpIDogbnVsbDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcjbW9kYWwgLnJlc3RhcnQtYnV0dG9uJykgPyBfdGhpczMuc3RhcnROZXdHYW1lKF90aGlzMy5nYW1lU2V0dGluZ3MpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIERPTSBtZXRob2RzXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlQ3VycmVudFR1cm5NZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRUdXJuTWVzc2FnZSgpIHtcbiAgICAgIHZhciBjdXJyZW50VHVybk1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC10dXJuLW1lc3NhZ2UnKTtcbiAgICAgIGN1cnJlbnRUdXJuTWVzc2FnZS5pbm5lckhUTUwgPSBcIkl0J3MgdGhlIFwiLmNvbmNhdCh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzLCBcIidzIHR1cm4uXCIpO1xuICAgICAgO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRBdHRyaWJ1dGVzVG9TZWxlY3RlZFNxdWFyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRBdHRyaWJ1dGVzVG9TZWxlY3RlZFNxdWFyZShzcXVhcmUpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNxdWFyZSkuY2xhc3NMaXN0LmFkZChcImZhLVwiLmNvbmNhdCh0aGlzLmN1cnJlbnRQbGF5ZXIucGxheUFzID09PSAnUmViZWxsaW9uJyA/ICdyZWJlbCcgOiAnZW1waXJlJyksIFwiXCIuY29uY2F0KHRoaXMuY3VycmVudFBsYXllci5wbGF5QXMudG9Mb3dlckNhc2UoKSwgXCItaWNvblwiKSwgJ3NlbGVjdGVkJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcXVhcmUpLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMuY3VycmVudFBsYXllci5wbGF5QXMgPT09ICdSZWJlbGxpb24nID8gJ3JlYmVsJyA6ICdlbXBpcmUnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGlnaGxpZ2h0V2lubmluZ1NxdWFyZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlnaGxpZ2h0V2lubmluZ1NxdWFyZXMocGxheWVyKSB7XG4gICAgICB2YXIgd2lubmluZ1NxdWFyZXMgPSB0aGlzLmNoZWNrRm9yV2lubmVyKHBsYXllcik7XG4gICAgICByZXR1cm4gd2lubmluZ1NxdWFyZXMubWFwKGZ1bmN0aW9uIChzcXVhcmUpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3F1YXJlKS5jbGFzc0xpc3QuYWRkKCd3aW5uaW5nLXNxdWFyZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlckdhbWVCb2FyZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJHYW1lQm9hcmQoZmlyc3RQbGF5ZXIsIGxvY2F0aW9uKSB7XG4gICAgICB2YXIgZ2FtZUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBnYW1lQm9hcmQuY2xhc3NMaXN0LmFkZCgnYm9hcmQtY29udGFpbmVyJyk7XG4gICAgICBnYW1lQm9hcmQuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8cCBjbGFzcz1cXFwiY3VycmVudC10dXJuLW1lc3NhZ2VcXFwiPlRoZSBcIi5jb25jYXQoZmlyc3RQbGF5ZXIucGxheUFzLCBcIiBnb2VzIGZpcnN0ITwvcD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJnYW1lLWJvYXJkXFxcIj5cIikuY29uY2F0KHRoaXMuYm9hcmQubWFwKGZ1bmN0aW9uIChzcXVhcmUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInNxdWFyZS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJzcXVhcmUgZmEtYnJhbmRzXFxcIiBpZD1cXFwiXCIuY29uY2F0KGluZGV4LCBcIlxcXCI+PC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cIik7XG4gICAgICB9KS5qb2luKCcnKSwgXCI8L2Rpdj5cXG4gICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiByZXN0YXJ0LWJ1dHRvblxcXCI+UmVzdGFydDwvYnV0dG9uPlxcbiAgICBcIik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChnYW1lQm9hcmQpO1xuICAgICAgdGhpcy5ldmVudHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlR2FtZUJvYXJkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUdhbWVCb2FyZChsb2NhdGlvbikge1xuICAgICAgdmFyIGdhbWVCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQobG9jYXRpb24sIFwiIC5ib2FyZC1jb250YWluZXJcIikpO1xuICAgICAgZ2FtZUJvYXJkID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQoZ2FtZUJvYXJkKSA6IG51bGw7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBHYW1lO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgR2FtZTsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxudmFyIFNldHRpbmdzRm9ybURhdGEgPSBmdW5jdGlvbiBTZXR0aW5nc0Zvcm1EYXRhKHBsYXllcnMsIGRpZmZpY3VsdHksIHBsYXlBcykge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2V0dGluZ3NGb3JtRGF0YSk7XG4gIHRoaXMucGxheWVycyA9IHBsYXllcnM7XG4gIHRoaXMuZGlmZmljdWx0eSA9IGRpZmZpY3VsdHk7XG4gIHRoaXMucGxheUFzID0gcGxheUFzO1xufTtcbmV4cG9ydCBkZWZhdWx0IFNldHRpbmdzRm9ybURhdGE7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5pbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IE5ld0dhbWVNb2RhbCBmcm9tICcuL05ld0dhbWVNb2RhbCc7XG5pbXBvcnQgU2V0dGluZ3NGb3JtRGF0YSBmcm9tICcuL1NldHRpbmdzRm9ybURhdGEnO1xudmFyIEdhbWVTZXR0aW5ncyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdhbWVTZXR0aW5ncygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2FtZVNldHRpbmdzKTtcbiAgICB0aGlzLmdhbWUgPSBuZXcgR2FtZSgpO1xuICAgIHRoaXMubmV3R2FtZU1vZGFsID0gbmV3IE5ld0dhbWVNb2RhbCgpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhHYW1lU2V0dGluZ3MsIFt7XG4gICAga2V5OiBcImhhbmRsZVN1Ym1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZXZlbnQsIGdhbWVTZXR0aW5nc0RhdGEpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZ2FtZVNldHRpbmdzID0gbmV3IFNldHRpbmdzRm9ybURhdGEoZ2FtZVNldHRpbmdzRGF0YS5wbGF5ZXJzLCBnYW1lU2V0dGluZ3NEYXRhLmRpZmZpY3VsdHksIGdhbWVTZXR0aW5nc0RhdGEucGxheUFzKTtcbiAgICAgIHRoaXMucmVtb3ZlR2FtZVNldHRpbmdzKCcuZ2FtZS1jb250YWluZXInKTtcbiAgICAgIHRoaXMuZ2FtZS5zdGFydE5ld0dhbWUoZ2FtZVNldHRpbmdzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9nZ2xlT25lUGxheWVyU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlT25lUGxheWVyU2V0dGluZ3MocGxheWVycykge1xuICAgICAgdGhpcy5yZW1vdmVPbmVQbGF5ZXJTZXR0aW5ncygnLmdhbWUtc2V0dGluZ3MtZm9ybScpO1xuICAgICAgaWYgKHBsYXllcnMgPT09ICcxLXBsYXllcicpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJPbmVQbGF5ZXJTZXR0aW5ncyhbJy5nYW1lLXNldHRpbmdzLWZvcm0nLCAnLmJ1dHRvbi1ncm91cCddKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib3BlbkdhbWVTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuR2FtZVNldHRpbmdzKCkge1xuICAgICAgdGhpcy5uZXdHYW1lTW9kYWwucmVtb3ZlTmV3R2FtZU1vZGFsKCdtYWluJyk7XG4gICAgICB0aGlzLmdhbWUucmVtb3ZlR2FtZUJvYXJkKCcuZ2FtZS1jb250YWluZXInKTtcbiAgICAgIHRoaXMucmVuZGVyR2FtZVNldHRpbmdzKCcuZ2FtZS1jb250YWluZXInKTtcbiAgICB9XG5cbiAgICAvLyBET00gbWV0aG9kc1xuICB9LCB7XG4gICAga2V5OiBcInJlbmRlck9uZVBsYXllclNldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck9uZVBsYXllclNldHRpbmdzKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgb25lUGxheWVyU2V0dGluZ3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG9uZVBsYXllclNldHRpbmdzLmNsYXNzTGlzdC5hZGQoJ29uZS1wbGF5ZXItc2V0dGluZ3MnKTtcbiAgICAgIG9uZVBsYXllclNldHRpbmdzLmlubmVySFRNTCA9IFwiXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBvbmUtcGxheWVyLXNldHRpbmcgZGlmZmljdWx0eVxcXCI+XFxuICAgICAgICA8bGFiZWwgZm9yPVxcXCJkaWZmaWN1bHR5LWlucHV0XFxcIj5EaWZmaWN1bHR5OjwvbGFiZWw+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3Qtd3JhcHBlclxcXCI+XFxuICAgICAgICAgIDxzZWxlY3QgbmFtZT1cXFwiZGlmZmljdWx0eVxcXCIgaWQ9XFxcImRpZmZpY3VsdHktaW5wdXRcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiByZXF1aXJlZD5cXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJlYXN5XFxcIiBzZWxlY3RlZD5FYXN5PC9vcHRpb24+XFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiaGFyZFxcXCI+SGFyZDwvb3B0aW9uPlxcbiAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgb25lLXBsYXllci1zZXR0aW5nIHBsYXktYXNcXFwiPlxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwicGxheS1hcy1pbnB1dFxcXCI+UGxheSBhczo8L2xhYmVsPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2VsZWN0LXdyYXBwZXJcXFwiPlxcbiAgICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInBsYXlBc1xcXCIgaWQ9XFxcInBsYXktYXMtaW5wdXRcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiByZXF1aXJlZD5cXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJSZWJlbGxpb25cXFwiIHNlbGVjdGVkPlJlYmVsIEFsbGlhbmNlPC9vcHRpb24+XFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiRW1waXJlXFxcIj5HYWxhY3RpYyBFbXBpcmU8L29wdGlvbj5cXG4gICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgXCI7XG4gICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChvbmVQbGF5ZXJTZXR0aW5ncyk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobG9jYXRpb24pKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb25bMF0pLmluc2VydEJlZm9yZShvbmVQbGF5ZXJTZXR0aW5ncywgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvblsxXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVPbmVQbGF5ZXJTZXR0aW5nc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVPbmVQbGF5ZXJTZXR0aW5ncyhsb2NhdGlvbikge1xuICAgICAgdmFyIG9uZVBsYXllclNldHRpbmdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIlwiLmNvbmNhdChsb2NhdGlvbiwgXCIgLm9uZS1wbGF5ZXItc2V0dGluZ3NcIikpO1xuICAgICAgb25lUGxheWVyU2V0dGluZ3MgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5yZW1vdmVDaGlsZChvbmVQbGF5ZXJTZXR0aW5ncykgOiBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJHYW1lU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyR2FtZVNldHRpbmdzKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgZ2FtZVNldHRpbmdzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBnYW1lU2V0dGluZ3MuY2xhc3NMaXN0LmFkZCgnZ2FtZS1zZXR0aW5ncy1jb250YWluZXInKTtcbiAgICAgIGdhbWVTZXR0aW5ncy5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDxoMz5TdGFydCBhIE5ldyBHYW1lPC9oMz5cXG4gICAgICA8Zm9ybSBjbGFzcz1cXFwiZ2FtZS1zZXR0aW5ncy1mb3JtXFxcIiBub3ZhbGlkYXRlPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBwbGF5ZXJzXFxcIj5cXG4gICAgICAgICAgPGxhYmVsIGZvcj1cXFwicGxheWVycy1pbnB1dFxcXCI+UGxheWVyczo8L2xhYmVsPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3Qtd3JhcHBlclxcXCI+XFxuICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJwbGF5ZXJzXFxcIiBpZD1cXFwicGxheWVycy1pbnB1dFxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIHJlcXVpcmVkPlxcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMS1wbGF5ZXJcXFwiIHNlbGVjdGVkPk9yZ2FuaWMgdnMuIERyb2lkICgxLVBsYXllcik8L29wdGlvbj5cXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjItcGxheWVyXFxcIj5PcmdhbmljIHZzLiBPcmdhbmljICgyLVBsYXllcik8L29wdGlvbj5cXG4gICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1ncm91cFxcXCI+XFxuICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBjbGFzcz1cXFwiYnV0dG9uIHN0YXJ0LWJ1dHRvblxcXCI+U3RhcnQ8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZm9ybT5cXG4gICAgXCI7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChnYW1lU2V0dGluZ3MpO1xuICAgICAgdGhpcy50b2dnbGVPbmVQbGF5ZXJTZXR0aW5ncygnMS1wbGF5ZXInKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlR2FtZVNldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUdhbWVTZXR0aW5ncyhsb2NhdGlvbikge1xuICAgICAgdmFyIGdhbWVTZXR0aW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQobG9jYXRpb24sIFwiIC5nYW1lLXNldHRpbmdzLWNvbnRhaW5lclwiKSk7XG4gICAgICBnYW1lU2V0dGluZ3MgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5yZW1vdmVDaGlsZChnYW1lU2V0dGluZ3MpIDogbnVsbDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEdhbWVTZXR0aW5ncztcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEdhbWVTZXR0aW5nczsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9tb2R1bGVzL0hlYWRlcic7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vbW9kdWxlcy9Gb290ZXInO1xuaW1wb3J0IEdhbWVTZXR0aW5ncyBmcm9tICcuL21vZHVsZXMvR2FtZVNldHRpbmdzJztcbnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBcHAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcCk7XG4gICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKCk7XG4gICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKCk7XG4gICAgdGhpcy5nYW1lU2V0dGluZ3MgPSBuZXcgR2FtZVNldHRpbmdzKCk7XG4gICAgdGhpcy5yZW5kZXJBcHAoKTtcbiAgfVxuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBfY3JlYXRlQ2xhc3MoQXBwLCBbe1xuICAgIGtleTogXCJldmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXZlbnRzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJyNtb2RhbCAuZ2FtZS1zZXR0aW5ncy1idXR0b24nKSA/IF90aGlzLmdhbWVTZXR0aW5ncy5vcGVuR2FtZVNldHRpbmdzKCkgOiBudWxsO1xuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnLmdhbWUtc2V0dGluZ3MtZm9ybSAjcGxheWVycy1pbnB1dCcpID8gX3RoaXMuZ2FtZVNldHRpbmdzLnRvZ2dsZU9uZVBsYXllclNldHRpbmdzKGVsZW1lbnQudmFsdWUpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoZWxlbWVudC5tYXRjaGVzKCcuZ2FtZS1zZXR0aW5ncy1mb3JtJykpIHtcbiAgICAgICAgICBlbGVtZW50LmRpZmZpY3VsdHkgJiYgZWxlbWVudC5wbGF5QXMgPyBfdGhpcy5nYW1lU2V0dGluZ3MuaGFuZGxlU3VibWl0KGV2ZW50LCB7XG4gICAgICAgICAgICBwbGF5ZXJzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVycy1pbnB1dCcpLnZhbHVlLFxuICAgICAgICAgICAgZGlmZmljdWx0eTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpZmZpY3VsdHktaW5wdXQnKS52YWx1ZSxcbiAgICAgICAgICAgIHBsYXlBczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXktYXMtaW5wdXQnKS52YWx1ZVxuICAgICAgICAgIH0pIDogX3RoaXMuZ2FtZVNldHRpbmdzLmhhbmRsZVN1Ym1pdChldmVudCwge1xuICAgICAgICAgICAgcGxheWVyczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcnMtaW5wdXQnKS52YWx1ZSxcbiAgICAgICAgICAgIGRpZmZpY3VsdHk6IG51bGwsXG4gICAgICAgICAgICBwbGF5QXM6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJBcHBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyQXBwKCkge1xuICAgICAgdGhpcy5oZWFkZXIucmVuZGVySGVhZGVyKCcjYXBwJyk7XG4gICAgICB0aGlzLnJlbmRlck1haW4oJyNhcHAnKTtcbiAgICAgIHRoaXMuZm9vdGVyLnJlbmRlckZvb3RlcignI2FwcCcpO1xuICAgICAgdGhpcy5nYW1lU2V0dGluZ3Mub3BlbkdhbWVTZXR0aW5ncygpO1xuICAgICAgdGhpcy5ldmVudHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyTWFpblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJNYWluKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKTtcbiAgICAgIG1haW4uaW5uZXJIVE1MID0gXCI8ZGl2IGNsYXNzPVxcXCJnYW1lLWNvbnRhaW5lclxcXCI+PC9kaXY+XCI7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChtYWluKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEFwcDtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW5kZXguaHRtbFwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmYXZpY29uLmljb1wiOyIsImltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuaW1wb3J0ICdmaWxlLWxvYWRlcj9uYW1lPVtuYW1lXS5bZXh0XSEuL2luZGV4Lmh0bWwnO1xuaW1wb3J0ICdmaWxlLWxvYWRlcj9uYW1lPVtuYW1lXS5bZXh0XSEuL2Zhdmljb24uaWNvJztcbmltcG9ydCAnbm9ybWFsaXplLmNzcyc7XG5pbXBvcnQgJ0Bmb3J0YXdlc29tZS9mb250YXdlc29tZS1mcmVlL2Nzcy9hbGwubWluLmNzcyc7XG5pbXBvcnQgJy4vc3R5bGVzaGVldHMvc3R5bGUuc2Nzcyc7XG5uZXcgQXBwKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///232\n')}},__webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var n=__webpack_require__.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var c=n.getElementsByTagName("script");if(c.length)for(var t=c.length-1;t>-1&&(!e||!/^http(s?):/.test(e));)e=c[t--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var __webpack_exports__={};__webpack_modules__[232](0,__webpack_exports__,__webpack_require__)})();