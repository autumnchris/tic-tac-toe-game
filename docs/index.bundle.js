(()=>{"use strict";var __webpack_modules__={378:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// EXTERNAL MODULE: ./src/images/star-wars-logo.png\nvar star_wars_logo = __webpack_require__(432);\n;// CONCATENATED MODULE: ./src/modules/NewGameModal.js\nvar NewGameModal = function () {\n  // Creates the DOM elements for a modal that tells the user who won and to allow them to start a new game\n  function openNewGameModal(endGameMessage, winner) {\n    var newGameModal = document.createElement(\'div\');\n    newGameModal.classList.add(\'modal\');\n    newGameModal.setAttribute(\'id\', \'modal\');\n    newGameModal.innerHTML = "<div class=\\"modal-content\\">\\n      <div class=\\"modal-body\\">\\n        <div class=\\"winning-player-icon\\"></div>\\n        <p>".concat(endGameMessage, "</p>\\n        <div class=\\"button-group\\">\\n          <button type=\\"button\\" class=\\"button restart-button\\">Play Again</button>\\n          <button type=\\"button\\" class=\\"button game-settings-button\\">Settings</button>\\n        </div>\\n      </div>\\n    </div>");\n    document.querySelector(\'main\').appendChild(newGameModal);\n    document.querySelector(\'body\').classList.add(\'modal-open\');\n    renderWinningPlayerIcon(winner);\n  } // Removes the DOM elements for the modal while it\'s currently displayed\n\n\n  function closeNewGameModal() {\n    var newGameModal = document.getElementById(\'modal\');\n    newGameModal ? document.querySelector(\'main\').removeChild(newGameModal) : null;\n    document.querySelector(\'body\').classList.remove(\'modal-open\');\n  } // Creates the DOM elements for the icon of the winning player to be displayed within the modal\n\n\n  function renderWinningPlayerIcon(winner) {\n    var winningPlayerIcon;\n\n    if (winner === \'draw\') {\n      winningPlayerIcon = "\\n      <span class=\\"fab fa-rebel rebellion-icon\\" aria-hidden=\\"true\\"></span>\\n      <span class=\\"fab fa-empire empire-icon\\" aria-hidden=\\"true\\"></span>";\n    } else {\n      winningPlayerIcon = "<span class=\\"fab fa-".concat(winner === \'Rebellion\' ? \'rebel\' : \'empire\', " ").concat(winner.toLowerCase(), "-icon\\" aria-hidden=\\"true\\"></span>");\n    }\n\n    document.querySelector(\'.winning-player-icon\').innerHTML = winningPlayerIcon;\n  }\n\n  return {\n    openNewGameModal: openNewGameModal,\n    closeNewGameModal: closeNewGameModal\n  };\n}();\n\n\n;// CONCATENATED MODULE: ./src/modules/Game.js\n\n\n\nvar Game = function () {\n  // List of possibilities for a player to win the game\n  var winningCombinations = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]]; // The current state of the game board\n\n  var board;\n  var playerOne;\n  var playerTwo;\n  var currentPlayer = null;\n  var aiMoveDelay; // Factory function to create data for a new player for the current game\n\n  var Player = function Player(playerType, playAs) {\n    return {\n      playerType: playerType,\n      playAs: playAs\n    };\n  }; // Creates the DOM elements for the game board\n\n\n  function renderGameBoard(firstPlayer) {\n    document.querySelector(\'.game-container\').innerHTML = "<div class=\\"board-container\\">\\n      <p class=\\"current-turn-message\\">The ".concat(firstPlayer.playAs, " goes first!</p>\\n      <div class=\\"game-board\\">\\n        ").concat(board.map(function (square, index) {\n      return "<div class=\\"square-container\\">\\n            <div class=\\"square fab\\" id=\\"".concat(index, "\\"></div>\\n          </div>");\n    }).join(\'\'), "\\n      </div>\\n      <button type=\\"button\\" class=\\"button restart-button\\">Restart</button>\\n    </div>");\n  } // Resets and renders the game board for a new game\n\n\n  function startNewGame(gameSettingsData) {\n    clearTimeout(aiMoveDelay);\n    board = new Array(9).fill().map(function (square, index) {\n      return index;\n    });\n\n    if (gameSettingsData.players === \'1-player\') {\n      playerOne = Player(\'human\', gameSettingsData.playAs);\n      playerTwo = Player(\'ai\', gameSettingsData.playAs === \'Rebellion\' ? \'Empire\' : \'Rebellion\');\n    } else {\n      playerOne = Player(\'human\', \'Rebellion\');\n      playerTwo = Player(\'human\', \'Empire\');\n    }\n\n    currentPlayer = playerOne;\n    renderGameBoard(currentPlayer);\n    NewGameModal.closeNewGameModal();\n  } // Plays the current player\'s selected square and then changes to the opposing player\'s turn if the game hasn\'t ended\n\n\n  function playTurn(square) {\n    if (typeof board[square] === \'number\') {\n      board[square] = currentPlayer.playAs.toLowerCase();\n      document.getElementById(square).classList.add("fa-".concat(currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\'), "".concat(currentPlayer.playAs.toLowerCase(), "-icon"), \'selected\');\n      document.getElementById(square).setAttribute(\'aria-label\', currentPlayer.playAs === \'Rebellion\' ? \'rebel\' : \'empire\');\n\n      if (checkForWinner(currentPlayer)) {\n        highlightWinningSquares(currentPlayer);\n        endGame(currentPlayer.playAs);\n      } else if (checkForDraw()) {\n        endGame(\'draw\');\n      } else {\n        currentPlayer === playerOne ? currentPlayer = playerTwo : currentPlayer = playerOne;\n        document.querySelector(\'.current-turn-message\').innerHTML = "It\'s the ".concat(currentPlayer.playAs, "\'s turn.");\n        if (currentPlayer.playerType === \'ai\') aiMoveDelay = setTimeout(changeToAiTurn, 1200);\n      }\n    }\n  } // Click handler that allows the current player to select a square if it is the user\'s turn\n\n\n  function selectSquare(event) {\n    if (currentPlayer.playerType === \'human\') {\n      playTurn(event.target.id);\n    }\n  } // Determines whether to play the Easy AI or the Hard AI\n\n\n  function changeToAiTurn() {\n    if (GameSettings.returnGameSettingsData().difficulty === \'hard\') {\n      playSmartAiTurn();\n    } else {\n      playRandomAiTurn();\n    }\n  } // AI picks an unplayed square at random (Easy mode)\n\n\n  function playRandomAiTurn() {\n    var availableSquares = checkAvailableSquares();\n    playTurn(availableSquares[Math.floor(Math.random() * availableSquares.length)]);\n  } // AI picks an unplayed square using the minimax algorithm (Hard mode)\n\n\n  function playSmartAiTurn() {\n    playTurn(handleMinimax(board, playerTwo.playAs).index);\n  } // Minimax algorithm which determines the best move the AI should play against the user during its turn\n\n\n  function handleMinimax(boardCopy, player) {\n    var availableSquares = checkAvailableSquares(boardCopy);\n    var bestTestMove = null;\n    var bestScore; // Human player (minimizing player)\n\n    if (checkForWinner(playerOne)) {\n      return {\n        score: -1\n      };\n    } // AI player (maximizing player)\n    else if (checkForWinner(playerTwo)) {\n      return {\n        score: 1\n      };\n    } else if (checkForDraw()) {\n      return {\n        score: 0\n      };\n    } else {\n      // Recursively tests potential move outcomes for the current player\n      var testMoves = availableSquares.reduce(function (acc, square) {\n        var testMove = {};\n        var result;\n        testMove.index = boardCopy[square];\n        boardCopy[square] = player.toLowerCase();\n\n        if (player === playerTwo.playAs) {\n          result = handleMinimax(boardCopy, playerOne.playAs);\n          testMove.score = result.score;\n        } else {\n          result = handleMinimax(boardCopy, playerTwo.playAs);\n          testMove.score = result.score;\n        }\n\n        boardCopy[square] = testMove.index;\n        acc.push(testMove);\n        return acc;\n      }, []); // Uses array of test scores to determine the best move for the AI to play\n\n      if (player === playerTwo.playAs) {\n        bestScore = -Infinity;\n\n        for (var i = 0; i < testMoves.length; i++) {\n          if (testMoves[i].score > bestScore) {\n            bestScore = testMoves[i].score;\n            bestTestMove = i;\n          }\n        }\n      } else {\n        bestScore = Infinity;\n\n        for (var _i = 0; _i < testMoves.length; _i++) {\n          if (testMoves[_i].score < bestScore) {\n            bestScore = testMoves[_i].score;\n            bestTestMove = _i;\n          }\n        }\n      }\n\n      return testMoves[bestTestMove];\n    }\n  } // Checks to see which squares on the board haven\'t been played yet in the current game\n\n\n  function checkAvailableSquares() {\n    return board.filter(function (square) {\n      return typeof square === \'number\';\n    });\n  } // Adds a highlighted background on the winning squares when a player wins\n\n\n  function highlightWinningSquares(player) {\n    var winningSquares = checkForWinner(player);\n    return winningSquares.map(function (square) {\n      document.getElementById(square).classList.add(\'winning-square\');\n    });\n  } // Checks the board to see if the current player has matched one of the possible winning combinations\n\n\n  function checkForWinner(player) {\n    return winningCombinations.find(function (combination) {\n      return combination.every(function (val) {\n        return board[val] === player.playAs.toLowerCase();\n      });\n    });\n  } // Checks the board to see if every square has been filled without a winner\n\n\n  function checkForDraw() {\n    return board.every(function (square) {\n      return typeof square !== \'number\';\n    });\n  } // Ends the current game if a player has won or if there is a draw\n\n\n  function endGame(winner) {\n    var endGameMessage;\n    winner === \'draw\' ? endGameMessage = \'It\\\'s a draw!\' : endGameMessage = "The ".concat(winner, " won!");\n    NewGameModal.openNewGameModal(endGameMessage, winner);\n    document.querySelectorAll(\'.square\').forEach(function (square) {\n      square.classList.add(\'game-ended\');\n    });\n  }\n\n  return {\n    startNewGame: startNewGame,\n    selectSquare: selectSquare\n  };\n}();\n\n\n;// CONCATENATED MODULE: ./src/modules/GameSettings.js\n\n\n\nvar GameSettings = function () {\n  var gameSettingsData; // Factory function to create data for a new settings form submission\n\n  var SettingsFormData = function SettingsFormData(players, difficulty, playAs) {\n    return {\n      players: players,\n      difficulty: difficulty,\n      playAs: playAs\n    };\n  }; // Creates the DOM elements for the game settings form\n\n\n  function renderGameSettings() {\n    document.querySelector(\'.game-container\').innerHTML = "<div class=\\"game-settings-container\\">\\n      <h3>Start a New Game</h3>\\n      <form class=\\"game-settings-form\\" novalidate>\\n        <div class=\\"form-group players\\">\\n          <label for=\\"players-input\\">Players:</label>\\n          <div class=\\"select-wrapper\\">\\n            <select name=\\"players\\" id=\\"players-input\\" required>\\n              <option value=\\"1-player\\" selected>Organic vs. Droid (1-Player)</option>\\n              <option value=\\"2-player\\">Organic vs. Organic (2-Player)</option>\\n            </select>\\n          </div>\\n        </div>\\n        <div class=\\"button-group\\">\\n          <button type=\\"submit\\" class=\\"button start-button\\">Start</button>\\n        </div>\\n      </form>\\n    </div>";\n    toggleOnePlayerSettings(\'1-player\');\n    NewGameModal.closeNewGameModal();\n  } // Shows/Hides the settings options that applies to a 1-player game only\n\n\n  function toggleOnePlayerSettings(players) {\n    var onePlayerSettings;\n\n    if (players === \'1-player\') {\n      onePlayerSettings = document.createElement(\'div\');\n      onePlayerSettings.classList.add(\'one-player-settings\');\n      onePlayerSettings.innerHTML = "\\n      <div class=\\"form-group one-player-setting difficulty\\">\\n        <label for=\\"difficulty-input\\">Difficulty:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"difficulty\\" id=\\"difficulty-input\\" required>\\n            <option value=\\"easy\\" selected>Easy</option>\\n            <option value=\\"hard\\">Hard</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\"form-group one-player-setting play-as\\">\\n        <label for=\\"play-as-input\\">Play as:</label>\\n        <div class=\\"select-wrapper\\">\\n          <select name=\\"play-as\\" id=\\"play-as-input\\" required>\\n            <option value=\\"Rebellion\\" selected>Rebel Alliance</option>\\n            <option value=\\"Empire\\">Galactic Empire</option>\\n          </select>\\n        </div>\\n      </div>";\n      document.querySelector(\'.game-settings-form\').insertBefore(onePlayerSettings, document.querySelector(\'.button-group\'));\n    } else {\n      onePlayerSettings = document.querySelector(\'.game-settings-form .one-player-settings\');\n      onePlayerSettings ? document.querySelector(\'.game-settings-form\').removeChild(onePlayerSettings) : null;\n    }\n  } // Submit handler for the game settings form\n\n\n  function handleSubmit(event, players) {\n    var difficulty = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var playAs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    event.preventDefault();\n    gameSettingsData = SettingsFormData(players, difficulty, playAs);\n    Game.startNewGame(gameSettingsData);\n  } // Returns the values of the current game settings\n\n\n  function returnGameSettingsData() {\n    return gameSettingsData;\n  }\n\n  return {\n    renderGameSettings: renderGameSettings,\n    toggleOnePlayerSettings: toggleOnePlayerSettings,\n    handleSubmit: handleSubmit,\n    returnGameSettingsData: returnGameSettingsData\n  };\n}();\n\n\n;// CONCATENATED MODULE: ./src/modules/App.js\n\n\n\n\nvar App = function () {\n  // Creates the DOM elements for the webpage content\n  function renderApp() {\n    document.getElementById(\'app\').innerHTML = "\\n    <header>\\n      <h1>\\n        <img src=\\"".concat(star_wars_logo, "\\" class=\\"star-wars-logo\\" alt=\\"Star Wars\\" />\\n      </h1>\\n      <h2>Tic-Tac-Toe</h2>\\n    </header>\\n    <main>\\n      <div class=\\"game-container\\"></div>\\n    </main>\\n    <footer>Created by <a href=\\"https://autumnchris.github.io/portfolio\\" target=\\"_blank\\">Autumn Bullard</a> &copy; ").concat(new Date().getFullYear(), "</footer>");\n    GameSettings.renderGameSettings(); // Click Event Listeners\n\n    document.addEventListener(\'click\', function (event) {\n      var element = event.target;\n      element.matches(\'.square\') ? Game.selectSquare(event) : null;\n      element.matches(\'.restart-button\') ? Game.startNewGame(GameSettings.returnGameSettingsData()) : null;\n      element.matches(\'.game-settings-button\') ? GameSettings.renderGameSettings() : null;\n    }); // Change Event Listeners\n\n    document.addEventListener(\'change\', function (event) {\n      var element = event.target;\n      element.matches(\'.game-settings-form #players-input\') ? GameSettings.toggleOnePlayerSettings(element[element.selectedIndex].value) : null;\n    }); // Submit Event Listeners\n\n    document.addEventListener(\'submit\', function (event) {\n      var element = event.target;\n\n      if (element.matches(\'.game-settings-form\')) {\n        element[1].name === \'difficulty\' ? GameSettings.handleSubmit(event, document.getElementById(\'players-input\').value, document.getElementById(\'difficulty-input\').value, document.getElementById(\'play-as-input\').value) : GameSettings.handleSubmit(event, document.getElementById(\'players-input\').value);\n      }\n    });\n  }\n\n  return {\n    renderApp: renderApp\n  };\n}();\n\n\n;// CONCATENATED MODULE: ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/index.html\n/* harmony default export */ const cjsname_name_ext_src = (__webpack_require__.p + "index.html");\n;// CONCATENATED MODULE: ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/favicon.ico\n/* harmony default export */ const favicon = (__webpack_require__.p + "favicon.ico");\n;// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\nApp.renderApp();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzVNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbkNBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9OZXdHYW1lTW9kYWwuanM/YzRlOCIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvR2FtZS5qcz84OTRjIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvbW9kdWxlcy9HYW1lU2V0dGluZ3MuanM/YWVmOCIsIndlYnBhY2s6Ly90aWMtdGFjLXRvZS1nYW1lLy4vc3JjL21vZHVsZXMvQXBwLmpzPzgxYTIiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9pbmRleC5odG1sPzczY2YiLCJ3ZWJwYWNrOi8vdGljLXRhYy10b2UtZ2FtZS8uL3NyYy9mYXZpY29uLmljbz9hZTcwIiwid2VicGFjazovL3RpYy10YWMtdG9lLWdhbWUvLi9zcmMvaW5kZXguanM/ZDliZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTmV3R2FtZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAvLyBDcmVhdGVzIHRoZSBET00gZWxlbWVudHMgZm9yIGEgbW9kYWwgdGhhdCB0ZWxscyB0aGUgdXNlciB3aG8gd29uIGFuZCB0byBhbGxvdyB0aGVtIHRvIHN0YXJ0IGEgbmV3IGdhbWVcbiAgZnVuY3Rpb24gb3Blbk5ld0dhbWVNb2RhbChlbmRHYW1lTWVzc2FnZSwgd2lubmVyKSB7XG4gICAgdmFyIG5ld0dhbWVNb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5ld0dhbWVNb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICAgIG5ld0dhbWVNb2RhbC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ21vZGFsJyk7XG4gICAgbmV3R2FtZU1vZGFsLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3aW5uaW5nLXBsYXllci1pY29uXFxcIj48L2Rpdj5cXG4gICAgICAgIDxwPlwiLmNvbmNhdChlbmRHYW1lTWVzc2FnZSwgXCI8L3A+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b24tZ3JvdXBcXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiByZXN0YXJ0LWJ1dHRvblxcXCI+UGxheSBBZ2FpbjwvYnV0dG9uPlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiBnYW1lLXNldHRpbmdzLWJ1dHRvblxcXCI+U2V0dGluZ3M8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cIik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmFwcGVuZENoaWxkKG5ld0dhbWVNb2RhbCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcbiAgICByZW5kZXJXaW5uaW5nUGxheWVySWNvbih3aW5uZXIpO1xuICB9IC8vIFJlbW92ZXMgdGhlIERPTSBlbGVtZW50cyBmb3IgdGhlIG1vZGFsIHdoaWxlIGl0J3MgY3VycmVudGx5IGRpc3BsYXllZFxuXG5cbiAgZnVuY3Rpb24gY2xvc2VOZXdHYW1lTW9kYWwoKSB7XG4gICAgdmFyIG5ld0dhbWVNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpO1xuICAgIG5ld0dhbWVNb2RhbCA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5yZW1vdmVDaGlsZChuZXdHYW1lTW9kYWwpIDogbnVsbDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuICB9IC8vIENyZWF0ZXMgdGhlIERPTSBlbGVtZW50cyBmb3IgdGhlIGljb24gb2YgdGhlIHdpbm5pbmcgcGxheWVyIHRvIGJlIGRpc3BsYXllZCB3aXRoaW4gdGhlIG1vZGFsXG5cblxuICBmdW5jdGlvbiByZW5kZXJXaW5uaW5nUGxheWVySWNvbih3aW5uZXIpIHtcbiAgICB2YXIgd2lubmluZ1BsYXllckljb247XG5cbiAgICBpZiAod2lubmVyID09PSAnZHJhdycpIHtcbiAgICAgIHdpbm5pbmdQbGF5ZXJJY29uID0gXCJcXG4gICAgICA8c3BhbiBjbGFzcz1cXFwiZmFiIGZhLXJlYmVsIHJlYmVsbGlvbi1pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJmYWIgZmEtZW1waXJlIGVtcGlyZS1pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5uaW5nUGxheWVySWNvbiA9IFwiPHNwYW4gY2xhc3M9XFxcImZhYiBmYS1cIi5jb25jYXQod2lubmVyID09PSAnUmViZWxsaW9uJyA/ICdyZWJlbCcgOiAnZW1waXJlJywgXCIgXCIpLmNvbmNhdCh3aW5uZXIudG9Mb3dlckNhc2UoKSwgXCItaWNvblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvc3Bhbj5cIik7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbm5pbmctcGxheWVyLWljb24nKS5pbm5lckhUTUwgPSB3aW5uaW5nUGxheWVySWNvbjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgb3Blbk5ld0dhbWVNb2RhbDogb3Blbk5ld0dhbWVNb2RhbCxcbiAgICBjbG9zZU5ld0dhbWVNb2RhbDogY2xvc2VOZXdHYW1lTW9kYWxcbiAgfTtcbn0oKTtcblxuZXhwb3J0IHsgTmV3R2FtZU1vZGFsIH07IiwiaW1wb3J0IHsgR2FtZVNldHRpbmdzIH0gZnJvbSAnLi9HYW1lU2V0dGluZ3MnO1xuaW1wb3J0IHsgTmV3R2FtZU1vZGFsIH0gZnJvbSAnLi9OZXdHYW1lTW9kYWwnO1xuXG52YXIgR2FtZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gTGlzdCBvZiBwb3NzaWJpbGl0aWVzIGZvciBhIHBsYXllciB0byB3aW4gdGhlIGdhbWVcbiAgdmFyIHdpbm5pbmdDb21iaW5hdGlvbnMgPSBbWzAsIDEsIDJdLCBbMywgNCwgNV0sIFs2LCA3LCA4XSwgWzAsIDMsIDZdLCBbMSwgNCwgN10sIFsyLCA1LCA4XSwgWzAsIDQsIDhdLCBbMiwgNCwgNl1dOyAvLyBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZ2FtZSBib2FyZFxuXG4gIHZhciBib2FyZDtcbiAgdmFyIHBsYXllck9uZTtcbiAgdmFyIHBsYXllclR3bztcbiAgdmFyIGN1cnJlbnRQbGF5ZXIgPSBudWxsO1xuICB2YXIgYWlNb3ZlRGVsYXk7IC8vIEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGRhdGEgZm9yIGEgbmV3IHBsYXllciBmb3IgdGhlIGN1cnJlbnQgZ2FtZVxuXG4gIHZhciBQbGF5ZXIgPSBmdW5jdGlvbiBQbGF5ZXIocGxheWVyVHlwZSwgcGxheUFzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBsYXllclR5cGU6IHBsYXllclR5cGUsXG4gICAgICBwbGF5QXM6IHBsYXlBc1xuICAgIH07XG4gIH07IC8vIENyZWF0ZXMgdGhlIERPTSBlbGVtZW50cyBmb3IgdGhlIGdhbWUgYm9hcmRcblxuXG4gIGZ1bmN0aW9uIHJlbmRlckdhbWVCb2FyZChmaXJzdFBsYXllcikge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWNvbnRhaW5lcicpLmlubmVySFRNTCA9IFwiPGRpdiBjbGFzcz1cXFwiYm9hcmQtY29udGFpbmVyXFxcIj5cXG4gICAgICA8cCBjbGFzcz1cXFwiY3VycmVudC10dXJuLW1lc3NhZ2VcXFwiPlRoZSBcIi5jb25jYXQoZmlyc3RQbGF5ZXIucGxheUFzLCBcIiBnb2VzIGZpcnN0ITwvcD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJnYW1lLWJvYXJkXFxcIj5cXG4gICAgICAgIFwiKS5jb25jYXQoYm9hcmQubWFwKGZ1bmN0aW9uIChzcXVhcmUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzcXVhcmUtY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzcXVhcmUgZmFiXFxcIiBpZD1cXFwiXCIuY29uY2F0KGluZGV4LCBcIlxcXCI+PC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICB9KS5qb2luKCcnKSwgXCJcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiByZXN0YXJ0LWJ1dHRvblxcXCI+UmVzdGFydDwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cIik7XG4gIH0gLy8gUmVzZXRzIGFuZCByZW5kZXJzIHRoZSBnYW1lIGJvYXJkIGZvciBhIG5ldyBnYW1lXG5cblxuICBmdW5jdGlvbiBzdGFydE5ld0dhbWUoZ2FtZVNldHRpbmdzRGF0YSkge1xuICAgIGNsZWFyVGltZW91dChhaU1vdmVEZWxheSk7XG4gICAgYm9hcmQgPSBuZXcgQXJyYXkoOSkuZmlsbCgpLm1hcChmdW5jdGlvbiAoc3F1YXJlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0pO1xuXG4gICAgaWYgKGdhbWVTZXR0aW5nc0RhdGEucGxheWVycyA9PT0gJzEtcGxheWVyJykge1xuICAgICAgcGxheWVyT25lID0gUGxheWVyKCdodW1hbicsIGdhbWVTZXR0aW5nc0RhdGEucGxheUFzKTtcbiAgICAgIHBsYXllclR3byA9IFBsYXllcignYWknLCBnYW1lU2V0dGluZ3NEYXRhLnBsYXlBcyA9PT0gJ1JlYmVsbGlvbicgPyAnRW1waXJlJyA6ICdSZWJlbGxpb24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheWVyT25lID0gUGxheWVyKCdodW1hbicsICdSZWJlbGxpb24nKTtcbiAgICAgIHBsYXllclR3byA9IFBsYXllcignaHVtYW4nLCAnRW1waXJlJyk7XG4gICAgfVxuXG4gICAgY3VycmVudFBsYXllciA9IHBsYXllck9uZTtcbiAgICByZW5kZXJHYW1lQm9hcmQoY3VycmVudFBsYXllcik7XG4gICAgTmV3R2FtZU1vZGFsLmNsb3NlTmV3R2FtZU1vZGFsKCk7XG4gIH0gLy8gUGxheXMgdGhlIGN1cnJlbnQgcGxheWVyJ3Mgc2VsZWN0ZWQgc3F1YXJlIGFuZCB0aGVuIGNoYW5nZXMgdG8gdGhlIG9wcG9zaW5nIHBsYXllcidzIHR1cm4gaWYgdGhlIGdhbWUgaGFzbid0IGVuZGVkXG5cblxuICBmdW5jdGlvbiBwbGF5VHVybihzcXVhcmUpIHtcbiAgICBpZiAodHlwZW9mIGJvYXJkW3NxdWFyZV0gPT09ICdudW1iZXInKSB7XG4gICAgICBib2FyZFtzcXVhcmVdID0gY3VycmVudFBsYXllci5wbGF5QXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNxdWFyZSkuY2xhc3NMaXN0LmFkZChcImZhLVwiLmNvbmNhdChjdXJyZW50UGxheWVyLnBsYXlBcyA9PT0gJ1JlYmVsbGlvbicgPyAncmViZWwnIDogJ2VtcGlyZScpLCBcIlwiLmNvbmNhdChjdXJyZW50UGxheWVyLnBsYXlBcy50b0xvd2VyQ2FzZSgpLCBcIi1pY29uXCIpLCAnc2VsZWN0ZWQnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNxdWFyZSkuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY3VycmVudFBsYXllci5wbGF5QXMgPT09ICdSZWJlbGxpb24nID8gJ3JlYmVsJyA6ICdlbXBpcmUnKTtcblxuICAgICAgaWYgKGNoZWNrRm9yV2lubmVyKGN1cnJlbnRQbGF5ZXIpKSB7XG4gICAgICAgIGhpZ2hsaWdodFdpbm5pbmdTcXVhcmVzKGN1cnJlbnRQbGF5ZXIpO1xuICAgICAgICBlbmRHYW1lKGN1cnJlbnRQbGF5ZXIucGxheUFzKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hlY2tGb3JEcmF3KCkpIHtcbiAgICAgICAgZW5kR2FtZSgnZHJhdycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFBsYXllciA9PT0gcGxheWVyT25lID8gY3VycmVudFBsYXllciA9IHBsYXllclR3byA6IGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJPbmU7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50LXR1cm4tbWVzc2FnZScpLmlubmVySFRNTCA9IFwiSXQncyB0aGUgXCIuY29uY2F0KGN1cnJlbnRQbGF5ZXIucGxheUFzLCBcIidzIHR1cm4uXCIpO1xuICAgICAgICBpZiAoY3VycmVudFBsYXllci5wbGF5ZXJUeXBlID09PSAnYWknKSBhaU1vdmVEZWxheSA9IHNldFRpbWVvdXQoY2hhbmdlVG9BaVR1cm4sIDEyMDApO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBDbGljayBoYW5kbGVyIHRoYXQgYWxsb3dzIHRoZSBjdXJyZW50IHBsYXllciB0byBzZWxlY3QgYSBzcXVhcmUgaWYgaXQgaXMgdGhlIHVzZXIncyB0dXJuXG5cblxuICBmdW5jdGlvbiBzZWxlY3RTcXVhcmUoZXZlbnQpIHtcbiAgICBpZiAoY3VycmVudFBsYXllci5wbGF5ZXJUeXBlID09PSAnaHVtYW4nKSB7XG4gICAgICBwbGF5VHVybihldmVudC50YXJnZXQuaWQpO1xuICAgIH1cbiAgfSAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gcGxheSB0aGUgRWFzeSBBSSBvciB0aGUgSGFyZCBBSVxuXG5cbiAgZnVuY3Rpb24gY2hhbmdlVG9BaVR1cm4oKSB7XG4gICAgaWYgKEdhbWVTZXR0aW5ncy5yZXR1cm5HYW1lU2V0dGluZ3NEYXRhKCkuZGlmZmljdWx0eSA9PT0gJ2hhcmQnKSB7XG4gICAgICBwbGF5U21hcnRBaVR1cm4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxheVJhbmRvbUFpVHVybigpO1xuICAgIH1cbiAgfSAvLyBBSSBwaWNrcyBhbiB1bnBsYXllZCBzcXVhcmUgYXQgcmFuZG9tIChFYXN5IG1vZGUpXG5cblxuICBmdW5jdGlvbiBwbGF5UmFuZG9tQWlUdXJuKCkge1xuICAgIHZhciBhdmFpbGFibGVTcXVhcmVzID0gY2hlY2tBdmFpbGFibGVTcXVhcmVzKCk7XG4gICAgcGxheVR1cm4oYXZhaWxhYmxlU3F1YXJlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhdmFpbGFibGVTcXVhcmVzLmxlbmd0aCldKTtcbiAgfSAvLyBBSSBwaWNrcyBhbiB1bnBsYXllZCBzcXVhcmUgdXNpbmcgdGhlIG1pbmltYXggYWxnb3JpdGhtIChIYXJkIG1vZGUpXG5cblxuICBmdW5jdGlvbiBwbGF5U21hcnRBaVR1cm4oKSB7XG4gICAgcGxheVR1cm4oaGFuZGxlTWluaW1heChib2FyZCwgcGxheWVyVHdvLnBsYXlBcykuaW5kZXgpO1xuICB9IC8vIE1pbmltYXggYWxnb3JpdGhtIHdoaWNoIGRldGVybWluZXMgdGhlIGJlc3QgbW92ZSB0aGUgQUkgc2hvdWxkIHBsYXkgYWdhaW5zdCB0aGUgdXNlciBkdXJpbmcgaXRzIHR1cm5cblxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1pbmltYXgoYm9hcmRDb3B5LCBwbGF5ZXIpIHtcbiAgICB2YXIgYXZhaWxhYmxlU3F1YXJlcyA9IGNoZWNrQXZhaWxhYmxlU3F1YXJlcyhib2FyZENvcHkpO1xuICAgIHZhciBiZXN0VGVzdE1vdmUgPSBudWxsO1xuICAgIHZhciBiZXN0U2NvcmU7IC8vIEh1bWFuIHBsYXllciAobWluaW1pemluZyBwbGF5ZXIpXG5cbiAgICBpZiAoY2hlY2tGb3JXaW5uZXIocGxheWVyT25lKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcmU6IC0xXG4gICAgICB9O1xuICAgIH0gLy8gQUkgcGxheWVyIChtYXhpbWl6aW5nIHBsYXllcilcbiAgICBlbHNlIGlmIChjaGVja0Zvcldpbm5lcihwbGF5ZXJUd28pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY29yZTogMVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGNoZWNrRm9yRHJhdygpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY29yZTogMFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVjdXJzaXZlbHkgdGVzdHMgcG90ZW50aWFsIG1vdmUgb3V0Y29tZXMgZm9yIHRoZSBjdXJyZW50IHBsYXllclxuICAgICAgdmFyIHRlc3RNb3ZlcyA9IGF2YWlsYWJsZVNxdWFyZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHNxdWFyZSkge1xuICAgICAgICB2YXIgdGVzdE1vdmUgPSB7fTtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdGVzdE1vdmUuaW5kZXggPSBib2FyZENvcHlbc3F1YXJlXTtcbiAgICAgICAgYm9hcmRDb3B5W3NxdWFyZV0gPSBwbGF5ZXIudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBpZiAocGxheWVyID09PSBwbGF5ZXJUd28ucGxheUFzKSB7XG4gICAgICAgICAgcmVzdWx0ID0gaGFuZGxlTWluaW1heChib2FyZENvcHksIHBsYXllck9uZS5wbGF5QXMpO1xuICAgICAgICAgIHRlc3RNb3ZlLnNjb3JlID0gcmVzdWx0LnNjb3JlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZU1pbmltYXgoYm9hcmRDb3B5LCBwbGF5ZXJUd28ucGxheUFzKTtcbiAgICAgICAgICB0ZXN0TW92ZS5zY29yZSA9IHJlc3VsdC5zY29yZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvYXJkQ29weVtzcXVhcmVdID0gdGVzdE1vdmUuaW5kZXg7XG4gICAgICAgIGFjYy5wdXNoKHRlc3RNb3ZlKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIFtdKTsgLy8gVXNlcyBhcnJheSBvZiB0ZXN0IHNjb3JlcyB0byBkZXRlcm1pbmUgdGhlIGJlc3QgbW92ZSBmb3IgdGhlIEFJIHRvIHBsYXlcblxuICAgICAgaWYgKHBsYXllciA9PT0gcGxheWVyVHdvLnBsYXlBcykge1xuICAgICAgICBiZXN0U2NvcmUgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0TW92ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodGVzdE1vdmVzW2ldLnNjb3JlID4gYmVzdFNjb3JlKSB7XG4gICAgICAgICAgICBiZXN0U2NvcmUgPSB0ZXN0TW92ZXNbaV0uc2NvcmU7XG4gICAgICAgICAgICBiZXN0VGVzdE1vdmUgPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmVzdFNjb3JlID0gSW5maW5pdHk7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRlc3RNb3Zlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICBpZiAodGVzdE1vdmVzW19pXS5zY29yZSA8IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gdGVzdE1vdmVzW19pXS5zY29yZTtcbiAgICAgICAgICAgIGJlc3RUZXN0TW92ZSA9IF9pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGVzdE1vdmVzW2Jlc3RUZXN0TW92ZV07XG4gICAgfVxuICB9IC8vIENoZWNrcyB0byBzZWUgd2hpY2ggc3F1YXJlcyBvbiB0aGUgYm9hcmQgaGF2ZW4ndCBiZWVuIHBsYXllZCB5ZXQgaW4gdGhlIGN1cnJlbnQgZ2FtZVxuXG5cbiAgZnVuY3Rpb24gY2hlY2tBdmFpbGFibGVTcXVhcmVzKCkge1xuICAgIHJldHVybiBib2FyZC5maWx0ZXIoZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBzcXVhcmUgPT09ICdudW1iZXInO1xuICAgIH0pO1xuICB9IC8vIEFkZHMgYSBoaWdobGlnaHRlZCBiYWNrZ3JvdW5kIG9uIHRoZSB3aW5uaW5nIHNxdWFyZXMgd2hlbiBhIHBsYXllciB3aW5zXG5cblxuICBmdW5jdGlvbiBoaWdobGlnaHRXaW5uaW5nU3F1YXJlcyhwbGF5ZXIpIHtcbiAgICB2YXIgd2lubmluZ1NxdWFyZXMgPSBjaGVja0Zvcldpbm5lcihwbGF5ZXIpO1xuICAgIHJldHVybiB3aW5uaW5nU3F1YXJlcy5tYXAoZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3F1YXJlKS5jbGFzc0xpc3QuYWRkKCd3aW5uaW5nLXNxdWFyZScpO1xuICAgIH0pO1xuICB9IC8vIENoZWNrcyB0aGUgYm9hcmQgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHBsYXllciBoYXMgbWF0Y2hlZCBvbmUgb2YgdGhlIHBvc3NpYmxlIHdpbm5pbmcgY29tYmluYXRpb25zXG5cblxuICBmdW5jdGlvbiBjaGVja0Zvcldpbm5lcihwbGF5ZXIpIHtcbiAgICByZXR1cm4gd2lubmluZ0NvbWJpbmF0aW9ucy5maW5kKGZ1bmN0aW9uIChjb21iaW5hdGlvbikge1xuICAgICAgcmV0dXJuIGNvbWJpbmF0aW9uLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIGJvYXJkW3ZhbF0gPT09IHBsYXllci5wbGF5QXMudG9Mb3dlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IC8vIENoZWNrcyB0aGUgYm9hcmQgdG8gc2VlIGlmIGV2ZXJ5IHNxdWFyZSBoYXMgYmVlbiBmaWxsZWQgd2l0aG91dCBhIHdpbm5lclxuXG5cbiAgZnVuY3Rpb24gY2hlY2tGb3JEcmF3KCkge1xuICAgIHJldHVybiBib2FyZC5ldmVyeShmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHNxdWFyZSAhPT0gJ251bWJlcic7XG4gICAgfSk7XG4gIH0gLy8gRW5kcyB0aGUgY3VycmVudCBnYW1lIGlmIGEgcGxheWVyIGhhcyB3b24gb3IgaWYgdGhlcmUgaXMgYSBkcmF3XG5cblxuICBmdW5jdGlvbiBlbmRHYW1lKHdpbm5lcikge1xuICAgIHZhciBlbmRHYW1lTWVzc2FnZTtcbiAgICB3aW5uZXIgPT09ICdkcmF3JyA/IGVuZEdhbWVNZXNzYWdlID0gJ0l0XFwncyBhIGRyYXchJyA6IGVuZEdhbWVNZXNzYWdlID0gXCJUaGUgXCIuY29uY2F0KHdpbm5lciwgXCIgd29uIVwiKTtcbiAgICBOZXdHYW1lTW9kYWwub3Blbk5ld0dhbWVNb2RhbChlbmRHYW1lTWVzc2FnZSwgd2lubmVyKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3F1YXJlJykuZm9yRWFjaChmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZCgnZ2FtZS1lbmRlZCcpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydE5ld0dhbWU6IHN0YXJ0TmV3R2FtZSxcbiAgICBzZWxlY3RTcXVhcmU6IHNlbGVjdFNxdWFyZVxuICB9O1xufSgpO1xuXG5leHBvcnQgeyBHYW1lIH07IiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCB7IE5ld0dhbWVNb2RhbCB9IGZyb20gXCIuL05ld0dhbWVNb2RhbFwiO1xuXG52YXIgR2FtZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZ2FtZVNldHRpbmdzRGF0YTsgLy8gRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgZGF0YSBmb3IgYSBuZXcgc2V0dGluZ3MgZm9ybSBzdWJtaXNzaW9uXG5cbiAgdmFyIFNldHRpbmdzRm9ybURhdGEgPSBmdW5jdGlvbiBTZXR0aW5nc0Zvcm1EYXRhKHBsYXllcnMsIGRpZmZpY3VsdHksIHBsYXlBcykge1xuICAgIHJldHVybiB7XG4gICAgICBwbGF5ZXJzOiBwbGF5ZXJzLFxuICAgICAgZGlmZmljdWx0eTogZGlmZmljdWx0eSxcbiAgICAgIHBsYXlBczogcGxheUFzXG4gICAgfTtcbiAgfTsgLy8gQ3JlYXRlcyB0aGUgRE9NIGVsZW1lbnRzIGZvciB0aGUgZ2FtZSBzZXR0aW5ncyBmb3JtXG5cblxuICBmdW5jdGlvbiByZW5kZXJHYW1lU2V0dGluZ3MoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtY29udGFpbmVyJykuaW5uZXJIVE1MID0gXCI8ZGl2IGNsYXNzPVxcXCJnYW1lLXNldHRpbmdzLWNvbnRhaW5lclxcXCI+XFxuICAgICAgPGgzPlN0YXJ0IGEgTmV3IEdhbWU8L2gzPlxcbiAgICAgIDxmb3JtIGNsYXNzPVxcXCJnYW1lLXNldHRpbmdzLWZvcm1cXFwiIG5vdmFsaWRhdGU+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHBsYXllcnNcXFwiPlxcbiAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJwbGF5ZXJzLWlucHV0XFxcIj5QbGF5ZXJzOjwvbGFiZWw+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdC13cmFwcGVyXFxcIj5cXG4gICAgICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInBsYXllcnNcXFwiIGlkPVxcXCJwbGF5ZXJzLWlucHV0XFxcIiByZXF1aXJlZD5cXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjEtcGxheWVyXFxcIiBzZWxlY3RlZD5PcmdhbmljIHZzLiBEcm9pZCAoMS1QbGF5ZXIpPC9vcHRpb24+XFxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyLXBsYXllclxcXCI+T3JnYW5pYyB2cy4gT3JnYW5pYyAoMi1QbGF5ZXIpPC9vcHRpb24+XFxuICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b24tZ3JvdXBcXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ1dHRvbiBzdGFydC1idXR0b25cXFwiPlN0YXJ0PC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Zvcm0+XFxuICAgIDwvZGl2PlwiO1xuICAgIHRvZ2dsZU9uZVBsYXllclNldHRpbmdzKCcxLXBsYXllcicpO1xuICAgIE5ld0dhbWVNb2RhbC5jbG9zZU5ld0dhbWVNb2RhbCgpO1xuICB9IC8vIFNob3dzL0hpZGVzIHRoZSBzZXR0aW5ncyBvcHRpb25zIHRoYXQgYXBwbGllcyB0byBhIDEtcGxheWVyIGdhbWUgb25seVxuXG5cbiAgZnVuY3Rpb24gdG9nZ2xlT25lUGxheWVyU2V0dGluZ3MocGxheWVycykge1xuICAgIHZhciBvbmVQbGF5ZXJTZXR0aW5ncztcblxuICAgIGlmIChwbGF5ZXJzID09PSAnMS1wbGF5ZXInKSB7XG4gICAgICBvbmVQbGF5ZXJTZXR0aW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgb25lUGxheWVyU2V0dGluZ3MuY2xhc3NMaXN0LmFkZCgnb25lLXBsYXllci1zZXR0aW5ncycpO1xuICAgICAgb25lUGxheWVyU2V0dGluZ3MuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIG9uZS1wbGF5ZXItc2V0dGluZyBkaWZmaWN1bHR5XFxcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcImRpZmZpY3VsdHktaW5wdXRcXFwiPkRpZmZpY3VsdHk6PC9sYWJlbD5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdC13cmFwcGVyXFxcIj5cXG4gICAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJkaWZmaWN1bHR5XFxcIiBpZD1cXFwiZGlmZmljdWx0eS1pbnB1dFxcXCIgcmVxdWlyZWQ+XFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiZWFzeVxcXCIgc2VsZWN0ZWQ+RWFzeTwvb3B0aW9uPlxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImhhcmRcXFwiPkhhcmQ8L29wdGlvbj5cXG4gICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIG9uZS1wbGF5ZXItc2V0dGluZyBwbGF5LWFzXFxcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XFxcInBsYXktYXMtaW5wdXRcXFwiPlBsYXkgYXM6PC9sYWJlbD5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdC13cmFwcGVyXFxcIj5cXG4gICAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJwbGF5LWFzXFxcIiBpZD1cXFwicGxheS1hcy1pbnB1dFxcXCIgcmVxdWlyZWQ+XFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiUmViZWxsaW9uXFxcIiBzZWxlY3RlZD5SZWJlbCBBbGxpYW5jZTwvb3B0aW9uPlxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIkVtcGlyZVxcXCI+R2FsYWN0aWMgRW1waXJlPC9vcHRpb24+XFxuICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XCI7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1zZXR0aW5ncy1mb3JtJykuaW5zZXJ0QmVmb3JlKG9uZVBsYXllclNldHRpbmdzLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWdyb3VwJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbmVQbGF5ZXJTZXR0aW5ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLXNldHRpbmdzLWZvcm0gLm9uZS1wbGF5ZXItc2V0dGluZ3MnKTtcbiAgICAgIG9uZVBsYXllclNldHRpbmdzID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtc2V0dGluZ3MtZm9ybScpLnJlbW92ZUNoaWxkKG9uZVBsYXllclNldHRpbmdzKSA6IG51bGw7XG4gICAgfVxuICB9IC8vIFN1Ym1pdCBoYW5kbGVyIGZvciB0aGUgZ2FtZSBzZXR0aW5ncyBmb3JtXG5cblxuICBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZXZlbnQsIHBsYXllcnMpIHtcbiAgICB2YXIgZGlmZmljdWx0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICB2YXIgcGxheUFzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZ2FtZVNldHRpbmdzRGF0YSA9IFNldHRpbmdzRm9ybURhdGEocGxheWVycywgZGlmZmljdWx0eSwgcGxheUFzKTtcbiAgICBHYW1lLnN0YXJ0TmV3R2FtZShnYW1lU2V0dGluZ3NEYXRhKTtcbiAgfSAvLyBSZXR1cm5zIHRoZSB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgZ2FtZSBzZXR0aW5nc1xuXG5cbiAgZnVuY3Rpb24gcmV0dXJuR2FtZVNldHRpbmdzRGF0YSgpIHtcbiAgICByZXR1cm4gZ2FtZVNldHRpbmdzRGF0YTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVuZGVyR2FtZVNldHRpbmdzOiByZW5kZXJHYW1lU2V0dGluZ3MsXG4gICAgdG9nZ2xlT25lUGxheWVyU2V0dGluZ3M6IHRvZ2dsZU9uZVBsYXllclNldHRpbmdzLFxuICAgIGhhbmRsZVN1Ym1pdDogaGFuZGxlU3VibWl0LFxuICAgIHJldHVybkdhbWVTZXR0aW5nc0RhdGE6IHJldHVybkdhbWVTZXR0aW5nc0RhdGFcbiAgfTtcbn0oKTtcblxuZXhwb3J0IHsgR2FtZVNldHRpbmdzIH07IiwiaW1wb3J0IHN0YXJXYXJzTG9nbyBmcm9tICcuLi9pbWFnZXMvc3Rhci13YXJzLWxvZ28ucG5nJztcbmltcG9ydCB7IEdhbWVTZXR0aW5ncyB9IGZyb20gJy4vR2FtZVNldHRpbmdzJztcbmltcG9ydCB7IEdhbWUgfSBmcm9tICcuL0dhbWUnO1xuXG52YXIgQXBwID0gZnVuY3Rpb24gKCkge1xuICAvLyBDcmVhdGVzIHRoZSBET00gZWxlbWVudHMgZm9yIHRoZSB3ZWJwYWdlIGNvbnRlbnRcbiAgZnVuY3Rpb24gcmVuZGVyQXBwKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKS5pbm5lckhUTUwgPSBcIlxcbiAgICA8aGVhZGVyPlxcbiAgICAgIDxoMT5cXG4gICAgICAgIDxpbWcgc3JjPVxcXCJcIi5jb25jYXQoc3RhcldhcnNMb2dvLCBcIlxcXCIgY2xhc3M9XFxcInN0YXItd2Fycy1sb2dvXFxcIiBhbHQ9XFxcIlN0YXIgV2Fyc1xcXCIgLz5cXG4gICAgICA8L2gxPlxcbiAgICAgIDxoMj5UaWMtVGFjLVRvZTwvaDI+XFxuICAgIDwvaGVhZGVyPlxcbiAgICA8bWFpbj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJnYW1lLWNvbnRhaW5lclxcXCI+PC9kaXY+XFxuICAgIDwvbWFpbj5cXG4gICAgPGZvb3Rlcj5DcmVhdGVkIGJ5IDxhIGhyZWY9XFxcImh0dHBzOi8vYXV0dW1uY2hyaXMuZ2l0aHViLmlvL3BvcnRmb2xpb1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPkF1dHVtbiBCdWxsYXJkPC9hPiAmY29weTsgXCIpLmNvbmNhdChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksIFwiPC9mb290ZXI+XCIpO1xuICAgIEdhbWVTZXR0aW5ncy5yZW5kZXJHYW1lU2V0dGluZ3MoKTsgLy8gQ2xpY2sgRXZlbnQgTGlzdGVuZXJzXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICBlbGVtZW50Lm1hdGNoZXMoJy5zcXVhcmUnKSA/IEdhbWUuc2VsZWN0U3F1YXJlKGV2ZW50KSA6IG51bGw7XG4gICAgICBlbGVtZW50Lm1hdGNoZXMoJy5yZXN0YXJ0LWJ1dHRvbicpID8gR2FtZS5zdGFydE5ld0dhbWUoR2FtZVNldHRpbmdzLnJldHVybkdhbWVTZXR0aW5nc0RhdGEoKSkgOiBudWxsO1xuICAgICAgZWxlbWVudC5tYXRjaGVzKCcuZ2FtZS1zZXR0aW5ncy1idXR0b24nKSA/IEdhbWVTZXR0aW5ncy5yZW5kZXJHYW1lU2V0dGluZ3MoKSA6IG51bGw7XG4gICAgfSk7IC8vIENoYW5nZSBFdmVudCBMaXN0ZW5lcnNcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICBlbGVtZW50Lm1hdGNoZXMoJy5nYW1lLXNldHRpbmdzLWZvcm0gI3BsYXllcnMtaW5wdXQnKSA/IEdhbWVTZXR0aW5ncy50b2dnbGVPbmVQbGF5ZXJTZXR0aW5ncyhlbGVtZW50W2VsZW1lbnQuc2VsZWN0ZWRJbmRleF0udmFsdWUpIDogbnVsbDtcbiAgICB9KTsgLy8gU3VibWl0IEV2ZW50IExpc3RlbmVyc1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcygnLmdhbWUtc2V0dGluZ3MtZm9ybScpKSB7XG4gICAgICAgIGVsZW1lbnRbMV0ubmFtZSA9PT0gJ2RpZmZpY3VsdHknID8gR2FtZVNldHRpbmdzLmhhbmRsZVN1Ym1pdChldmVudCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcnMtaW5wdXQnKS52YWx1ZSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpZmZpY3VsdHktaW5wdXQnKS52YWx1ZSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXktYXMtaW5wdXQnKS52YWx1ZSkgOiBHYW1lU2V0dGluZ3MuaGFuZGxlU3VibWl0KGV2ZW50LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVycy1pbnB1dCcpLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVuZGVyQXBwOiByZW5kZXJBcHBcbiAgfTtcbn0oKTtcblxuZXhwb3J0IHsgQXBwIH07IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmF2aWNvbi5pY29cIjsiLCJpbXBvcnQgeyBBcHAgfSBmcm9tICcuL21vZHVsZXMvQXBwJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9pbmRleC5odG1sJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9mYXZpY29uLmljbyc7XG5pbXBvcnQgJ25vcm1hbGl6ZS5jc3MnO1xuaW1wb3J0ICcuL3N0eWxlc2hlZXRzL3N0eWxlLnNjc3MnO1xuQXBwLnJlbmRlckFwcCgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///378\n')},432:(e,n,l)=>{e.exports=l.p+"assets/008e3ccd596f5948b8b6.png"}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var l=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](l,l.exports,__webpack_require__),l.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var n=__webpack_require__.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var l=n.getElementsByTagName("script");l.length&&(e=l[l.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var __webpack_exports__=__webpack_require__(378)})();